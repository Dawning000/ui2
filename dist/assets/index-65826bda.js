(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Le={},Cs=[],wt=()=>{},wl=()=>!1,On=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Lo=e=>e.startsWith("onUpdate:"),Be=Object.assign,Oo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kr=Object.prototype.hasOwnProperty,De=(e,t)=>kr.call(e,t),ke=Array.isArray,Ss=e=>an(e)==="[object Map]",Ms=e=>an(e)==="[object Set]",va=e=>an(e)==="[object Date]",Pe=e=>typeof e=="function",qe=e=>typeof e=="string",Vt=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",kl=e=>(Oe(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),Cl=Object.prototype.toString,an=e=>Cl.call(e),Cr=e=>an(e).slice(8,-1),Sl=e=>an(e)==="[object Object]",Fo=e=>qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fs=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Sr=/-\w/g,bt=Fn(e=>e.replace(Sr,t=>t.slice(1).toUpperCase())),Pr=/\B([A-Z])/g,rs=Fn(e=>e.replace(Pr,"-$1").toLowerCase()),zn=Fn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zn=Fn(e=>e?`on${zn(e)}`:""),ss=(e,t)=>!Object.is(e,t),_n=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Pl=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Pn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},xr=e=>{const t=qe(e)?Number(e):NaN;return isNaN(t)?e:t};let fa;const Nn=()=>fa||(fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rt(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=qe(o)?Ir(o):Rt(o);if(a)for(const i in a)t[i]=a[i]}return t}else if(qe(e)||Oe(e))return e}const Tr=/;(?![^(]*\))/g,Ar=/:([^]+)/,Er=/\/\*[^]*?\*\//g;function Ir(e){const t={};return e.replace(Er,"").split(Tr).forEach(n=>{if(n){const o=n.split(Ar);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function fe(e){let t="";if(qe(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const o=fe(e[n]);o&&(t+=o+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Mr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dr=Uo(Mr);function xl(e){return!!e||e===""}function Vr(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ys(e[o],t[o]);return n}function ys(e,t){if(e===t)return!0;let n=va(e),o=va(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Vt(e),o=Vt(t),n||o)return e===t;if(n=ke(e),o=ke(t),n||o)return n&&o?Vr(e,t):!1;if(n=Oe(e),o=Oe(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!ys(e[r],t[r]))return!1}}return String(e)===String(t)}function zo(e,t){return e.findIndex(n=>ys(n,t))}const Tl=e=>!!(e&&e.__v_isRef===!0),y=e=>qe(e)?e:e==null?"":ke(e)||Oe(e)&&(e.toString===Cl||!Pe(e.toString))?Tl(e)?y(e.value):JSON.stringify(e,Al,2):String(e),Al=(e,t)=>Tl(t)?Al(e,t.value):Ss(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a],i)=>(n[Xn(o,i)+" =>"]=a,n),{})}:Ms(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xn(n))}:Vt(t)?Xn(t):Oe(t)&&!ke(t)&&!Sl(t)?String(t):t,Xn=(e,t="")=>{var n;return Vt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class El{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Il(e){return new El(e)}function Ml(){return Xe}function Rr(e,t=!1){Xe&&Xe.cleanups.push(e)}let ze;const eo=new WeakSet;class Dl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eo.has(this)&&(eo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pa(this),Ul(this);const t=ze,n=kt;ze=this,kt=!0;try{return this.fn()}finally{Ll(this),ze=t,kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qo(t);this.deps=this.depsTail=void 0,pa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_o(this)&&this.run()}get dirty(){return _o(this)}}let Vl=0,zs,Ns;function Rl(e,t=!1){if(e.flags|=8,t){e.next=Ns,Ns=e;return}e.next=zs,zs=e}function No(){Vl++}function jo(){if(--Vl>0)return;if(Ns){let t=Ns;for(Ns=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;zs;){let t=zs;for(zs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Ul(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ll(e){let t,n=e.depsTail,o=n;for(;o;){const a=o.prevDep;o.version===-1?(o===n&&(n=a),qo(o),Ur(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=n}function _o(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ol(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ol(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js)||(e.globalVersion=Js,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!_o(e))))return;e.flags|=2;const t=e.dep,n=ze,o=kt;ze=e,kt=!0;try{Ul(e);const a=e.fn(e._value);(t.version===0||ss(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{ze=n,kt=o,Ll(e),e.flags&=-3}}function qo(e,t=!1){const{dep:n,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)qo(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ur(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let kt=!0;const Fl=[];function Ht(){Fl.push(kt),kt=!1}function Bt(){const e=Fl.pop();kt=e===void 0?!0:e}function pa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ze;ze=void 0;try{t()}finally{ze=n}}}let Js=0;class Lr{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ho{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!kt||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Lr(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,zl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=o)}return n}trigger(t){this.version++,Js++,this.notify(t)}notify(t){No();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{jo()}}}function zl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)zl(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const xn=new WeakMap,ms=Symbol(""),bo=Symbol(""),Zs=Symbol("");function et(e,t,n){if(kt&&ze){let o=xn.get(e);o||xn.set(e,o=new Map);let a=o.get(n);a||(o.set(n,a=new Ho),a.map=o,a.key=n),a.track()}}function Nt(e,t,n,o,a,i){const r=xn.get(e);if(!r){Js++;return}const l=c=>{c&&c.trigger()};if(No(),t==="clear")r.forEach(l);else{const c=ke(e),f=c&&Fo(n);if(c&&n==="length"){const p=Number(o);r.forEach((u,m)=>{(m==="length"||m===Zs||!Vt(m)&&m>=p)&&l(u)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),f&&l(r.get(Zs)),t){case"add":c?f&&l(r.get("length")):(l(r.get(ms)),Ss(e)&&l(r.get(bo)));break;case"delete":c||(l(r.get(ms)),Ss(e)&&l(r.get(bo)));break;case"set":Ss(e)&&l(r.get(ms));break}}jo()}function Or(e,t){const n=xn.get(e);return n&&n.get(t)}function bs(e){const t=Ee(e);return t===e?t:(et(t,"iterate",Zs),ht(e)?t:t.map(We))}function jn(e){return et(e=Ee(e),"iterate",Zs),e}const Fr={__proto__:null,[Symbol.iterator](){return to(this,Symbol.iterator,We)},concat(...e){return bs(this).concat(...e.map(t=>ke(t)?bs(t):t))},entries(){return to(this,"entries",e=>(e[1]=We(e[1]),e))},every(e,t){return Lt(this,"every",e,t,void 0,arguments)},filter(e,t){return Lt(this,"filter",e,t,n=>n.map(We),arguments)},find(e,t){return Lt(this,"find",e,t,We,arguments)},findIndex(e,t){return Lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Lt(this,"findLast",e,t,We,arguments)},findLastIndex(e,t){return Lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return so(this,"includes",e)},indexOf(...e){return so(this,"indexOf",e)},join(e){return bs(this).join(e)},lastIndexOf(...e){return so(this,"lastIndexOf",e)},map(e,t){return Lt(this,"map",e,t,void 0,arguments)},pop(){return Vs(this,"pop")},push(...e){return Vs(this,"push",e)},reduce(e,...t){return ga(this,"reduce",e,t)},reduceRight(e,...t){return ga(this,"reduceRight",e,t)},shift(){return Vs(this,"shift")},some(e,t){return Lt(this,"some",e,t,void 0,arguments)},splice(...e){return Vs(this,"splice",e)},toReversed(){return bs(this).toReversed()},toSorted(e){return bs(this).toSorted(e)},toSpliced(...e){return bs(this).toSpliced(...e)},unshift(...e){return Vs(this,"unshift",e)},values(){return to(this,"values",We)}};function to(e,t,n){const o=jn(e),a=o[t]();return o!==e&&!ht(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const zr=Array.prototype;function Lt(e,t,n,o,a,i){const r=jn(e),l=r!==e&&!ht(e),c=r[t];if(c!==zr[t]){const u=c.apply(e,i);return l?We(u):u}let f=n;r!==e&&(l?f=function(u,m){return n.call(this,We(u),m,e)}:n.length>2&&(f=function(u,m){return n.call(this,u,m,e)}));const p=c.call(r,f,o);return l&&a?a(p):p}function ga(e,t,n,o){const a=jn(e);let i=n;return a!==e&&(ht(e)?n.length>3&&(i=function(r,l,c){return n.call(this,r,l,c,e)}):i=function(r,l,c){return n.call(this,r,We(l),c,e)}),a[t](i,...o)}function so(e,t,n){const o=Ee(e);et(o,"iterate",Zs);const a=o[t](...n);return(a===-1||a===!1)&&Wo(n[0])?(n[0]=Ee(n[0]),o[t](...n)):a}function Vs(e,t,n=[]){Ht(),No();const o=Ee(e)[t].apply(e,n);return jo(),Bt(),o}const Nr=Uo("__proto__,__v_isRef,__isVue"),Nl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function jr(e){Vt(e)||(e=String(e));const t=Ee(this);return et(t,"has",e),t.hasOwnProperty(e)}class jl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(a?i?Zr:Kl:i?Bl:Hl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=ke(t);if(!a){let c;if(r&&(c=Fr[n]))return c;if(n==="hasOwnProperty")return jr}const l=Reflect.get(t,n,He(t)?t:o);return(Vt(n)?Nl.has(n):Nr(n))||(a||et(t,"get",n),i)?l:He(l)?r&&Fo(n)?l:l.value:Oe(l)?a?Gl(l):it(l):l}}class ql extends jl{constructor(t=!1){super(!1,t)}set(t,n,o,a){let i=t[n];if(!this._isShallow){const c=os(i);if(!ht(o)&&!os(o)&&(i=Ee(i),o=Ee(o)),!ke(t)&&He(i)&&!He(o))return c||(i.value=o),!0}const r=ke(t)&&Fo(n)?Number(n)<t.length:De(t,n),l=Reflect.set(t,n,o,He(t)?t:a);return t===Ee(a)&&(r?ss(o,i)&&Nt(t,"set",n,o):Nt(t,"add",n,o)),l}deleteProperty(t,n){const o=De(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&o&&Nt(t,"delete",n,void 0),a}has(t,n){const o=Reflect.has(t,n);return(!Vt(n)||!Nl.has(n))&&et(t,"has",n),o}ownKeys(t){return et(t,"iterate",ke(t)?"length":ms),Reflect.ownKeys(t)}}class qr extends jl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hr=new ql,Br=new qr,Kr=new ql(!0);const $o=e=>e,fn=e=>Reflect.getPrototypeOf(e);function Wr(e,t,n){return function(...o){const a=this.__v_raw,i=Ee(a),r=Ss(i),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,f=a[e](...o),p=n?$o:t?Tn:We;return!t&&et(i,"iterate",c?bo:ms),{next(){const{value:u,done:m}=f.next();return m?{value:u,done:m}:{value:l?[p(u[0]),p(u[1])]:p(u),done:m}},[Symbol.iterator](){return this}}}}function pn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gr(e,t){const n={get(a){const i=this.__v_raw,r=Ee(i),l=Ee(a);e||(ss(a,l)&&et(r,"get",a),et(r,"get",l));const{has:c}=fn(r),f=t?$o:e?Tn:We;if(c.call(r,a))return f(i.get(a));if(c.call(r,l))return f(i.get(l));i!==r&&i.get(a)},get size(){const a=this.__v_raw;return!e&&et(Ee(a),"iterate",ms),a.size},has(a){const i=this.__v_raw,r=Ee(i),l=Ee(a);return e||(ss(a,l)&&et(r,"has",a),et(r,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const r=this,l=r.__v_raw,c=Ee(l),f=t?$o:e?Tn:We;return!e&&et(c,"iterate",ms),l.forEach((p,u)=>a.call(i,f(p),f(u),r))}};return Be(n,e?{add:pn("add"),set:pn("set"),delete:pn("delete"),clear:pn("clear")}:{add(a){!t&&!ht(a)&&!os(a)&&(a=Ee(a));const i=Ee(this);return fn(i).has.call(i,a)||(i.add(a),Nt(i,"add",a,a)),this},set(a,i){!t&&!ht(i)&&!os(i)&&(i=Ee(i));const r=Ee(this),{has:l,get:c}=fn(r);let f=l.call(r,a);f||(a=Ee(a),f=l.call(r,a));const p=c.call(r,a);return r.set(a,i),f?ss(i,p)&&Nt(r,"set",a,i):Nt(r,"add",a,i),this},delete(a){const i=Ee(this),{has:r,get:l}=fn(i);let c=r.call(i,a);c||(a=Ee(a),c=r.call(i,a)),l&&l.call(i,a);const f=i.delete(a);return c&&Nt(i,"delete",a,void 0),f},clear(){const a=Ee(this),i=a.size!==0,r=a.clear();return i&&Nt(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Wr(a,e,t)}),n}function Bo(e,t){const n=Gr(e,t);return(o,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(De(n,a)&&a in o?n:o,a,i)}const Yr={get:Bo(!1,!1)},Qr={get:Bo(!1,!0)},Jr={get:Bo(!0,!1)};const Hl=new WeakMap,Bl=new WeakMap,Kl=new WeakMap,Zr=new WeakMap;function Xr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eu(e){return e.__v_skip||!Object.isExtensible(e)?0:Xr(Cr(e))}function it(e){return os(e)?e:Ko(e,!1,Hr,Yr,Hl)}function Wl(e){return Ko(e,!1,Kr,Qr,Bl)}function Gl(e){return Ko(e,!0,Br,Jr,Kl)}function Ko(e,t,n,o,a){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=eu(e);if(i===0)return e;const r=a.get(e);if(r)return r;const l=new Proxy(e,i===2?o:n);return a.set(e,l),l}function ns(e){return os(e)?ns(e.__v_raw):!!(e&&e.__v_isReactive)}function os(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function Wo(e){return e?!!e.__v_raw:!1}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function Go(e){return!De(e,"__v_skip")&&Object.isExtensible(e)&&Pl(e,"__v_skip",!0),e}const We=e=>Oe(e)?it(e):e,Tn=e=>Oe(e)?Gl(e):e;function He(e){return e?e.__v_isRef===!0:!1}function M(e){return Yl(e,!1)}function tu(e){return Yl(e,!0)}function Yl(e,t){return He(e)?e:new su(e,t)}class su{constructor(t,n){this.dep=new Ho,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ee(t),this._value=n?t:We(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ht(t)||os(t);t=o?t:Ee(t),ss(t,n)&&(this._rawValue=t,this._value=o?t:We(t),this.dep.trigger())}}function $e(e){return He(e)?e.value:e}const nu={get:(e,t,n)=>t==="__v_raw"?e:$e(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return He(a)&&!He(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function Ql(e){return ns(e)?e:new Proxy(e,nu)}function ou(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=lu(e,n);return t}class au{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Or(Ee(this._object),this._key)}}function lu(e,t,n){const o=e[t];return He(o)?o:new au(e,t,n)}class iu{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ho(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Rl(this,!0),!0}get value(){const t=this.dep.track();return Ol(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ru(e,t,n=!1){let o,a;return Pe(e)?o=e:(o=e.get,a=e.set),new iu(o,a,n)}const gn={},An=new WeakMap;let fs;function uu(e,t=!1,n=fs){if(n){let o=An.get(n);o||An.set(n,o=[]),o.push(e)}}function cu(e,t,n=Le){const{immediate:o,deep:a,once:i,scheduler:r,augmentJob:l,call:c}=n,f=N=>a?N:ht(N)||a===!1||a===0?jt(N,1):jt(N);let p,u,m,g,S=!1,V=!1;if(He(e)?(u=()=>e.value,S=ht(e)):ns(e)?(u=()=>f(e),S=!0):ke(e)?(V=!0,S=e.some(N=>ns(N)||ht(N)),u=()=>e.map(N=>{if(He(N))return N.value;if(ns(N))return f(N);if(Pe(N))return c?c(N,2):N()})):Pe(e)?t?u=c?()=>c(e,2):e:u=()=>{if(m){Ht();try{m()}finally{Bt()}}const N=fs;fs=p;try{return c?c(e,3,[g]):e(g)}finally{fs=N}}:u=wt,t&&a){const N=u,H=a===!0?1/0:a;u=()=>jt(N(),H)}const F=Ml(),q=()=>{p.stop(),F&&F.active&&Oo(F.effects,p)};if(i&&t){const N=t;t=(...H)=>{N(...H),q()}}let K=V?new Array(e.length).fill(gn):gn;const B=N=>{if(!(!(p.flags&1)||!p.dirty&&!N))if(t){const H=p.run();if(a||S||(V?H.some((P,ee)=>ss(P,K[ee])):ss(H,K))){m&&m();const P=fs;fs=p;try{const ee=[H,K===gn?void 0:V&&K[0]===gn?[]:K,g];K=H,c?c(t,3,ee):t(...ee)}finally{fs=P}}}else p.run()};return l&&l(B),p=new Dl(u),p.scheduler=r?()=>r(B,!1):B,g=N=>uu(N,!1,p),m=p.onStop=()=>{const N=An.get(p);if(N){if(c)c(N,4);else for(const H of N)H();An.delete(p)}},t?o?B(!0):K=p.run():r?r(B.bind(null,!0),!0):p.run(),q.pause=p.pause.bind(p),q.resume=p.resume.bind(p),q.stop=q,q}function jt(e,t=1/0,n){if(t<=0||!Oe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,He(e))jt(e.value,t,n);else if(ke(e))for(let o=0;o<e.length;o++)jt(e[o],t,n);else if(Ms(e)||Ss(e))e.forEach(o=>{jt(o,t,n)});else if(Sl(e)){for(const o in e)jt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&jt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ln(e,t,n,o){try{return o?e(...o):e()}catch(a){qn(a,t,n)}}function St(e,t,n,o){if(Pe(e)){const a=ln(e,t,n,o);return a&&kl(a)&&a.catch(i=>{qn(i,t,n)}),a}if(ke(e)){const a=[];for(let i=0;i<e.length;i++)a.push(St(e[i],t,n,o));return a}}function qn(e,t,n,o=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Le;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let u=0;u<p.length;u++)if(p[u](e,c,f)===!1)return}l=l.parent}if(i){Ht(),ln(i,null,10,[e,c,f]),Bt();return}}du(e,n,a,o,r)}function du(e,t,n,o=!0,a=!1){if(a)throw e;console.error(e)}const at=[];let It=-1;const Ps=[];let Zt=null,ws=0;const Jl=Promise.resolve();let En=null;function rn(e){const t=En||Jl;return e?t.then(this?e.bind(this):e):t}function vu(e){let t=It+1,n=at.length;for(;t<n;){const o=t+n>>>1,a=at[o],i=Xs(a);i<e||i===e&&a.flags&2?t=o+1:n=o}return t}function Yo(e){if(!(e.flags&1)){const t=Xs(e),n=at[at.length-1];!n||!(e.flags&2)&&t>=Xs(n)?at.push(e):at.splice(vu(t),0,e),e.flags|=1,Zl()}}function Zl(){En||(En=Jl.then(ei))}function fu(e){ke(e)?Ps.push(...e):Zt&&e.id===-1?Zt.splice(ws+1,0,e):e.flags&1||(Ps.push(e),e.flags|=1),Zl()}function ma(e,t,n=It+1){for(;n<at.length;n++){const o=at[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;at.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Xl(e){if(Ps.length){const t=[...new Set(Ps)].sort((n,o)=>Xs(n)-Xs(o));if(Ps.length=0,Zt){Zt.push(...t);return}for(Zt=t,ws=0;ws<Zt.length;ws++){const n=Zt[ws];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zt=null,ws=0}}const Xs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ei(e){const t=wt;try{for(It=0;It<at.length;It++){const n=at[It];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),ln(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;It<at.length;It++){const n=at[It];n&&(n.flags&=-2)}It=-1,at.length=0,Xl(),En=null,(at.length||Ps.length)&&ei()}}let pt=null,ti=null;function In(e){const t=pt;return pt=e,ti=e&&e.type.__scopeId||null,t}function Ce(e,t=pt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&Vn(-1);const i=In(t);let r;try{r=e(...a)}finally{In(i),o._d&&Vn(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function J(e,t){if(pt===null)return e;const n=Gn(pt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,r,l,c=Le]=t[a];i&&(Pe(i)&&(i={mounted:i,updated:i}),i.deep&&jt(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function us(e,t,n,o){const a=e.dirs,i=t&&t.dirs;for(let r=0;r<a.length;r++){const l=a[r];i&&(l.oldValue=i[r].value);let c=l.dir[o];c&&(Ht(),St(c,n,8,[e.el,l,e,t]),Bt())}}const si=Symbol("_vte"),ni=e=>e.__isTeleport,js=e=>e&&(e.disabled||e.disabled===""),ha=e=>e&&(e.defer||e.defer===""),ya=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_a=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,wo=(e,t)=>{const n=e&&e.to;return qe(n)?t?t(n):null:n},oi={name:"Teleport",__isTeleport:!0,process(e,t,n,o,a,i,r,l,c,f){const{mc:p,pc:u,pbc:m,o:{insert:g,querySelector:S,createText:V,createComment:F}}=f,q=js(t.props);let{shapeFlag:K,children:B,dynamicChildren:N}=t;if(e==null){const H=t.el=V(""),P=t.anchor=V("");g(H,n,o),g(P,n,o);const ee=(_,O)=>{K&16&&(a&&a.isCE&&(a.ce._teleportTarget=_),p(B,_,O,a,i,r,l,c))},A=()=>{const _=t.target=wo(t.props,S),O=li(_,t,V,g);_&&(r!=="svg"&&ya(_)?r="svg":r!=="mathml"&&_a(_)&&(r="mathml"),q||(ee(_,O),bn(t,!1)))};q&&(ee(n,P),bn(t,!0)),ha(t.props)?(t.el.__isMounted=!1,nt(()=>{A(),delete t.el.__isMounted},i)):A()}else{if(ha(t.props)&&e.el.__isMounted===!1){nt(()=>{oi.process(e,t,n,o,a,i,r,l,c,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const H=t.anchor=e.anchor,P=t.target=e.target,ee=t.targetAnchor=e.targetAnchor,A=js(e.props),_=A?n:P,O=A?H:ee;if(r==="svg"||ya(P)?r="svg":(r==="mathml"||_a(P))&&(r="mathml"),N?(m(e.dynamicChildren,N,_,a,i,r,l),ta(e,t,!0)):c||u(e,t,_,O,a,i,r,l,!1),q)A?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):mn(t,n,H,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const j=t.target=wo(t.props,S);j&&mn(t,j,null,f,0)}else A&&mn(t,P,ee,f,1);bn(t,q)}},remove(e,t,n,{um:o,o:{remove:a}},i){const{shapeFlag:r,children:l,anchor:c,targetStart:f,targetAnchor:p,target:u,props:m}=e;if(u&&(a(f),a(p)),i&&a(c),r&16){const g=i||!js(m);for(let S=0;S<l.length;S++){const V=l[S];o(V,t,n,g,!!V.dynamicChildren)}}},move:mn,hydrate:pu};function mn(e,t,n,{o:{insert:o},m:a},i=2){i===0&&o(e.targetAnchor,t,n);const{el:r,anchor:l,shapeFlag:c,children:f,props:p}=e,u=i===2;if(u&&o(r,t,n),(!u||js(p))&&c&16)for(let m=0;m<f.length;m++)a(f[m],t,n,2);u&&o(l,t,n)}function pu(e,t,n,o,a,i,{o:{nextSibling:r,parentNode:l,querySelector:c,insert:f,createText:p}},u){function m(V,F,q,K){F.anchor=u(r(V),F,l(V),n,o,a,i),F.targetStart=q,F.targetAnchor=K}const g=t.target=wo(t.props,c),S=js(t.props);if(g){const V=g._lpa||g.firstChild;if(t.shapeFlag&16)if(S)m(e,t,V,V&&r(V));else{t.anchor=r(e);let F=V;for(;F;){if(F&&F.nodeType===8){if(F.data==="teleport start anchor")t.targetStart=F;else if(F.data==="teleport anchor"){t.targetAnchor=F,g._lpa=t.targetAnchor&&r(t.targetAnchor);break}}F=r(F)}t.targetAnchor||li(g,t,p,f),u(V&&r(V),t,g,n,o,a,i)}bn(t,S)}else S&&t.shapeFlag&16&&m(e,t,e,r(e));return t.anchor&&r(t.anchor)}const ai=oi;function bn(e,t){const n=e.ctx;if(n&&n.ut){let o,a;for(t?(o=e.el,a=e.anchor):(o=e.targetStart,a=e.targetAnchor);o&&o!==a;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function li(e,t,n,o){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[si]=i,e&&(o(a,e),o(i,e)),i}const zt=Symbol("_leaveCb"),hn=Symbol("_enterCb");function ii(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{e.isMounted=!0}),gi(()=>{e.isUnmounting=!0}),e}const mt=[Function,Array],ri={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mt,onEnter:mt,onAfterEnter:mt,onEnterCancelled:mt,onBeforeLeave:mt,onLeave:mt,onAfterLeave:mt,onLeaveCancelled:mt,onBeforeAppear:mt,onAppear:mt,onAfterAppear:mt,onAppearCancelled:mt},ui=e=>{const t=e.subTree;return t.component?ui(t.component):t},gu={name:"BaseTransition",props:ri,setup(e,{slots:t}){const n=un(),o=ii();return()=>{const a=t.default&&Qo(t.default(),!0);if(!a||!a.length)return;const i=ci(a),r=Ee(e),{mode:l}=r;if(o.isLeaving)return no(i);const c=ba(i);if(!c)return no(i);let f=en(c,r,o,n,u=>f=u);c.type!==lt&&_s(c,f);let p=n.subTree&&ba(n.subTree);if(p&&p.type!==lt&&!gs(p,c)&&ui(n).type!==lt){let u=en(p,r,o,n);if(_s(p,u),l==="out-in"&&c.type!==lt)return o.isLeaving=!0,u.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,p=void 0},no(i);l==="in-out"&&c.type!==lt?u.delayLeave=(m,g,S)=>{const V=di(o,p);V[String(p.key)]=p,m[zt]=()=>{g(),m[zt]=void 0,delete f.delayedLeave,p=void 0},f.delayedLeave=()=>{S(),delete f.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return i}}};function ci(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==lt){t=n;break}}return t}const mu=gu;function di(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function en(e,t,n,o,a){const{appear:i,mode:r,persisted:l=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:p,onEnterCancelled:u,onBeforeLeave:m,onLeave:g,onAfterLeave:S,onLeaveCancelled:V,onBeforeAppear:F,onAppear:q,onAfterAppear:K,onAppearCancelled:B}=t,N=String(e.key),H=di(n,e),P=(_,O)=>{_&&St(_,o,9,O)},ee=(_,O)=>{const j=O[1];P(_,O),ke(_)?_.every(T=>T.length<=1)&&j():_.length<=1&&j()},A={mode:r,persisted:l,beforeEnter(_){let O=c;if(!n.isMounted)if(i)O=F||c;else return;_[zt]&&_[zt](!0);const j=H[N];j&&gs(e,j)&&j.el[zt]&&j.el[zt](),P(O,[_])},enter(_){let O=f,j=p,T=u;if(!n.isMounted)if(i)O=q||f,j=K||p,T=B||u;else return;let x=!1;const I=_[hn]=C=>{x||(x=!0,C?P(T,[_]):P(j,[_]),A.delayedLeave&&A.delayedLeave(),_[hn]=void 0)};O?ee(O,[_,I]):I()},leave(_,O){const j=String(e.key);if(_[hn]&&_[hn](!0),n.isUnmounting)return O();P(m,[_]);let T=!1;const x=_[zt]=I=>{T||(T=!0,O(),I?P(V,[_]):P(S,[_]),_[zt]=void 0,H[j]===e&&delete H[j])};H[j]=e,g?ee(g,[_,x]):x()},clone(_){const O=en(_,t,n,o,a);return a&&a(O),O}};return A}function no(e){if(Hn(e))return e=as(e),e.children=null,e}function ba(e){if(!Hn(e))return ni(e.type)&&e.children?ci(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Pe(n.default))return n.default()}}function _s(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_s(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qo(e,t=!1,n){let o=[],a=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===se?(r.patchFlag&128&&a++,o=o.concat(Qo(r.children,t,l))):(t||r.type!==lt)&&o.push(l!=null?as(r,{key:l}):r)}if(a>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function Ne(e,t){return Pe(e)?(()=>Be({name:e.name},t,{setup:e}))():e}function vi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Mn=new WeakMap;function qs(e,t,n,o,a=!1){if(ke(e)){e.forEach((S,V)=>qs(S,t&&(ke(t)?t[V]:t),n,o,a));return}if(Hs(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&qs(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Gn(o.component):o.el,r=a?null:i,{i:l,r:c}=e,f=t&&t.r,p=l.refs===Le?l.refs={}:l.refs,u=l.setupState,m=Ee(u),g=u===Le?wl:S=>De(m,S);if(f!=null&&f!==c){if($a(t),qe(f))p[f]=null,g(f)&&(u[f]=null);else if(He(f)){f.value=null;const S=t;S.k&&(p[S.k]=null)}}if(Pe(c))ln(c,l,12,[r,p]);else{const S=qe(c),V=He(c);if(S||V){const F=()=>{if(e.f){const q=S?g(c)?u[c]:p[c]:c.value;if(a)ke(q)&&Oo(q,i);else if(ke(q))q.includes(i)||q.push(i);else if(S)p[c]=[i],g(c)&&(u[c]=p[c]);else{const K=[i];c.value=K,e.k&&(p[e.k]=K)}}else S?(p[c]=r,g(c)&&(u[c]=r)):V&&(c.value=r,e.k&&(p[e.k]=r))};if(r){const q=()=>{F(),Mn.delete(e)};q.id=-1,Mn.set(e,q),nt(q,n)}else $a(e),F()}}}function $a(e){const t=Mn.get(e);t&&(t.flags|=8,Mn.delete(e))}Nn().requestIdleCallback;Nn().cancelIdleCallback;const Hs=e=>!!e.type.__asyncLoader,Hn=e=>e.type.__isKeepAlive;function hu(e,t){fi(e,"a",t)}function yu(e,t){fi(e,"da",t)}function fi(e,t,n=tt){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Bn(t,o,n),n){let a=n.parent;for(;a&&a.parent;)Hn(a.parent.vnode)&&_u(o,t,n,a),a=a.parent}}function _u(e,t,n,o){const a=Bn(t,e,o,!0);Jo(()=>{Oo(o[t],a)},n)}function Bn(e,t,n=tt,o=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ht();const l=cn(n),c=St(t,n,e,r);return l(),Bt(),c});return o?a.unshift(i):a.push(i),i}}const Wt=e=>(t,n=tt)=>{(!sn||e==="sp")&&Bn(e,(...o)=>t(...o),n)},bu=Wt("bm"),je=Wt("m"),$u=Wt("bu"),pi=Wt("u"),gi=Wt("bum"),Jo=Wt("um"),wu=Wt("sp"),ku=Wt("rtg"),Cu=Wt("rtc");function Su(e,t=tt){Bn("ec",e,t)}const mi="components",Pu="directives";function dt(e,t){return yi(mi,e,!0,t)||e}const xu=Symbol.for("v-ndc");function hi(e){return yi(Pu,e)}function yi(e,t,n=!0,o=!1){const a=pt||tt;if(a){const i=a.type;if(e===mi){const l=gc(i,!1);if(l&&(l===t||l===bt(t)||l===zn(bt(t))))return i}const r=wa(a[e]||i[e],t)||wa(a.appContext[e],t);return!r&&o?i:r}}function wa(e,t){return e&&(e[t]||e[bt(t)]||e[zn(bt(t))])}function ve(e,t,n,o){let a;const i=n&&n[o],r=ke(e);if(r||qe(e)){const l=r&&ns(e);let c=!1,f=!1;l&&(c=!ht(e),f=os(e),e=jn(e)),a=new Array(e.length);for(let p=0,u=e.length;p<u;p++)a[p]=t(c?f?Tn(We(e[p])):We(e[p]):e[p],p,void 0,i&&i[p])}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,i&&i[l])}else if(Oe(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,i&&i[c]));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const p=l[c];a[c]=t(e[p],p,c,i&&i[c])}}else a=[];return n&&(n[o]=a),a}const ko=e=>e?Ui(e)?Gn(e):ko(e.parent):null,Bs=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ko(e.parent),$root:e=>ko(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zo(e),$forceUpdate:e=>e.f||(e.f=()=>{Yo(e.update)}),$nextTick:e=>e.n||(e.n=rn.bind(e.proxy)),$watch:e=>Yu.bind(e)}),oo=(e,t)=>e!==Le&&!e.__isScriptSetup&&De(e,t),Tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:a,props:i,accessCache:r,type:l,appContext:c}=e;let f;if(t[0]!=="$"){const g=r[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(oo(o,t))return r[t]=1,o[t];if(a!==Le&&De(a,t))return r[t]=2,a[t];if((f=e.propsOptions[0])&&De(f,t))return r[t]=3,i[t];if(n!==Le&&De(n,t))return r[t]=4,n[t];Co&&(r[t]=0)}}const p=Bs[t];let u,m;if(p)return t==="$attrs"&&et(e.attrs,"get",""),p(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==Le&&De(n,t))return r[t]=4,n[t];if(m=c.config.globalProperties,De(m,t))return m[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:i}=e;return oo(a,t)?(a[t]=n,!0):o!==Le&&De(o,t)?(o[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:i,type:r}},l){let c,f;return!!(n[l]||e!==Le&&l[0]!=="$"&&De(e,l)||oo(t,l)||(c=i[0])&&De(c,l)||De(o,l)||De(Bs,l)||De(a.config.globalProperties,l)||(f=r.__cssModules)&&f[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ka(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Co=!0;function Au(e){const t=Zo(e),n=e.proxy,o=e.ctx;Co=!1,t.beforeCreate&&Ca(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:r,watch:l,provide:c,inject:f,created:p,beforeMount:u,mounted:m,beforeUpdate:g,updated:S,activated:V,deactivated:F,beforeDestroy:q,beforeUnmount:K,destroyed:B,unmounted:N,render:H,renderTracked:P,renderTriggered:ee,errorCaptured:A,serverPrefetch:_,expose:O,inheritAttrs:j,components:T,directives:x,filters:I}=t;if(f&&Eu(f,o,null),r)for(const $ in r){const Q=r[$];Pe(Q)&&(o[$]=Q.bind(n))}if(a){const $=a.call(n,n);Oe($)&&(e.data=it($))}if(Co=!0,i)for(const $ in i){const Q=i[$],xe=Pe(Q)?Q.bind(n,n):Pe(Q.get)?Q.get.bind(n,n):wt,re=!Pe(Q)&&Pe(Q.set)?Q.set.bind(n):wt,X=_e({get:xe,set:re});Object.defineProperty(o,$,{enumerable:!0,configurable:!0,get:()=>X.value,set:ce=>X.value=ce})}if(l)for(const $ in l)_i(l[$],o,n,$);if(c){const $=Pe(c)?c.call(n):c;Reflect.ownKeys($).forEach(Q=>{$n(Q,$[Q])})}p&&Ca(p,e,"c");function W($,Q){ke(Q)?Q.forEach(xe=>$(xe.bind(n))):Q&&$(Q.bind(n))}if(W(bu,u),W(je,m),W($u,g),W(pi,S),W(hu,V),W(yu,F),W(Su,A),W(Cu,P),W(ku,ee),W(gi,K),W(Jo,N),W(wu,_),ke(O))if(O.length){const $=e.exposed||(e.exposed={});O.forEach(Q=>{Object.defineProperty($,Q,{get:()=>n[Q],set:xe=>n[Q]=xe,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===wt&&(e.render=H),j!=null&&(e.inheritAttrs=j),T&&(e.components=T),x&&(e.directives=x),_&&vi(e)}function Eu(e,t,n=wt){ke(e)&&(e=So(e));for(const o in e){const a=e[o];let i;Oe(a)?"default"in a?i=yt(a.from||o,a.default,!0):i=yt(a.from||o):i=yt(a),He(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function Ca(e,t,n){St(ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function _i(e,t,n,o){let a=o.includes(".")?Ii(n,o):()=>n[o];if(qe(e)){const i=t[e];Pe(i)&&Ye(a,i)}else if(Pe(e))Ye(a,e.bind(n));else if(Oe(e))if(ke(e))e.forEach(i=>_i(i,t,n,o));else{const i=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(i)&&Ye(a,i,e)}}function Zo(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let c;return l?c=l:!a.length&&!n&&!o?c=t:(c={},a.length&&a.forEach(f=>Dn(c,f,r,!0)),Dn(c,t,r)),Oe(t)&&i.set(t,c),c}function Dn(e,t,n,o=!1){const{mixins:a,extends:i}=t;i&&Dn(e,i,n,!0),a&&a.forEach(r=>Dn(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=Iu[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Iu={data:Sa,props:Pa,emits:Pa,methods:Os,computed:Os,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Os,directives:Os,watch:Du,provide:Sa,inject:Mu};function Sa(e,t){return t?e?function(){return Be(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function Mu(e,t){return Os(So(e),So(t))}function So(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function Os(e,t){return e?Be(Object.create(null),e,t):t}function Pa(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Be(Object.create(null),ka(e),ka(t??{})):t}function Du(e,t){if(!e)return t;if(!t)return e;const n=Be(Object.create(null),e);for(const o in t)n[o]=st(e[o],t[o]);return n}function bi(){return{app:null,config:{isNativeTag:wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vu=0;function Ru(e,t){return function(o,a=null){Pe(o)||(o=Be({},o)),a!=null&&!Oe(a)&&(a=null);const i=bi(),r=new WeakSet,l=[];let c=!1;const f=i.app={_uid:Vu++,_component:o,_props:a,_container:null,_context:i,_instance:null,version:hc,get config(){return i.config},set config(p){},use(p,...u){return r.has(p)||(p&&Pe(p.install)?(r.add(p),p.install(f,...u)):Pe(p)&&(r.add(p),p(f,...u))),f},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),f},component(p,u){return u?(i.components[p]=u,f):i.components[p]},directive(p,u){return u?(i.directives[p]=u,f):i.directives[p]},mount(p,u,m){if(!c){const g=f._ceVNode||ge(o,a);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),u&&t?t(g,p):e(g,p,m),c=!0,f._container=p,p.__vue_app__=f,Gn(g.component)}},onUnmount(p){l.push(p)},unmount(){c&&(St(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,u){return i.provides[p]=u,f},runWithContext(p){const u=hs;hs=f;try{return p()}finally{hs=u}}};return f}}let hs=null;function $n(e,t){if(tt){let n=tt.provides;const o=tt.parent&&tt.parent.provides;o===n&&(n=tt.provides=Object.create(o)),n[e]=t}}function yt(e,t,n=!1){const o=un();if(o||hs){let a=hs?hs._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Pe(t)?t.call(o&&o.proxy):t}}function Uu(){return!!(un()||hs)}const $i={},wi=()=>Object.create($i),ki=e=>Object.getPrototypeOf(e)===$i;function Lu(e,t,n,o=!1){const a={},i=wi();e.propsDefaults=Object.create(null),Ci(e,t,a,i);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:Wl(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Ou(e,t,n,o){const{props:a,attrs:i,vnode:{patchFlag:r}}=e,l=Ee(a),[c]=e.propsOptions;let f=!1;if((o||r>0)&&!(r&16)){if(r&8){const p=e.vnode.dynamicProps;for(let u=0;u<p.length;u++){let m=p[u];if(Kn(e.emitsOptions,m))continue;const g=t[m];if(c)if(De(i,m))g!==i[m]&&(i[m]=g,f=!0);else{const S=bt(m);a[S]=Po(c,l,S,g,e,!1)}else g!==i[m]&&(i[m]=g,f=!0)}}}else{Ci(e,t,a,i)&&(f=!0);let p;for(const u in l)(!t||!De(t,u)&&((p=rs(u))===u||!De(t,p)))&&(c?n&&(n[u]!==void 0||n[p]!==void 0)&&(a[u]=Po(c,l,u,void 0,e,!0)):delete a[u]);if(i!==l)for(const u in i)(!t||!De(t,u))&&(delete i[u],f=!0)}f&&Nt(e.attrs,"set","")}function Ci(e,t,n,o){const[a,i]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Fs(c))continue;const f=t[c];let p;a&&De(a,p=bt(c))?!i||!i.includes(p)?n[p]=f:(l||(l={}))[p]=f:Kn(e.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,r=!0)}if(i){const c=Ee(n),f=l||Le;for(let p=0;p<i.length;p++){const u=i[p];n[u]=Po(a,c,u,f[u],e,!De(f,u))}}return r}function Po(e,t,n,o,a,i){const r=e[n];if(r!=null){const l=De(r,"default");if(l&&o===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Pe(c)){const{propsDefaults:f}=a;if(n in f)o=f[n];else{const p=cn(a);o=f[n]=c.call(null,t),p()}}else o=c;a.ce&&a.ce._setProp(n,o)}r[0]&&(i&&!l?o=!1:r[1]&&(o===""||o===rs(n))&&(o=!0))}return o}const Fu=new WeakMap;function Si(e,t,n=!1){const o=n?Fu:t.propsCache,a=o.get(e);if(a)return a;const i=e.props,r={},l=[];let c=!1;if(!Pe(e)){const p=u=>{c=!0;const[m,g]=Si(u,t,!0);Be(r,m),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!i&&!c)return Oe(e)&&o.set(e,Cs),Cs;if(ke(i))for(let p=0;p<i.length;p++){const u=bt(i[p]);xa(u)&&(r[u]=Le)}else if(i)for(const p in i){const u=bt(p);if(xa(u)){const m=i[p],g=r[u]=ke(m)||Pe(m)?{type:m}:Be({},m),S=g.type;let V=!1,F=!0;if(ke(S))for(let q=0;q<S.length;++q){const K=S[q],B=Pe(K)&&K.name;if(B==="Boolean"){V=!0;break}else B==="String"&&(F=!1)}else V=Pe(S)&&S.name==="Boolean";g[0]=V,g[1]=F,(V||De(g,"default"))&&l.push(u)}}const f=[r,l];return Oe(e)&&o.set(e,f),f}function xa(e){return e[0]!=="$"&&!Fs(e)}const Xo=e=>e==="_"||e==="_ctx"||e==="$stable",ea=e=>ke(e)?e.map(Mt):[Mt(e)],zu=(e,t,n)=>{if(t._n)return t;const o=Ce((...a)=>ea(t(...a)),n);return o._c=!1,o},Pi=(e,t,n)=>{const o=e._ctx;for(const a in e){if(Xo(a))continue;const i=e[a];if(Pe(i))t[a]=zu(a,i,o);else if(i!=null){const r=ea(i);t[a]=()=>r}}},xi=(e,t)=>{const n=ea(t);e.slots.default=()=>n},Ti=(e,t,n)=>{for(const o in t)(n||!Xo(o))&&(e[o]=t[o])},Nu=(e,t,n)=>{const o=e.slots=wi();if(e.vnode.shapeFlag&32){const a=t._;a?(Ti(o,t,n),n&&Pl(o,"_",a,!0)):Pi(t,o)}else t&&xi(e,t)},ju=(e,t,n)=>{const{vnode:o,slots:a}=e;let i=!0,r=Le;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Ti(a,t,n):(i=!t.$stable,Pi(t,a)),r=t}else t&&(xi(e,t),r={default:1});if(i)for(const l in a)!Xo(l)&&r[l]==null&&delete a[l]},nt=nc;function qu(e){return Hu(e)}function Hu(e,t){const n=Nn();n.__VUE__=!0;const{insert:o,remove:a,patchProp:i,createElement:r,createText:l,createComment:c,setText:f,setElementText:p,parentNode:u,nextSibling:m,setScopeId:g=wt,insertStaticContent:S}=e,V=(E,R,G,le=null,te=null,L=null,b=void 0,ne=null,Y=!!R.dynamicChildren)=>{if(E===R)return;E&&!gs(E,R)&&(le=U(E),ce(E,te,L,!0),E=null),R.patchFlag===-2&&(Y=!1,R.dynamicChildren=null);const{type:z,ref:ye,shapeFlag:he}=R;switch(z){case Wn:F(E,R,G,le);break;case lt:q(E,R,G,le);break;case wn:E==null&&K(R,G,le,b);break;case se:T(E,R,G,le,te,L,b,ne,Y);break;default:he&1?H(E,R,G,le,te,L,b,ne,Y):he&6?x(E,R,G,le,te,L,b,ne,Y):(he&64||he&128)&&z.process(E,R,G,le,te,L,b,ne,Y,be)}ye!=null&&te?qs(ye,E&&E.ref,L,R||E,!R):ye==null&&E&&E.ref!=null&&qs(E.ref,null,L,E,!0)},F=(E,R,G,le)=>{if(E==null)o(R.el=l(R.children),G,le);else{const te=R.el=E.el;R.children!==E.children&&f(te,R.children)}},q=(E,R,G,le)=>{E==null?o(R.el=c(R.children||""),G,le):R.el=E.el},K=(E,R,G,le)=>{[E.el,E.anchor]=S(E.children,R,G,le,E.el,E.anchor)},B=({el:E,anchor:R},G,le)=>{let te;for(;E&&E!==R;)te=m(E),o(E,G,le),E=te;o(R,G,le)},N=({el:E,anchor:R})=>{let G;for(;E&&E!==R;)G=m(E),a(E),E=G;a(R)},H=(E,R,G,le,te,L,b,ne,Y)=>{R.type==="svg"?b="svg":R.type==="math"&&(b="mathml"),E==null?P(R,G,le,te,L,b,ne,Y):_(E,R,te,L,b,ne,Y)},P=(E,R,G,le,te,L,b,ne)=>{let Y,z;const{props:ye,shapeFlag:he,transition:we,dirs:Se}=E;if(Y=E.el=r(E.type,L,ye&&ye.is,ye),he&8?p(Y,E.children):he&16&&A(E.children,Y,null,le,te,ao(E,L),b,ne),Se&&us(E,null,le,"created"),ee(Y,E,E.scopeId,b,le),ye){for(const Fe in ye)Fe!=="value"&&!Fs(Fe)&&i(Y,Fe,null,ye[Fe],L,le);"value"in ye&&i(Y,"value",null,ye.value,L),(z=ye.onVnodeBeforeMount)&&At(z,le,E)}Se&&us(E,null,le,"beforeMount");const Ae=Bu(te,we);Ae&&we.beforeEnter(Y),o(Y,R,G),((z=ye&&ye.onVnodeMounted)||Ae||Se)&&nt(()=>{z&&At(z,le,E),Ae&&we.enter(Y),Se&&us(E,null,le,"mounted")},te)},ee=(E,R,G,le,te)=>{if(G&&g(E,G),le)for(let L=0;L<le.length;L++)g(E,le[L]);if(te){let L=te.subTree;if(R===L||Di(L.type)&&(L.ssContent===R||L.ssFallback===R)){const b=te.vnode;ee(E,b,b.scopeId,b.slotScopeIds,te.parent)}}},A=(E,R,G,le,te,L,b,ne,Y=0)=>{for(let z=Y;z<E.length;z++){const ye=E[z]=ne?Xt(E[z]):Mt(E[z]);V(null,ye,R,G,le,te,L,b,ne)}},_=(E,R,G,le,te,L,b)=>{const ne=R.el=E.el;let{patchFlag:Y,dynamicChildren:z,dirs:ye}=R;Y|=E.patchFlag&16;const he=E.props||Le,we=R.props||Le;let Se;if(G&&cs(G,!1),(Se=we.onVnodeBeforeUpdate)&&At(Se,G,R,E),ye&&us(R,E,G,"beforeUpdate"),G&&cs(G,!0),(he.innerHTML&&we.innerHTML==null||he.textContent&&we.textContent==null)&&p(ne,""),z?O(E.dynamicChildren,z,ne,G,le,ao(R,te),L):b||Q(E,R,ne,null,G,le,ao(R,te),L,!1),Y>0){if(Y&16)j(ne,he,we,G,te);else if(Y&2&&he.class!==we.class&&i(ne,"class",null,we.class,te),Y&4&&i(ne,"style",he.style,we.style,te),Y&8){const Ae=R.dynamicProps;for(let Fe=0;Fe<Ae.length;Fe++){const Re=Ae[Fe],ut=he[Re],Ze=we[Re];(Ze!==ut||Re==="value")&&i(ne,Re,ut,Ze,te,G)}}Y&1&&E.children!==R.children&&p(ne,R.children)}else!b&&z==null&&j(ne,he,we,G,te);((Se=we.onVnodeUpdated)||ye)&&nt(()=>{Se&&At(Se,G,R,E),ye&&us(R,E,G,"updated")},le)},O=(E,R,G,le,te,L,b)=>{for(let ne=0;ne<R.length;ne++){const Y=E[ne],z=R[ne],ye=Y.el&&(Y.type===se||!gs(Y,z)||Y.shapeFlag&198)?u(Y.el):G;V(Y,z,ye,null,le,te,L,b,!0)}},j=(E,R,G,le,te)=>{if(R!==G){if(R!==Le)for(const L in R)!Fs(L)&&!(L in G)&&i(E,L,R[L],null,te,le);for(const L in G){if(Fs(L))continue;const b=G[L],ne=R[L];b!==ne&&L!=="value"&&i(E,L,ne,b,te,le)}"value"in G&&i(E,"value",R.value,G.value,te)}},T=(E,R,G,le,te,L,b,ne,Y)=>{const z=R.el=E?E.el:l(""),ye=R.anchor=E?E.anchor:l("");let{patchFlag:he,dynamicChildren:we,slotScopeIds:Se}=R;Se&&(ne=ne?ne.concat(Se):Se),E==null?(o(z,G,le),o(ye,G,le),A(R.children||[],G,ye,te,L,b,ne,Y)):he>0&&he&64&&we&&E.dynamicChildren?(O(E.dynamicChildren,we,G,te,L,b,ne),(R.key!=null||te&&R===te.subTree)&&ta(E,R,!0)):Q(E,R,G,ye,te,L,b,ne,Y)},x=(E,R,G,le,te,L,b,ne,Y)=>{R.slotScopeIds=ne,E==null?R.shapeFlag&512?te.ctx.activate(R,G,le,b,Y):I(R,G,le,te,L,b,Y):C(E,R,Y)},I=(E,R,G,le,te,L,b)=>{const ne=E.component=cc(E,le,te);if(Hn(E)&&(ne.ctx.renderer=be),dc(ne,!1,b),ne.asyncDep){if(te&&te.registerDep(ne,W,b),!E.el){const Y=ne.subTree=ge(lt);q(null,Y,R,G),E.placeholder=Y.el}}else W(ne,E,R,G,te,L,b)},C=(E,R,G)=>{const le=R.component=E.component;if(tc(E,R,G))if(le.asyncDep&&!le.asyncResolved){$(le,R,G);return}else le.next=R,le.update();else R.el=E.el,le.vnode=R},W=(E,R,G,le,te,L,b)=>{const ne=()=>{if(E.isMounted){let{next:he,bu:we,u:Se,parent:Ae,vnode:Fe}=E;{const vt=Ai(E);if(vt){he&&(he.el=Fe.el,$(E,he,b)),vt.asyncDep.then(()=>{E.isUnmounted||ne()});return}}let Re=he,ut;cs(E,!1),he?(he.el=Fe.el,$(E,he,b)):he=Fe,we&&_n(we),(ut=he.props&&he.props.onVnodeBeforeUpdate)&&At(ut,Ae,he,Fe),cs(E,!0);const Ze=lo(E),$t=E.subTree;E.subTree=Ze,V($t,Ze,u($t.el),U($t),E,te,L),he.el=Ze.el,Re===null&&sc(E,Ze.el),Se&&nt(Se,te),(ut=he.props&&he.props.onVnodeUpdated)&&nt(()=>At(ut,Ae,he,Fe),te)}else{let he;const{el:we,props:Se}=R,{bm:Ae,m:Fe,parent:Re,root:ut,type:Ze}=E,$t=Hs(R);if(cs(E,!1),Ae&&_n(Ae),!$t&&(he=Se&&Se.onVnodeBeforeMount)&&At(he,Re,R),cs(E,!0),we&&Ve){const vt=()=>{E.subTree=lo(E),Ve(we,E.subTree,E,te,null)};$t&&Ze.__asyncHydrate?Ze.__asyncHydrate(we,E,vt):vt()}else{ut.ce&&ut.ce._def.shadowRoot!==!1&&ut.ce._injectChildStyle(Ze);const vt=E.subTree=lo(E);V(null,vt,G,le,E,te,L),R.el=vt.el}if(Fe&&nt(Fe,te),!$t&&(he=Se&&Se.onVnodeMounted)){const vt=R;nt(()=>At(he,Re,vt),te)}(R.shapeFlag&256||Re&&Hs(Re.vnode)&&Re.vnode.shapeFlag&256)&&E.a&&nt(E.a,te),E.isMounted=!0,R=G=le=null}};E.scope.on();const Y=E.effect=new Dl(ne);E.scope.off();const z=E.update=Y.run.bind(Y),ye=E.job=Y.runIfDirty.bind(Y);ye.i=E,ye.id=E.uid,Y.scheduler=()=>Yo(ye),cs(E,!0),z()},$=(E,R,G)=>{R.component=E;const le=E.vnode.props;E.vnode=R,E.next=null,Ou(E,R.props,le,G),ju(E,R.children,G),Ht(),ma(E),Bt()},Q=(E,R,G,le,te,L,b,ne,Y=!1)=>{const z=E&&E.children,ye=E?E.shapeFlag:0,he=R.children,{patchFlag:we,shapeFlag:Se}=R;if(we>0){if(we&128){re(z,he,G,le,te,L,b,ne,Y);return}else if(we&256){xe(z,he,G,le,te,L,b,ne,Y);return}}Se&8?(ye&16&&k(z,te,L),he!==z&&p(G,he)):ye&16?Se&16?re(z,he,G,le,te,L,b,ne,Y):k(z,te,L,!0):(ye&8&&p(G,""),Se&16&&A(he,G,le,te,L,b,ne,Y))},xe=(E,R,G,le,te,L,b,ne,Y)=>{E=E||Cs,R=R||Cs;const z=E.length,ye=R.length,he=Math.min(z,ye);let we;for(we=0;we<he;we++){const Se=R[we]=Y?Xt(R[we]):Mt(R[we]);V(E[we],Se,G,null,te,L,b,ne,Y)}z>ye?k(E,te,L,!0,!1,he):A(R,G,le,te,L,b,ne,Y,he)},re=(E,R,G,le,te,L,b,ne,Y)=>{let z=0;const ye=R.length;let he=E.length-1,we=ye-1;for(;z<=he&&z<=we;){const Se=E[z],Ae=R[z]=Y?Xt(R[z]):Mt(R[z]);if(gs(Se,Ae))V(Se,Ae,G,null,te,L,b,ne,Y);else break;z++}for(;z<=he&&z<=we;){const Se=E[he],Ae=R[we]=Y?Xt(R[we]):Mt(R[we]);if(gs(Se,Ae))V(Se,Ae,G,null,te,L,b,ne,Y);else break;he--,we--}if(z>he){if(z<=we){const Se=we+1,Ae=Se<ye?R[Se].el:le;for(;z<=we;)V(null,R[z]=Y?Xt(R[z]):Mt(R[z]),G,Ae,te,L,b,ne,Y),z++}}else if(z>we)for(;z<=he;)ce(E[z],te,L,!0),z++;else{const Se=z,Ae=z,Fe=new Map;for(z=Ae;z<=we;z++){const ft=R[z]=Y?Xt(R[z]):Mt(R[z]);ft.key!=null&&Fe.set(ft.key,z)}let Re,ut=0;const Ze=we-Ae+1;let $t=!1,vt=0;const Ds=new Array(Ze);for(z=0;z<Ze;z++)Ds[z]=0;for(z=Se;z<=he;z++){const ft=E[z];if(ut>=Ze){ce(ft,te,L,!0);continue}let Tt;if(ft.key!=null)Tt=Fe.get(ft.key);else for(Re=Ae;Re<=we;Re++)if(Ds[Re-Ae]===0&&gs(ft,R[Re])){Tt=Re;break}Tt===void 0?ce(ft,te,L,!0):(Ds[Tt-Ae]=z+1,Tt>=vt?vt=Tt:$t=!0,V(ft,R[Tt],G,null,te,L,b,ne,Y),ut++)}const ua=$t?Ku(Ds):Cs;for(Re=ua.length-1,z=Ze-1;z>=0;z--){const ft=Ae+z,Tt=R[ft],ca=R[ft+1],da=ft+1<ye?ca.el||ca.placeholder:le;Ds[z]===0?V(null,Tt,G,da,te,L,b,ne,Y):$t&&(Re<0||z!==ua[Re]?X(Tt,G,da,2):Re--)}}},X=(E,R,G,le,te=null)=>{const{el:L,type:b,transition:ne,children:Y,shapeFlag:z}=E;if(z&6){X(E.component.subTree,R,G,le);return}if(z&128){E.suspense.move(R,G,le);return}if(z&64){b.move(E,R,G,be);return}if(b===se){o(L,R,G);for(let he=0;he<Y.length;he++)X(Y[he],R,G,le);o(E.anchor,R,G);return}if(b===wn){B(E,R,G);return}if(le!==2&&z&1&&ne)if(le===0)ne.beforeEnter(L),o(L,R,G),nt(()=>ne.enter(L),te);else{const{leave:he,delayLeave:we,afterLeave:Se}=ne,Ae=()=>{E.ctx.isUnmounted?a(L):o(L,R,G)},Fe=()=>{L._isLeaving&&L[zt](!0),he(L,()=>{Ae(),Se&&Se()})};we?we(L,Ae,Fe):Fe()}else o(L,R,G)},ce=(E,R,G,le=!1,te=!1)=>{const{type:L,props:b,ref:ne,children:Y,dynamicChildren:z,shapeFlag:ye,patchFlag:he,dirs:we,cacheIndex:Se}=E;if(he===-2&&(te=!1),ne!=null&&(Ht(),qs(ne,null,G,E,!0),Bt()),Se!=null&&(R.renderCache[Se]=void 0),ye&256){R.ctx.deactivate(E);return}const Ae=ye&1&&we,Fe=!Hs(E);let Re;if(Fe&&(Re=b&&b.onVnodeBeforeUnmount)&&At(Re,R,E),ye&6)Z(E.component,G,le);else{if(ye&128){E.suspense.unmount(G,le);return}Ae&&us(E,null,R,"beforeUnmount"),ye&64?E.type.remove(E,R,G,be,le):z&&!z.hasOnce&&(L!==se||he>0&&he&64)?k(z,R,G,!1,!0):(L===se&&he&384||!te&&ye&16)&&k(Y,R,G),le&&w(E)}(Fe&&(Re=b&&b.onVnodeUnmounted)||Ae)&&nt(()=>{Re&&At(Re,R,E),Ae&&us(E,null,R,"unmounted")},G)},w=E=>{const{type:R,el:G,anchor:le,transition:te}=E;if(R===se){h(G,le);return}if(R===wn){N(E);return}const L=()=>{a(G),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(E.shapeFlag&1&&te&&!te.persisted){const{leave:b,delayLeave:ne}=te,Y=()=>b(G,L);ne?ne(E.el,L,Y):Y()}else L()},h=(E,R)=>{let G;for(;E!==R;)G=m(E),a(E),E=G;a(R)},Z=(E,R,G)=>{const{bum:le,scope:te,job:L,subTree:b,um:ne,m:Y,a:z}=E;Ta(Y),Ta(z),le&&_n(le),te.stop(),L&&(L.flags|=8,ce(b,E,R,G)),ne&&nt(ne,R),nt(()=>{E.isUnmounted=!0},R)},k=(E,R,G,le=!1,te=!1,L=0)=>{for(let b=L;b<E.length;b++)ce(E[b],R,G,le,te)},U=E=>{if(E.shapeFlag&6)return U(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const R=m(E.anchor||E.el),G=R&&R[si];return G?m(G):R};let ie=!1;const ue=(E,R,G)=>{E==null?R._vnode&&ce(R._vnode,null,null,!0):V(R._vnode||null,E,R,null,null,null,G),R._vnode=E,ie||(ie=!0,ma(),Xl(),ie=!1)},be={p:V,um:ce,m:X,r:w,mt:I,mc:A,pc:Q,pbc:O,n:U,o:e};let Te,Ve;return t&&([Te,Ve]=t(be)),{render:ue,hydrate:Te,createApp:Ru(ue,Te)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function cs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ta(e,t,n=!1){const o=e.children,a=t.children;if(ke(o)&&ke(a))for(let i=0;i<o.length;i++){const r=o[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Xt(a[i]),l.el=r.el),!n&&l.patchFlag!==-2&&ta(r,l)),l.type===Wn&&l.patchFlag!==-1&&(l.el=r.el),l.type===lt&&!l.el&&(l.el=r.el)}}function Ku(e){const t=e.slice(),n=[0];let o,a,i,r,l;const c=e.length;for(o=0;o<c;o++){const f=e[o];if(f!==0){if(a=n[n.length-1],e[a]<f){t[o]=a,n.push(o);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<f?i=l+1:r=l;f<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function Ai(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ai(t)}function Ta(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Wu=Symbol.for("v-scx"),Gu=()=>yt(Wu);function Ye(e,t,n){return Ei(e,t,n)}function Ei(e,t,n=Le){const{immediate:o,deep:a,flush:i,once:r}=n,l=Be({},n),c=t&&o||!t&&i!=="post";let f;if(sn){if(i==="sync"){const g=Gu();f=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=wt,g.resume=wt,g.pause=wt,g}}const p=tt;l.call=(g,S,V)=>St(g,p,S,V);let u=!1;i==="post"?l.scheduler=g=>{nt(g,p&&p.suspense)}:i!=="sync"&&(u=!0,l.scheduler=(g,S)=>{S?g():Yo(g)}),l.augmentJob=g=>{t&&(g.flags|=4),u&&(g.flags|=2,p&&(g.id=p.uid,g.i=p))};const m=cu(e,t,l);return sn&&(f?f.push(m):c&&m()),m}function Yu(e,t,n){const o=this.proxy,a=qe(e)?e.includes(".")?Ii(o,e):()=>o[e]:e.bind(o,o);let i;Pe(t)?i=t:(i=t.handler,n=t);const r=cn(this),l=Ei(a,i.bind(o),n);return r(),l}function Ii(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}const Qu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function Ju(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Le;let a=n;const i=t.startsWith("update:"),r=i&&Qu(o,t.slice(7));r&&(r.trim&&(a=n.map(p=>qe(p)?p.trim():p)),r.number&&(a=n.map(Pn)));let l,c=o[l=Zn(t)]||o[l=Zn(bt(t))];!c&&i&&(c=o[l=Zn(rs(t))]),c&&St(c,e,6,a);const f=o[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,St(f,e,6,a)}}const Zu=new WeakMap;function Mi(e,t,n=!1){const o=n?Zu:t.emitsCache,a=o.get(e);if(a!==void 0)return a;const i=e.emits;let r={},l=!1;if(!Pe(e)){const c=f=>{const p=Mi(f,t,!0);p&&(l=!0,Be(r,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Oe(e)&&o.set(e,null),null):(ke(i)?i.forEach(c=>r[c]=null):Be(r,i),Oe(e)&&o.set(e,r),r)}function Kn(e,t){return!e||!On(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,rs(t))||De(e,t))}function lo(e){const{type:t,vnode:n,proxy:o,withProxy:a,propsOptions:[i],slots:r,attrs:l,emit:c,render:f,renderCache:p,props:u,data:m,setupState:g,ctx:S,inheritAttrs:V}=e,F=In(e);let q,K;try{if(n.shapeFlag&4){const N=a||o,H=N;q=Mt(f.call(H,N,p,u,g,m,S)),K=l}else{const N=t;q=Mt(N.length>1?N(u,{attrs:l,slots:r,emit:c}):N(u,null)),K=t.props?l:Xu(l)}}catch(N){Ks.length=0,qn(N,e,1),q=ge(lt)}let B=q;if(K&&V!==!1){const N=Object.keys(K),{shapeFlag:H}=B;N.length&&H&7&&(i&&N.some(Lo)&&(K=ec(K,i)),B=as(B,K,!1,!0))}return n.dirs&&(B=as(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&_s(B,n.transition),q=B,In(F),q}const Xu=e=>{let t;for(const n in e)(n==="class"||n==="style"||On(n))&&((t||(t={}))[n]=e[n]);return t},ec=(e,t)=>{const n={};for(const o in e)(!Lo(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function tc(e,t,n){const{props:o,children:a,component:i}=e,{props:r,children:l,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Aa(o,r,f):!!r;if(c&8){const p=t.dynamicProps;for(let u=0;u<p.length;u++){const m=p[u];if(r[m]!==o[m]&&!Kn(f,m))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?Aa(o,r,f):!0:!!r;return!1}function Aa(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const i=o[a];if(t[i]!==e[i]&&!Kn(n,i))return!0}return!1}function sc({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Di=e=>e.__isSuspense;function nc(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):fu(e)}const se=Symbol.for("v-fgt"),Wn=Symbol.for("v-txt"),lt=Symbol.for("v-cmt"),wn=Symbol.for("v-stc"),Ks=[];let gt=null;function d(e=!1){Ks.push(gt=e?null:[])}function oc(){Ks.pop(),gt=Ks[Ks.length-1]||null}let tn=1;function Vn(e,t=!1){tn+=e,e<0&&gt&&t&&(gt.hasOnce=!0)}function Vi(e){return e.dynamicChildren=tn>0?gt||Cs:null,oc(),tn>0&&gt&&gt.push(e),e}function v(e,t,n,o,a,i){return Vi(s(e,t,n,o,a,i,!0))}function rt(e,t,n,o,a){return Vi(ge(e,t,n,o,a,!0))}function Rn(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Ri=({key:e})=>e??null,kn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qe(e)||He(e)||Pe(e)?{i:pt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,a=null,i=e===se?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ri(t),ref:t&&kn(t),scopeId:ti,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:pt};return l?(sa(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=qe(n)?8:16),tn>0&&!r&&gt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&gt.push(c),c}const ge=ac;function ac(e,t=null,n=null,o=0,a=null,i=!1){if((!e||e===xu)&&(e=lt),Rn(e)){const l=as(e,t,!0);return n&&sa(l,n),tn>0&&!i&&gt&&(l.shapeFlag&6?gt[gt.indexOf(e)]=l:gt.push(l)),l.patchFlag=-2,l}if(mc(e)&&(e=e.__vccOpts),t){t=lc(t);let{class:l,style:c}=t;l&&!qe(l)&&(t.class=fe(l)),Oe(c)&&(Wo(c)&&!ke(c)&&(c=Be({},c)),t.style=Rt(c))}const r=qe(e)?1:Di(e)?128:ni(e)?64:Oe(e)?4:Pe(e)?2:0;return s(e,t,n,o,a,r,i,!0)}function lc(e){return e?Wo(e)||ki(e)?Be({},e):e:null}function as(e,t,n=!1,o=!1){const{props:a,ref:i,patchFlag:r,children:l,transition:c}=e,f=t?ic(a||{},t):a,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ri(f),ref:t&&t.ref?n&&i?ke(i)?i.concat(kn(t)):[i,kn(t)]:kn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&as(e.ssContent),ssFallback:e.ssFallback&&as(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&_s(p,c.clone(p)),p}function oe(e=" ",t=0){return ge(Wn,null,e,t)}function Kt(e,t){const n=ge(wn,null,e);return n.staticCount=t,n}function D(e="",t=!1){return t?(d(),rt(lt,null,e)):ge(lt,null,e)}function Mt(e){return e==null||typeof e=="boolean"?ge(lt):ke(e)?ge(se,null,e.slice()):Rn(e)?Xt(e):ge(Wn,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:as(e)}function sa(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),sa(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!ki(t)?t._ctx=pt:a===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:pt},n=32):(t=String(t),o&64?(n=16,t=[oe(t)]):n=8);e.children=t,e.shapeFlag|=n}function ic(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=fe([t.class,o.class]));else if(a==="style")t.style=Rt([t.style,o.style]);else if(On(a)){const i=t[a],r=o[a];r&&i!==r&&!(ke(i)&&i.includes(r))&&(t[a]=i?[].concat(i,r):r)}else a!==""&&(t[a]=o[a])}return t}function At(e,t,n,o=null){St(e,t,7,[n,o])}const rc=bi();let uc=0;function cc(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||rc,i={uid:uc++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new El(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Si(o,a),emitsOptions:Mi(o,a),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:o.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ju.bind(null,i),e.ce&&e.ce(i),i}let tt=null;const un=()=>tt||pt;let Un,xo;{const e=Nn(),t=(n,o)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(o),i=>{a.length>1?a.forEach(r=>r(i)):a[0](i)}};Un=t("__VUE_INSTANCE_SETTERS__",n=>tt=n),xo=t("__VUE_SSR_SETTERS__",n=>sn=n)}const cn=e=>{const t=tt;return Un(e),e.scope.on(),()=>{e.scope.off(),Un(t)}},Ea=()=>{tt&&tt.scope.off(),Un(null)};function Ui(e){return e.vnode.shapeFlag&4}let sn=!1;function dc(e,t=!1,n=!1){t&&xo(t);const{props:o,children:a}=e.vnode,i=Ui(e);Lu(e,o,i,t),Nu(e,a,n||t);const r=i?vc(e,t):void 0;return t&&xo(!1),r}function vc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tu);const{setup:o}=n;if(o){Ht();const a=e.setupContext=o.length>1?pc(e):null,i=cn(e),r=ln(o,e,0,[e.props,a]),l=kl(r);if(Bt(),i(),(l||e.sp)&&!Hs(e)&&vi(e),l){if(r.then(Ea,Ea),t)return r.then(c=>{Ia(e,c,t)}).catch(c=>{qn(c,e,0)});e.asyncDep=r}else Ia(e,r,t)}else Li(e,t)}function Ia(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=Ql(t)),Li(e,n)}let Ma;function Li(e,t,n){const o=e.type;if(!e.render){if(!t&&Ma&&!o.render){const a=o.template||Zo(e).template;if(a){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:c}=o,f=Be(Be({isCustomElement:i,delimiters:l},r),c);o.render=Ma(a,f)}}e.render=o.render||wt}{const a=cn(e);Ht();try{Au(e)}finally{Bt(),a()}}}const fc={get(e,t){return et(e,"get",""),e[t]}};function pc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fc),slots:e.slots,emit:e.emit,expose:t}}function Gn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ql(Go(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Bs)return Bs[n](e)},has(t,n){return n in t||n in Bs}})):e.proxy}function gc(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function mc(e){return Pe(e)&&"__vccOpts"in e}const _e=(e,t)=>ru(e,t,sn);function na(e,t,n){const o=(i,r,l)=>{Vn(-1);try{return ge(i,r,l)}finally{Vn(1)}},a=arguments.length;return a===2?Oe(t)&&!ke(t)?Rn(t)?o(e,null,[t]):o(e,t):o(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&Rn(n)&&(n=[n]),o(e,t,n))}const hc="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let To;const Da=typeof window<"u"&&window.trustedTypes;if(Da)try{To=Da.createPolicy("vue",{createHTML:e=>e})}catch{}const Oi=To?e=>To.createHTML(e):e=>e,yc="http://www.w3.org/2000/svg",_c="http://www.w3.org/1998/Math/MathML",Ft=typeof document<"u"?document:null,Va=Ft&&Ft.createElement("template"),bc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t==="svg"?Ft.createElementNS(yc,e):t==="mathml"?Ft.createElementNS(_c,e):n?Ft.createElement(e,{is:n}):Ft.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{Va.innerHTML=Oi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Va.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gt="transition",Rs="animation",Ts=Symbol("_vtc"),Fi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zi=Be({},ri,Fi),$c=e=>(e.displayName="Transition",e.props=zi,e),Ni=$c((e,{slots:t})=>na(mu,ji(e),t)),ds=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ra=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function ji(e){const t={};for(const T in e)T in Fi||(t[T]=e[T]);if(e.css===!1)return t;const{name:n="v",type:o,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:f=r,appearToClass:p=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,S=wc(a),V=S&&S[0],F=S&&S[1],{onBeforeEnter:q,onEnter:K,onEnterCancelled:B,onLeave:N,onLeaveCancelled:H,onBeforeAppear:P=q,onAppear:ee=K,onAppearCancelled:A=B}=t,_=(T,x,I,C)=>{T._enterCancelled=C,Qt(T,x?p:l),Qt(T,x?f:r),I&&I()},O=(T,x)=>{T._isLeaving=!1,Qt(T,u),Qt(T,g),Qt(T,m),x&&x()},j=T=>(x,I)=>{const C=T?ee:K,W=()=>_(x,T,I);ds(C,[x,W]),Ua(()=>{Qt(x,T?c:i),Et(x,T?p:l),Ra(C)||La(x,o,V,W)})};return Be(t,{onBeforeEnter(T){ds(q,[T]),Et(T,i),Et(T,r)},onBeforeAppear(T){ds(P,[T]),Et(T,c),Et(T,f)},onEnter:j(!1),onAppear:j(!0),onLeave(T,x){T._isLeaving=!0;const I=()=>O(T,x);Et(T,u),T._enterCancelled?(Et(T,m),Ao()):(Ao(),Et(T,m)),Ua(()=>{T._isLeaving&&(Qt(T,u),Et(T,g),Ra(N)||La(T,o,F,I))}),ds(N,[T,I])},onEnterCancelled(T){_(T,!1,void 0,!0),ds(B,[T])},onAppearCancelled(T){_(T,!0,void 0,!0),ds(A,[T])},onLeaveCancelled(T){O(T),ds(H,[T])}})}function wc(e){if(e==null)return null;if(Oe(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return xr(e)}function Et(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ts]||(e[Ts]=new Set)).add(t)}function Qt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Ts];n&&(n.delete(t),n.size||(e[Ts]=void 0))}function Ua(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kc=0;function La(e,t,n,o){const a=e._endId=++kc,i=()=>{a===e._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:r,timeout:l,propCount:c}=qi(e,t);if(!r)return o();const f=r+"end";let p=0;const u=()=>{e.removeEventListener(f,m),i()},m=g=>{g.target===e&&++p>=c&&u()};setTimeout(()=>{p<c&&u()},l+1),e.addEventListener(f,m)}function qi(e,t){const n=window.getComputedStyle(e),o=S=>(n[S]||"").split(", "),a=o(`${Gt}Delay`),i=o(`${Gt}Duration`),r=Oa(a,i),l=o(`${Rs}Delay`),c=o(`${Rs}Duration`),f=Oa(l,c);let p=null,u=0,m=0;t===Gt?r>0&&(p=Gt,u=r,m=i.length):t===Rs?f>0&&(p=Rs,u=f,m=c.length):(u=Math.max(r,f),p=u>0?r>f?Gt:Rs:null,m=p?p===Gt?i.length:c.length:0);const g=p===Gt&&/\b(?:transform|all)(?:,|$)/.test(o(`${Gt}Property`).toString());return{type:p,timeout:u,propCount:m,hasTransform:g}}function Oa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Fa(n)+Fa(e[o])))}function Fa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(){return document.body.offsetHeight}function Cc(e,t,n){const o=e[Ts];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const za=Symbol("_vod"),Sc=Symbol("_vsh"),Pc=Symbol(""),xc=/(?:^|;)\s*display\s*:/;function Tc(e,t,n){const o=e.style,a=qe(n);let i=!1;if(n&&!a){if(t)if(qe(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Cn(o,l,"")}else for(const r in t)n[r]==null&&Cn(o,r,"");for(const r in n)r==="display"&&(i=!0),Cn(o,r,n[r])}else if(a){if(t!==n){const r=o[Pc];r&&(n+=";"+r),o.cssText=n,i=xc.test(n)}}else t&&e.removeAttribute("style");za in e&&(e[za]=i?o.display:"",e[Sc]&&(o.display="none"))}const Na=/\s*!important$/;function Cn(e,t,n){if(ke(n))n.forEach(o=>Cn(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Ac(e,t);Na.test(n)?e.setProperty(rs(o),n.replace(Na,""),"important"):e[o]=n}}const ja=["Webkit","Moz","ms"],ro={};function Ac(e,t){const n=ro[t];if(n)return n;let o=bt(t);if(o!=="filter"&&o in e)return ro[t]=o;o=zn(o);for(let a=0;a<ja.length;a++){const i=ja[a]+o;if(i in e)return ro[t]=i}return t}const qa="http://www.w3.org/1999/xlink";function Ha(e,t,n,o,a,i=Dr(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qa,t.slice(6,t.length)):e.setAttributeNS(qa,t,n):n==null||i&&!xl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Vt(n)?String(n):n)}function Ba(e,t,n,o,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Oi(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=xl(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(a||t)}function qt(e,t,n,o){e.addEventListener(t,n,o)}function Ec(e,t,n,o){e.removeEventListener(t,n,o)}const Ka=Symbol("_vei");function Ic(e,t,n,o,a=null){const i=e[Ka]||(e[Ka]={}),r=i[t];if(o&&r)r.value=o;else{const[l,c]=Mc(t);if(o){const f=i[t]=Rc(o,a);qt(e,l,f,c)}else r&&(Ec(e,l,r,c),i[t]=void 0)}}const Wa=/(?:Once|Passive|Capture)$/;function Mc(e){let t;if(Wa.test(e)){t={};let o;for(;o=e.match(Wa);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let uo=0;const Dc=Promise.resolve(),Vc=()=>uo||(Dc.then(()=>uo=0),uo=Date.now());function Rc(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;St(Uc(o,n.value),t,5,[o])};return n.value=e,n.attached=Vc(),n}function Uc(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const Ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Lc=(e,t,n,o,a,i)=>{const r=a==="svg";t==="class"?Cc(e,o,r):t==="style"?Tc(e,n,o):On(t)?Lo(t)||Ic(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Oc(e,t,o,r))?(Ba(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ha(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qe(o))?Ba(e,bt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ha(e,t,o,r))};function Oc(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ga(t)&&Pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Ga(t)&&qe(n)?!1:t in e}const Hi=new WeakMap,Bi=new WeakMap,Ln=Symbol("_moveCb"),Ya=Symbol("_enterCb"),Fc=e=>(delete e.props.mode,e),zc=Fc({name:"TransitionGroup",props:Be({},zi,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=un(),o=ii();let a,i;return pi(()=>{if(!a.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Bc(a[0].el,n.vnode.el,r)){a=[];return}a.forEach(jc),a.forEach(qc);const l=a.filter(Hc);Ao(),l.forEach(c=>{const f=c.el,p=f.style;Et(f,r),p.transform=p.webkitTransform=p.transitionDuration="";const u=f[Ln]=m=>{m&&m.target!==f||(!m||m.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[Ln]=null,Qt(f,r))};f.addEventListener("transitionend",u)}),a=[]}),()=>{const r=Ee(e),l=ji(r);let c=r.tag||se;if(a=[],i)for(let f=0;f<i.length;f++){const p=i[f];p.el&&p.el instanceof Element&&(a.push(p),_s(p,en(p,l,o,n)),Hi.set(p,p.el.getBoundingClientRect()))}i=t.default?Qo(t.default()):[];for(let f=0;f<i.length;f++){const p=i[f];p.key!=null&&_s(p,en(p,l,o,n))}return ge(c,null,i)}}}),Nc=zc;function jc(e){const t=e.el;t[Ln]&&t[Ln](),t[Ya]&&t[Ya]()}function qc(e){Bi.set(e,e.el.getBoundingClientRect())}function Hc(e){const t=Hi.get(e),n=Bi.get(e),o=t.left-n.left,a=t.top-n.top;if(o||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${a}px)`,i.transitionDuration="0s",e}}function Bc(e,t,n){const o=e.cloneNode(),a=e[Ts];a&&a.forEach(l=>{l.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(o);const{hasTransform:r}=qi(o);return i.removeChild(o),r}const ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>_n(t,n):t};function Kc(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _t=Symbol("_assign"),ae={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[_t]=ls(a);const i=o||a.props&&a.props.type==="number";qt(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=Pn(l)),e[_t](l)}),n&&qt(e,"change",()=>{e.value=e.value.trim()}),t||(qt(e,"compositionstart",Kc),qt(e,"compositionend",Qa),qt(e,"change",Qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:a,number:i}},r){if(e[_t]=ls(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?Pn(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||a&&e.value.trim()===c)||(e.value=c))}},Ws={deep:!0,created(e,t,n){e[_t]=ls(n),qt(e,"change",()=>{const o=e._modelValue,a=As(e),i=e.checked,r=e[_t];if(ke(o)){const l=zo(o,a),c=l!==-1;if(i&&!c)r(o.concat(a));else if(!i&&c){const f=[...o];f.splice(l,1),r(f)}}else if(Ms(o)){const l=new Set(o);i?l.add(a):l.delete(a),r(l)}else r(Ki(e,i))})},mounted:Ja,beforeUpdate(e,t,n){e[_t]=ls(n),Ja(e,t,n)}};function Ja(e,{value:t,oldValue:n},o){e._modelValue=t;let a;if(ke(t))a=zo(t,o.props.value)>-1;else if(Ms(t))a=t.has(o.props.value);else{if(t===n)return;a=ys(t,Ki(e,!0))}e.checked!==a&&(e.checked=a)}const Wc={created(e,{value:t},n){e.checked=ys(t,n.props.value),e[_t]=ls(n),qt(e,"change",()=>{e[_t](As(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e[_t]=ls(o),t!==n&&(e.checked=ys(t,o.props.value))}},Ue={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Ms(t);qt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?Pn(As(r)):As(r));e[_t](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,rn(()=>{e._assigning=!1})}),e[_t]=ls(o)},mounted(e,{value:t}){Za(e,t)},beforeUpdate(e,t,n){e[_t]=ls(n)},updated(e,{value:t}){e._assigning||Za(e,t)}};function Za(e,t){const n=e.multiple,o=ke(t);if(!(n&&!o&&!Ms(t))){for(let a=0,i=e.options.length;a<i;a++){const r=e.options[a],l=As(r);if(n)if(o){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(f=>String(f)===String(l)):r.selected=zo(t,l)>-1}else r.selected=t.has(l);else if(ys(As(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function As(e){return"_value"in e?e._value:e.value}function Ki(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Eo={created(e,t,n){yn(e,t,n,null,"created")},mounted(e,t,n){yn(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){yn(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){yn(e,t,n,o,"updated")}};function Gc(e,t){switch(e){case"SELECT":return Ue;case"TEXTAREA":return ae;default:switch(t){case"checkbox":return Ws;case"radio":return Wc;default:return ae}}}function yn(e,t,n,o,a){const r=Gc(e.tagName,n.props&&n.props.type)[a];r&&r(e,t,n,o)}const Yc=["ctrl","shift","alt","meta"],Qc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yc.some(n=>e[`${n}Key`]&&!t.includes(n))},pe=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(a,...i)=>{for(let r=0;r<t.length;r++){const l=Qc[t[r]];if(l&&l(a,t))return}return e(a,...i)})},Jc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=a=>{if(!("key"in a))return;const i=rs(a.key);if(t.some(r=>r===i||Jc[r]===i))return e(a)})},Zc=Be({patchProp:Lc},bc);let Xa;function Xc(){return Xa||(Xa=qu(Zc))}const ed=(...e)=>{const t=Xc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=sd(o);if(!a)return;const i=t._component;!Pe(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=n(a,!1,td(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t};function td(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sd(e){return qe(e)?document.querySelector(e):e}var nd=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wi;const Yn=e=>Wi=e,Gi=Symbol();function Io(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Gs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Gs||(Gs={}));function od(){const e=Il(!0),t=e.run(()=>M({}));let n=[],o=[];const a=Go({install(i){Yn(a),a._a=i,i.provide(Gi,a),i.config.globalProperties.$pinia=a,o.forEach(r=>n.push(r)),o=[]},use(i){return!this._a&&!nd?o.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Yi=()=>{};function el(e,t,n,o=Yi){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&Ml()&&Rr(a),a}function $s(e,...t){e.slice().forEach(n=>{n(...t)})}const ad=e=>e(),tl=Symbol(),co=Symbol();function Mo(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],a=e[n];Io(a)&&Io(o)&&e.hasOwnProperty(n)&&!He(o)&&!ns(o)?e[n]=Mo(a,o):e[n]=o}return e}const ld=Symbol();function id(e){return!Io(e)||!e.hasOwnProperty(ld)}const{assign:Jt}=Object;function rd(e){return!!(He(e)&&e.effect)}function ud(e,t,n,o){const{state:a,actions:i,getters:r}=t,l=n.state.value[e];let c;function f(){l||(n.state.value[e]=a?a():{});const p=ou(n.state.value[e]);return Jt(p,i,Object.keys(r||{}).reduce((u,m)=>(u[m]=Go(_e(()=>{Yn(n);const g=n._s.get(e);return r[m].call(g,g)})),u),{}))}return c=Qi(e,f,t,n,o,!0),c}function Qi(e,t,n={},o,a,i){let r;const l=Jt({actions:{}},n),c={deep:!0};let f,p,u=[],m=[],g;const S=o.state.value[e];!i&&!S&&(o.state.value[e]={}),M({});let V;function F(A){let _;f=p=!1,typeof A=="function"?(A(o.state.value[e]),_={type:Gs.patchFunction,storeId:e,events:g}):(Mo(o.state.value[e],A),_={type:Gs.patchObject,payload:A,storeId:e,events:g});const O=V=Symbol();rn().then(()=>{V===O&&(f=!0)}),p=!0,$s(u,_,o.state.value[e])}const q=i?function(){const{state:_}=n,O=_?_():{};this.$patch(j=>{Jt(j,O)})}:Yi;function K(){r.stop(),u=[],m=[],o._s.delete(e)}const B=(A,_="")=>{if(tl in A)return A[co]=_,A;const O=function(){Yn(o);const j=Array.from(arguments),T=[],x=[];function I($){T.push($)}function C($){x.push($)}$s(m,{args:j,name:O[co],store:H,after:I,onError:C});let W;try{W=A.apply(this&&this.$id===e?this:H,j)}catch($){throw $s(x,$),$}return W instanceof Promise?W.then($=>($s(T,$),$)).catch($=>($s(x,$),Promise.reject($))):($s(T,W),W)};return O[tl]=!0,O[co]=_,O},N={_p:o,$id:e,$onAction:el.bind(null,m),$patch:F,$reset:q,$subscribe(A,_={}){const O=el(u,A,_.detached,()=>j()),j=r.run(()=>Ye(()=>o.state.value[e],T=>{(_.flush==="sync"?p:f)&&A({storeId:e,type:Gs.direct,events:g},T)},Jt({},c,_)));return O},$dispose:K},H=it(N);o._s.set(e,H);const ee=(o._a&&o._a.runWithContext||ad)(()=>o._e.run(()=>(r=Il()).run(()=>t({action:B}))));for(const A in ee){const _=ee[A];if(He(_)&&!rd(_)||ns(_))i||(S&&id(_)&&(He(_)?_.value=S[A]:Mo(_,S[A])),o.state.value[e][A]=_);else if(typeof _=="function"){const O=B(_,A);ee[A]=O,l.actions[A]=_}}return Jt(H,ee),Jt(Ee(H),ee),Object.defineProperty(H,"$state",{get:()=>o.state.value[e],set:A=>{F(_=>{Jt(_,A)})}}),o._p.forEach(A=>{Jt(H,r.run(()=>A({store:H,app:o._a,pinia:o,options:l})))}),S&&i&&n.hydrate&&n.hydrate(H.$state,S),f=!0,p=!0,H}/*! #__NO_SIDE_EFFECTS__ */function Ji(e,t,n){let o,a;const i=typeof t=="function";typeof e=="string"?(o=e,a=i?n:t):(a=e,o=e.id);function r(l,c){const f=Uu();return l=l||(f?yt(Gi,null):null),l&&Yn(l),l=Wi,l._s.has(o)||(i?Qi(o,t,a,l):ud(o,a,l)),l._s.get(o)}return r.$id=o,r}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function Zi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Zi(e.default)}const Me=Object.assign;function vo(e,t){const n={};for(const o in t){const a=t[o];n[o]=Pt(a)?a.map(e):e(a)}return n}const Ys=()=>{},Pt=Array.isArray,Xi=/#/g,dd=/&/g,vd=/\//g,fd=/=/g,pd=/\?/g,er=/\+/g,gd=/%5B/g,md=/%5D/g,tr=/%5E/g,hd=/%60/g,sr=/%7B/g,yd=/%7C/g,nr=/%7D/g,_d=/%20/g;function oa(e){return encodeURI(""+e).replace(yd,"|").replace(gd,"[").replace(md,"]")}function bd(e){return oa(e).replace(sr,"{").replace(nr,"}").replace(tr,"^")}function Do(e){return oa(e).replace(er,"%2B").replace(_d,"+").replace(Xi,"%23").replace(dd,"%26").replace(hd,"`").replace(sr,"{").replace(nr,"}").replace(tr,"^")}function $d(e){return Do(e).replace(fd,"%3D")}function wd(e){return oa(e).replace(Xi,"%23").replace(pd,"%3F")}function kd(e){return e==null?"":wd(e).replace(vd,"%2F")}function nn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Cd=/\/$/,Sd=e=>e.replace(Cd,"");function fo(e,t,n="/"){let o,a={},i="",r="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),a=e(i)),l>-1&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=Ad(o??t,n),{fullPath:o+(i&&"?")+i+r,path:o,query:a,hash:nn(r)}}function Pd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function sl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function xd(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&Es(t.matched[o],n.matched[a])&&or(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function or(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Td(e[n],t[n]))return!1;return!0}function Td(e,t){return Pt(e)?nl(e,t):Pt(t)?nl(t,e):e===t}function nl(e,t){return Pt(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Ad(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let i=n.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(r).join("/")}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var on;(function(e){e.pop="pop",e.push="push"})(on||(on={}));var Qs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qs||(Qs={}));function Ed(e){if(!e)if(ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Sd(e)}const Id=/^[^#]+#/;function Md(e,t){return e.replace(Id,"#")+t}function Dd(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Qn=()=>({left:window.scrollX,top:window.scrollY});function Vd(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Dd(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ol(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function Rd(e,t){Vo.set(e,t)}function Ud(e){const t=Vo.get(e);return Vo.delete(e),t}let Ld=()=>location.protocol+"//"+location.host;function ar(e,t){const{pathname:n,search:o,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,c=a.slice(l);return c[0]!=="/"&&(c="/"+c),sl(c,"")}return sl(n,e)+o+a}function Od(e,t,n,o){let a=[],i=[],r=null;const l=({state:m})=>{const g=ar(e,location),S=n.value,V=t.value;let F=0;if(m){if(n.value=g,t.value=m,r&&r===S){r=null;return}F=V?m.position-V.position:0}else o(g);a.forEach(q=>{q(n.value,S,{delta:F,type:on.pop,direction:F?F>0?Qs.forward:Qs.back:Qs.unknown})})};function c(){r=n.value}function f(m){a.push(m);const g=()=>{const S=a.indexOf(m);S>-1&&a.splice(S,1)};return i.push(g),g}function p(){const{history:m}=window;m.state&&m.replaceState(Me({},m.state,{scroll:Qn()}),"")}function u(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function al(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Qn():null}}function Fd(e){const{history:t,location:n}=window,o={value:ar(e,n)},a={value:t.state};a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,f,p){const u=e.indexOf("#"),m=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:Ld()+e+c;try{t[p?"replaceState":"pushState"](f,"",m),a.value=f}catch(g){console.error(g),n[p?"replace":"assign"](m)}}function r(c,f){const p=Me({},t.state,al(a.value.back,c,a.value.forward,!0),f,{position:a.value.position});i(c,p,!0),o.value=c}function l(c,f){const p=Me({},a.value,t.state,{forward:c,scroll:Qn()});i(p.current,p,!0);const u=Me({},al(o.value,c,null),{position:p.position+1},f);i(c,u,!1),o.value=c}return{location:o,state:a,push:l,replace:r}}function zd(e){e=Ed(e);const t=Fd(e),n=Od(e,t.state,t.location,t.replace);function o(i,r=!0){r||n.pauseListeners(),history.go(i)}const a=Me({location:"",base:e,go:o,createHref:Md.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Nd(e){return typeof e=="string"||e&&typeof e=="object"}function lr(e){return typeof e=="string"||typeof e=="symbol"}const ir=Symbol("");var ll;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ll||(ll={}));function Is(e,t){return Me(new Error,{type:e,[ir]:!0},t)}function Ot(e,t){return e instanceof Error&&ir in e&&(t==null||!!(e.type&t))}const il="[^/]+?",jd={sensitive:!1,strict:!1,start:!0,end:!0},qd=/[.+*?^${}()[\]/\\]/g;function Hd(e,t){const n=Me({},jd,t),o=[];let a=n.start?"^":"";const i=[];for(const f of e){const p=f.length?[]:[90];n.strict&&!f.length&&(a+="/");for(let u=0;u<f.length;u++){const m=f[u];let g=40+(n.sensitive?.25:0);if(m.type===0)u||(a+="/"),a+=m.value.replace(qd,"\\$&"),g+=40;else if(m.type===1){const{value:S,repeatable:V,optional:F,regexp:q}=m;i.push({name:S,repeatable:V,optional:F});const K=q||il;if(K!==il){g+=10;try{new RegExp(`(${K})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${S}" (${K}): `+N.message)}}let B=V?`((?:${K})(?:/(?:${K}))*)`:`(${K})`;u||(B=F&&f.length<2?`(?:/${B})`:"/"+B),F&&(B+="?"),a+=B,g+=20,F&&(g+=-8),V&&(g+=-20),K===".*"&&(g+=-50)}p.push(g)}o.push(p)}if(n.strict&&n.end){const f=o.length-1;o[f][o[f].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const r=new RegExp(a,n.sensitive?"":"i");function l(f){const p=f.match(r),u={};if(!p)return null;for(let m=1;m<p.length;m++){const g=p[m]||"",S=i[m-1];u[S.name]=g&&S.repeatable?g.split("/"):g}return u}function c(f){let p="",u=!1;for(const m of e){(!u||!p.endsWith("/"))&&(p+="/"),u=!1;for(const g of m)if(g.type===0)p+=g.value;else if(g.type===1){const{value:S,repeatable:V,optional:F}=g,q=S in f?f[S]:"";if(Pt(q)&&!V)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const K=Pt(q)?q.join("/"):q;if(!K)if(F)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):u=!0);else throw new Error(`Missing required param "${S}"`);p+=K}}return p||"/"}return{re:r,score:o,keys:i,parse:l,stringify:c}}function Bd(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function rr(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const i=Bd(o[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-o.length)===1){if(rl(o))return 1;if(rl(a))return-1}return a.length-o.length}function rl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kd={type:0,value:""},Wd=/[a-zA-Z0-9_]/;function Gd(e){if(!e)return[[]];if(e==="/")return[[Kd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${f}": ${g}`)}let n=0,o=n;const a=[];let i;function r(){i&&a.push(i),i=[]}let l=0,c,f="",p="";function u(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function m(){f+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:c==="/"?(f&&u(),r()):c===":"?(u(),n=1):m();break;case 4:m(),n=o;break;case 1:c==="("?n=2:Wd.test(c)?m():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),r(),a}function Yd(e,t,n){const o=Hd(Gd(e.path),n),a=Me(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Qd(e,t){const n=[],o=new Map;t=vl({strict:!1,end:!0,sensitive:!1},t);function a(u){return o.get(u)}function i(u,m,g){const S=!g,V=cl(u);V.aliasOf=g&&g.record;const F=vl(t,u),q=[V];if("alias"in u){const N=typeof u.alias=="string"?[u.alias]:u.alias;for(const H of N)q.push(cl(Me({},V,{components:g?g.record.components:V.components,path:H,aliasOf:g?g.record:V})))}let K,B;for(const N of q){const{path:H}=N;if(m&&H[0]!=="/"){const P=m.record.path,ee=P[P.length-1]==="/"?"":"/";N.path=m.record.path+(H&&ee+H)}if(K=Yd(N,m,F),g?g.alias.push(K):(B=B||K,B!==K&&B.alias.push(K),S&&u.name&&!dl(K)&&r(u.name)),ur(K)&&c(K),V.children){const P=V.children;for(let ee=0;ee<P.length;ee++)i(P[ee],K,g&&g.children[ee])}g=g||K}return B?()=>{r(B)}:Ys}function r(u){if(lr(u)){const m=o.get(u);m&&(o.delete(u),n.splice(n.indexOf(m),1),m.children.forEach(r),m.alias.forEach(r))}else{const m=n.indexOf(u);m>-1&&(n.splice(m,1),u.record.name&&o.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function l(){return n}function c(u){const m=Xd(u,n);n.splice(m,0,u),u.record.name&&!dl(u)&&o.set(u.record.name,u)}function f(u,m){let g,S={},V,F;if("name"in u&&u.name){if(g=o.get(u.name),!g)throw Is(1,{location:u});F=g.record.name,S=Me(ul(m.params,g.keys.filter(B=>!B.optional).concat(g.parent?g.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),u.params&&ul(u.params,g.keys.map(B=>B.name))),V=g.stringify(S)}else if(u.path!=null)V=u.path,g=n.find(B=>B.re.test(V)),g&&(S=g.parse(V),F=g.record.name);else{if(g=m.name?o.get(m.name):n.find(B=>B.re.test(m.path)),!g)throw Is(1,{location:u,currentLocation:m});F=g.record.name,S=Me({},m.params,u.params),V=g.stringify(S)}const q=[];let K=g;for(;K;)q.unshift(K.record),K=K.parent;return{name:F,path:V,params:S,matched:q,meta:Zd(q)}}e.forEach(u=>i(u));function p(){n.length=0,o.clear()}return{addRoute:i,resolve:f,removeRoute:r,clearRoutes:p,getRoutes:l,getRecordMatcher:a}}function ul(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function cl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Jd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Jd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function dl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Zd(e){return e.reduce((t,n)=>Me(t,n.meta),{})}function vl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Xd(e,t){let n=0,o=t.length;for(;n!==o;){const i=n+o>>1;rr(e,t[i])<0?o=i:n=i+1}const a=ev(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function ev(e){let t=e;for(;t=t.parent;)if(ur(t)&&rr(e,t)===0)return t}function ur({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tv(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const i=o[a].replace(er," "),r=i.indexOf("="),l=nn(r<0?i:i.slice(0,r)),c=r<0?null:nn(i.slice(r+1));if(l in t){let f=t[l];Pt(f)||(f=t[l]=[f]),f.push(c)}else t[l]=c}return t}function fl(e){let t="";for(let n in e){const o=e[n];if(n=$d(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pt(o)?o.map(i=>i&&Do(i)):[o&&Do(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function sv(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=Pt(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const nv=Symbol(""),pl=Symbol(""),Jn=Symbol(""),aa=Symbol(""),Ro=Symbol("");function Us(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function es(e,t,n,o,a,i=r=>r()){const r=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,c)=>{const f=m=>{m===!1?c(Is(4,{from:n,to:t})):m instanceof Error?c(m):Nd(m)?c(Is(2,{from:t,to:m})):(r&&o.enterCallbacks[a]===r&&typeof m=="function"&&r.push(m),l())},p=i(()=>e.call(o&&o.instances[a],t,n,f));let u=Promise.resolve(p);e.length<3&&(u=u.then(f)),u.catch(m=>c(m))})}function po(e,t,n,o,a=i=>i()){const i=[];for(const r of e)for(const l in r.components){let c=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(Zi(c)){const p=(c.__vccOpts||c)[t];p&&i.push(es(p,n,o,r,l,a))}else{let f=c();i.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const u=cd(p)?p.default:p;r.mods[l]=p,r.components[l]=u;const g=(u.__vccOpts||u)[t];return g&&es(g,n,o,r,l,a)()}))}}return i}function gl(e){const t=yt(Jn),n=yt(aa),o=_e(()=>{const c=$e(e.to);return t.resolve(c)}),a=_e(()=>{const{matched:c}=o.value,{length:f}=c,p=c[f-1],u=n.matched;if(!p||!u.length)return-1;const m=u.findIndex(Es.bind(null,p));if(m>-1)return m;const g=ml(c[f-2]);return f>1&&ml(p)===g&&u[u.length-1].path!==g?u.findIndex(Es.bind(null,c[f-2])):m}),i=_e(()=>a.value>-1&&rv(n.params,o.value.params)),r=_e(()=>a.value>-1&&a.value===n.matched.length-1&&or(n.params,o.value.params));function l(c={}){if(iv(c)){const f=t[$e(e.replace)?"replace":"push"]($e(e.to)).catch(Ys);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:_e(()=>o.value.href),isActive:i,isExactActive:r,navigate:l}}function ov(e){return e.length===1?e[0]:e}const av=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gl,setup(e,{slots:t}){const n=it(gl(e)),{options:o}=yt(Jn),a=_e(()=>({[hl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[hl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ov(t.default(n));return e.custom?i:na("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),lv=av;function iv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rv(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!Pt(a)||a.length!==o.length||o.some((i,r)=>i!==a[r]))return!1}return!0}function ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hl=(e,t,n)=>e??t??n,uv=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=yt(Ro),a=_e(()=>e.route||o.value),i=yt(pl,0),r=_e(()=>{let f=$e(i);const{matched:p}=a.value;let u;for(;(u=p[f])&&!u.components;)f++;return f}),l=_e(()=>a.value.matched[r.value]);$n(pl,_e(()=>r.value+1)),$n(nv,l),$n(Ro,a);const c=M();return Ye(()=>[c.value,l.value,e.name],([f,p,u],[m,g,S])=>{p&&(p.instances[u]=f,g&&g!==p&&f&&f===m&&(p.leaveGuards.size||(p.leaveGuards=g.leaveGuards),p.updateGuards.size||(p.updateGuards=g.updateGuards))),f&&p&&(!g||!Es(p,g)||!m)&&(p.enterCallbacks[u]||[]).forEach(V=>V(f))},{flush:"post"}),()=>{const f=a.value,p=e.name,u=l.value,m=u&&u.components[p];if(!m)return yl(n.default,{Component:m,route:f});const g=u.props[p],S=g?g===!0?f.params:typeof g=="function"?g(f):g:null,F=na(m,Me({},S,t,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(u.instances[p]=null)},ref:c}));return yl(n.default,{Component:F,route:f})||F}}});function yl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cv=uv;function dv(e){const t=Qd(e.routes,e),n=e.parseQuery||tv,o=e.stringifyQuery||fl,a=e.history,i=Us(),r=Us(),l=Us(),c=tu(Yt);let f=Yt;ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=vo.bind(null,U=>""+U),u=vo.bind(null,kd),m=vo.bind(null,nn);function g(U,ie){let ue,be;return lr(U)?(ue=t.getRecordMatcher(U),be=ie):be=U,t.addRoute(be,ue)}function S(U){const ie=t.getRecordMatcher(U);ie&&t.removeRoute(ie)}function V(){return t.getRoutes().map(U=>U.record)}function F(U){return!!t.getRecordMatcher(U)}function q(U,ie){if(ie=Me({},ie||c.value),typeof U=="string"){const R=fo(n,U,ie.path),G=t.resolve({path:R.path},ie),le=a.createHref(R.fullPath);return Me(R,G,{params:m(G.params),hash:nn(R.hash),redirectedFrom:void 0,href:le})}let ue;if(U.path!=null)ue=Me({},U,{path:fo(n,U.path,ie.path).path});else{const R=Me({},U.params);for(const G in R)R[G]==null&&delete R[G];ue=Me({},U,{params:u(R)}),ie.params=u(ie.params)}const be=t.resolve(ue,ie),Te=U.hash||"";be.params=p(m(be.params));const Ve=Pd(o,Me({},U,{hash:bd(Te),path:be.path})),E=a.createHref(Ve);return Me({fullPath:Ve,hash:Te,query:o===fl?sv(U.query):U.query||{}},be,{redirectedFrom:void 0,href:E})}function K(U){return typeof U=="string"?fo(n,U,c.value.path):Me({},U)}function B(U,ie){if(f!==U)return Is(8,{from:ie,to:U})}function N(U){return ee(U)}function H(U){return N(Me(K(U),{replace:!0}))}function P(U){const ie=U.matched[U.matched.length-1];if(ie&&ie.redirect){const{redirect:ue}=ie;let be=typeof ue=="function"?ue(U):ue;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=K(be):{path:be},be.params={}),Me({query:U.query,hash:U.hash,params:be.path!=null?{}:U.params},be)}}function ee(U,ie){const ue=f=q(U),be=c.value,Te=U.state,Ve=U.force,E=U.replace===!0,R=P(ue);if(R)return ee(Me(K(R),{state:typeof R=="object"?Me({},Te,R.state):Te,force:Ve,replace:E}),ie||ue);const G=ue;G.redirectedFrom=ie;let le;return!Ve&&xd(o,be,ue)&&(le=Is(16,{to:G,from:be}),X(be,be,!0,!1)),(le?Promise.resolve(le):O(G,be)).catch(te=>Ot(te)?Ot(te,2)?te:re(te):Q(te,G,be)).then(te=>{if(te){if(Ot(te,2))return ee(Me({replace:E},K(te.to),{state:typeof te.to=="object"?Me({},Te,te.to.state):Te,force:Ve}),ie||G)}else te=T(G,be,!0,E,Te);return j(G,be,te),te})}function A(U,ie){const ue=B(U,ie);return ue?Promise.reject(ue):Promise.resolve()}function _(U){const ie=h.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(U):U()}function O(U,ie){let ue;const[be,Te,Ve]=vv(U,ie);ue=po(be.reverse(),"beforeRouteLeave",U,ie);for(const R of be)R.leaveGuards.forEach(G=>{ue.push(es(G,U,ie))});const E=A.bind(null,U,ie);return ue.push(E),k(ue).then(()=>{ue=[];for(const R of i.list())ue.push(es(R,U,ie));return ue.push(E),k(ue)}).then(()=>{ue=po(Te,"beforeRouteUpdate",U,ie);for(const R of Te)R.updateGuards.forEach(G=>{ue.push(es(G,U,ie))});return ue.push(E),k(ue)}).then(()=>{ue=[];for(const R of Ve)if(R.beforeEnter)if(Pt(R.beforeEnter))for(const G of R.beforeEnter)ue.push(es(G,U,ie));else ue.push(es(R.beforeEnter,U,ie));return ue.push(E),k(ue)}).then(()=>(U.matched.forEach(R=>R.enterCallbacks={}),ue=po(Ve,"beforeRouteEnter",U,ie,_),ue.push(E),k(ue))).then(()=>{ue=[];for(const R of r.list())ue.push(es(R,U,ie));return ue.push(E),k(ue)}).catch(R=>Ot(R,8)?R:Promise.reject(R))}function j(U,ie,ue){l.list().forEach(be=>_(()=>be(U,ie,ue)))}function T(U,ie,ue,be,Te){const Ve=B(U,ie);if(Ve)return Ve;const E=ie===Yt,R=ks?history.state:{};ue&&(be||E?a.replace(U.fullPath,Me({scroll:E&&R&&R.scroll},Te)):a.push(U.fullPath,Te)),c.value=U,X(U,ie,ue,E),re()}let x;function I(){x||(x=a.listen((U,ie,ue)=>{if(!Z.listening)return;const be=q(U),Te=P(be);if(Te){ee(Me(Te,{replace:!0,force:!0}),be).catch(Ys);return}f=be;const Ve=c.value;ks&&Rd(ol(Ve.fullPath,ue.delta),Qn()),O(be,Ve).catch(E=>Ot(E,12)?E:Ot(E,2)?(ee(Me(K(E.to),{force:!0}),be).then(R=>{Ot(R,20)&&!ue.delta&&ue.type===on.pop&&a.go(-1,!1)}).catch(Ys),Promise.reject()):(ue.delta&&a.go(-ue.delta,!1),Q(E,be,Ve))).then(E=>{E=E||T(be,Ve,!1),E&&(ue.delta&&!Ot(E,8)?a.go(-ue.delta,!1):ue.type===on.pop&&Ot(E,20)&&a.go(-1,!1)),j(be,Ve,E)}).catch(Ys)}))}let C=Us(),W=Us(),$;function Q(U,ie,ue){re(U);const be=W.list();return be.length?be.forEach(Te=>Te(U,ie,ue)):console.error(U),Promise.reject(U)}function xe(){return $&&c.value!==Yt?Promise.resolve():new Promise((U,ie)=>{C.add([U,ie])})}function re(U){return $||($=!U,I(),C.list().forEach(([ie,ue])=>U?ue(U):ie()),C.reset()),U}function X(U,ie,ue,be){const{scrollBehavior:Te}=e;if(!ks||!Te)return Promise.resolve();const Ve=!ue&&Ud(ol(U.fullPath,0))||(be||!ue)&&history.state&&history.state.scroll||null;return rn().then(()=>Te(U,ie,Ve)).then(E=>E&&Vd(E)).catch(E=>Q(E,U,ie))}const ce=U=>a.go(U);let w;const h=new Set,Z={currentRoute:c,listening:!0,addRoute:g,removeRoute:S,clearRoutes:t.clearRoutes,hasRoute:F,getRoutes:V,resolve:q,options:e,push:N,replace:H,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:W.add,isReady:xe,install(U){const ie=this;U.component("RouterLink",lv),U.component("RouterView",cv),U.config.globalProperties.$router=ie,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(c)}),ks&&!w&&c.value===Yt&&(w=!0,N(a.location).catch(Te=>{}));const ue={};for(const Te in Yt)Object.defineProperty(ue,Te,{get:()=>c.value[Te],enumerable:!0});U.provide(Jn,ie),U.provide(aa,Wl(ue)),U.provide(Ro,c);const be=U.unmount;h.add(U),U.unmount=function(){h.delete(U),h.size<1&&(f=Yt,x&&x(),x=null,c.value=Yt,w=!1,$=!1),be()}}};function k(U){return U.reduce((ie,ue)=>ie.then(()=>_(ue)),Promise.resolve())}return Z}function vv(e,t){const n=[],o=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(f=>Es(f,l))?o.push(l):n.push(l));const c=e.matched[r];c&&(t.matched.find(f=>Es(f,c))||a.push(c))}return[n,o,a]}function xt(){return yt(Jn)}function Ut(e){return yt(aa)}const la="https://filmforum.billadom.top/api";function fv(){const e=document.cookie.match(/(?:^|; )XSRF-TOKEN=([^;]+)/);return e?decodeURIComponent(e[1]):void 0}async function me(e,t={}){const n=fv(),o=new Headers(t.headers||{});n&&!o.has("X-CSRF-TOKEN")&&o.set("X-CSRF-TOKEN",n),!o.has("Content-Type")&&t.body&&!(t.body instanceof FormData)&&o.set("Content-Type","application/json");const a=await fetch(`${la}${e}`,{...t,headers:o,credentials:"include"});if(a.status===401)throw new Error("UNAUTHORIZED");if(!a.ok)throw new Error(`HTTP ${a.status}`);if((a.headers.get("content-type")||"").includes("application/json")){const r=await a.json();if(r&&typeof r.code=="number"&&r.code!==200){const l=r.message||"",c=new Error(l);throw c.code=r.code,c}return r}return a.text()}function Ge(e){return JSON.stringify(e)}function dn(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||t.set(n,String(o))}),t.toString()}async function _l(e={},t){const n=dn({page:e.page,size:e.size,tag:e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await me(`/movies${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10}}async function pv(e={},t){const n=dn({page:e.page,size:e.size,tag:e.tag||e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await me(`/movies/list${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next||!1}}async function cr(e,t){return(await me("/movies/add",{method:"POST",body:Ge(e),signal:t})).data}async function gv(e,t){const n=await me(`/movies/${e}`,{signal:t}),o=n.data.data||n.data;return{...o,isLiked:o.isLiked||!1,isFavorited:o.isFavorited||!1}}async function mv(e,t){await me(`/movies/${e}/like`,{method:"POST",signal:t})}async function hv(e,t){await me(`/movies/${e}/unlike`,{method:"POST",signal:t})}async function yv(e,t,n){await me(`/movies/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function _v(e,t){await me(`/movies/${e}/favorite`,{method:"POST",signal:t})}async function bv(e,t){await me(`/movies/${e}/unfavorite`,{method:"POST",signal:t})}async function $v(e={},t){if(!e.keyword||!e.keyword.trim())throw new Error("keyword ");const n=dn({page:e.page,size:e.size,keyword:e.keyword.trim(),tag:e.tag||e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await me(`/movies/search${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next!==!1}}async function wv(e,t){await me(`/movies/${e}/delete`,{method:"POST",signal:t})}async function kv(e){const t=await fetch("https://apis.netstart.cn/maoyan/index/topRatedMovies",{signal:e,headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP ${t.status}`);return await t.json()}async function Cv(e={},t){const n=dn({page:e.page||1,size:e.size||10}),a=(await me(`/movies/hot${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next||!1}}async function Sv(e,t={},n){const o=dn({page:t.page||1,size:t.size||10}),i=(await me(`/movies/${e}/reviews${o?`?${o}`:""}`,{signal:n})).data;return{reviews:(i.reviews||[]).map(l=>({...l,createdAt:l.createTime||l.createdAt,user:l.user||{id:l.userId,username:l.username||"",avatar:l.avatar}})),total:i.total||i.pagination?.total||0,page:i.pagination?.page||t.page||1,size:i.pagination?.size||t.size||10}}const Ie=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},Pv={class:"carousel-container"},xv={class:"carousel-wrapper"},Tv=["onClick"],Av={class:"card-poster"},Ev=["src","alt"],Iv={class:"card-overlay"},Mv={class:"card-content-overlay"},Dv={class:"card-header-overlay"},Vv={class:"card-title-overlay"},Rv={class:"card-rating-badge"},Uv={class:"card-description-overlay"},Lv={class:"carousel-dots"},Ov=["onClick"],Fv={key:0,class:"autoplay-indicator"},zv={class:"progress-bar"},Nv={__name:"Carousel",setup(e){const t=M(0),n=M(!0),o=M(0),a=M(null),i=M(null),r=M(!1);M(!0);const l=M(600),c=M(3);un()?.proxy;const p=[{id:1,title:"",subtitle:"",description:"",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1920&h=1080&fit=crop&q=80",link:"/forum",buttonText:"",trailer:"https://example.com/trailer1",icon:""}],u=M([...p]),m=async()=>{r.value=!0;try{const P=await kv();if(P&&P.movieList&&P.movieList.length>0){const ee=P.movieList.map(A=>({id:A.movieId,title:A.name,subtitle:` ${A.score}`,image:A.poster,link:`/movie/${A.movieId}`}));u.value=ee,t.value=0}}catch(P){console.error(":",P),u.value=[...p],t.value=0}finally{r.value=!1}},g=()=>{u.value.length<=1||(t.value++,B(),t.value>=u.value.length&&(t.value=0))},S=()=>{u.value.length<=1||(t.value--,B(),t.value<0&&(t.value=u.value.length-1))},V=P=>{},F=P=>{t.value=P,B()},q=()=>{n.value&&(a.value=setInterval(()=>{g()},5e3),N())},K=()=>{a.value&&(clearInterval(a.value),a.value=null),i.value&&(clearInterval(i.value),i.value=null)},B=()=>{K(),o.value=0,q()},N=()=>{o.value=0,i.value=setInterval(()=>{o.value+=2,o.value>=100&&(o.value=0)},100)},H=()=>{const P=window.innerWidth;P<=480?(c.value=1,l.value=420):P<=768?(c.value=2,l.value=500):(c.value=3,l.value=600)};return je(async()=>{H(),window.addEventListener("resize",H),await m(),u.value.length>0&&q()}),Jo(()=>{K(),window.removeEventListener("resize",H)}),(P,ee)=>(d(),v("div",Pv,[s("div",xv,[s("div",{class:"carousel-track",style:Rt({transform:`translateX(-${t.value*l.value}px)`,transition:"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)"})},[(d(!0),v(se,null,ve(u.value,(A,_)=>(d(),v("div",{key:A.id||_,class:fe(["movie-card",{active:_===t.value}]),onClick:O=>V()},[s("div",Av,[s("img",{src:A.image,alt:A.title},null,8,Ev),s("div",Iv,[s("div",Mv,[s("div",Dv,[s("h3",Vv,y(A.title),1),s("div",Rv,[ee[0]||(ee[0]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(A.subtitle?.replace(" ","")||"0.0"),1)])]),s("p",Uv,y(A.description),1)])]),ee[1]||(ee[1]=s("div",{class:"card-shine"},null,-1))])],10,Tv))),128))],4)]),s("div",Lv,[(d(!0),v(se,null,ve(u.value,(A,_)=>(d(),v("button",{key:_,class:fe(["dot",{active:t.value===_}]),onClick:O=>F(_)},null,10,Ov))),128))]),s("button",{class:"carousel-nav prev",onClick:S},[...ee[2]||(ee[2]=[s("i",{class:"icon-arrow-left"},null,-1)])]),s("button",{class:"carousel-nav next",onClick:g},[...ee[3]||(ee[3]=[s("i",{class:"icon-arrow-right"},null,-1)])]),n.value?(d(),v("div",Fv,[s("div",zv,[s("div",{class:"progress",style:Rt({width:`${o.value}%`})},null,4)])])):D("",!0)]))}},jv=Ie(Nv,[["__scopeId","data-v-d71da7af"]]);const qv={class:"home"},Hv={class:"hero"},Bv={class:"hero-content"},Kv={class:"hero-actions"},Wv={class:"hero-image"},Gv={class:"floating-cards"},Yv=["src","alt"],Qv={class:"card-overlay"},Jv={class:"categories"},Zv={class:"container"},Xv={class:"categories-grid"},ef={class:"category-icon"},tf={class:"category-stats"},sf={class:"count"},nf={class:"hot-posts"},of={class:"container"},af={class:"section-header"},lf={class:"posts-grid"},rf={class:"post-header"},uf={class:"post-meta"},cf=["src","alt"],df={class:"author-info"},vf={class:"author-name"},ff={class:"post-time"},pf={class:"post-category"},gf={class:"post-content"},mf={class:"post-title"},hf={class:"post-excerpt"},yf={class:"post-footer"},_f={class:"post-stats"},bf={class:"stat"},$f={class:"stat"},wf={class:"stat"},kf={class:"movie-recommendations"},Cf={class:"container"},Sf={class:"movies-slider"},Pf={class:"movie-poster"},xf=["src","alt"],Tf={class:"movie-overlay"},Af={class:"movie-rating"},Ef={class:"movie-info"},If={class:"movie-title"},Mf={class:"movie-genre"},Df={class:"movie-year"},Vf={class:"stats"},Rf={class:"container"},Uf={class:"stats-grid"},Lf={class:"stat-item"},Of={class:"stat-number"},Ff={class:"stat-item"},zf={class:"stat-number"},Nf={class:"stat-item"},jf={class:"stat-number"},qf={class:"stat-item"},Hf={class:"stat-number"},Bf={__name:"Home",setup(e){const t=M([]),n=M([{id:1,name:"",slug:"movie",icon:"icon-film",description:"",postsCount:1234},{id:2,name:"",slug:"tv",icon:"icon-tv",description:"",postsCount:856},{id:3,name:"",slug:"variety",icon:"icon-variety",description:"",postsCount:432}]),o=M([{id:1,title:"2",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face"},category:"movie",categoryName:"",views:1234,comments:89,likes:156,createdAt:new Date(Date.now()-2*60*60*1e3)},{id:2,title:"",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=face"},category:"tv",categoryName:"",views:2156,comments:134,likes:289,createdAt:new Date(Date.now()-4*60*60*1e3)},{id:3,title:"",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face"},category:"anime",categoryName:"",views:987,comments:67,likes:123,createdAt:new Date(Date.now()-6*60*60*1e3)}]),a=M([]),i=M({totalUsers:125678,totalPosts:45678,totalComments:234567,onlineUsers:1234}),r=c=>{const p=new Date-c,u=Math.floor(p/(1e3*60*60)),m=Math.floor(p/(1e3*60));return u>24?`${Math.floor(u/24)}`:u>0?`${u}`:`${m}`};async function l(){const c=await _l({page:1,size:6}),f=Array.isArray(c?.movies)?c.movies:[];t.value=f.map(m=>({id:m.id,title:m.title,poster:m.poster,rating:m.rating||0}));const p=await _l({page:1,size:12}),u=Array.isArray(p?.movies)?p.movies:[];a.value=u.map(m=>({id:m.id,title:m.title,poster:m.poster,genre:Array.isArray(m.tag)?m.tag.join(","):m.tag||"",year:String(m.year||""),rating:m.rating||0}))}return je(l),(c,f)=>{const p=dt("router-link");return d(),v("div",qv,[ge(jv),s("section",Hv,[s("div",Bv,[f[3]||(f[3]=Kt('<div class="hero-header" data-v-20f6966b><span class="hero-icon" data-v-20f6966b></span><h1 class="hero-title" data-v-20f6966b></h1></div><h2 class="hero-subtitle" data-v-20f6966b></h2><p class="hero-description" data-v-20f6966b>  </p>',3)),s("div",Kv,[ge(p,{to:"/forum",class:"btn btn-primary btn-lg"},{default:Ce(()=>[...f[1]||(f[1]=[s("span",{class:"btn-icon"},"",-1),oe("  ",-1)])]),_:1}),ge(p,{to:"/register",class:"btn btn-outline btn-lg"},{default:Ce(()=>[...f[2]||(f[2]=[s("span",{class:"btn-icon"},"",-1),oe("  ",-1)])]),_:1})])]),s("div",Wv,[s("div",Gv,[(d(!0),v(se,null,ve(t.value,(u,m)=>(d(),v("div",{class:"movie-card",key:u.id,style:Rt({animationDelay:`${m*.2}s`})},[s("img",{src:u.poster,alt:u.title},null,8,Yv),s("div",Qv,[s("h4",null,y(u.title),1),s("p",null,y(u.rating)+"",1)])],4))),128))])])]),s("section",Jv,[s("div",Zv,[f[5]||(f[5]=s("h2",{class:"section-title"},"",-1)),f[6]||(f[6]=s("p",{class:"section-subtitle"},"",-1)),s("div",Xv,[(d(!0),v(se,null,ve(n.value,u=>(d(),rt(p,{key:u.id,to:{name:"Search",query:{type:u.slug}},class:"category-card"},{default:Ce(()=>[s("div",ef,[s("i",{class:fe(u.icon)},null,2)]),s("h3",null,y(u.name),1),s("p",null,y(u.description),1),s("div",tf,[s("span",sf,y(u.postsCount),1),f[4]||(f[4]=s("span",{class:"suffix"},"",-1))])]),_:2},1032,["to"]))),128))])])]),s("section",nf,[s("div",of,[s("div",af,[f[8]||(f[8]=s("h2",{class:"section-title"},"",-1)),ge(p,{to:"/forum",class:"view-all-link"},{default:Ce(()=>[...f[7]||(f[7]=[oe("",-1)])]),_:1})]),s("div",lf,[(d(!0),v(se,null,ve(o.value,u=>(d(),v("div",{key:u.id,class:"post-card"},[s("div",rf,[s("div",uf,[s("img",{src:u.author.avatar||"/avatar.png",alt:u.author.username,class:"author-avatar",onError:f[0]||(f[0]=m=>m.target.src="/avatar.png")},null,40,cf),s("div",df,[s("span",vf,y(u.author.username),1),s("span",ff,y(r(u.createTime)),1)])]),s("div",pf,[s("span",{class:fe(`category-tag category-${u.category}`)},y(u.categoryName),3)])]),s("div",gf,[s("h3",mf,y(u.title),1),s("p",hf,y(u.excerpt),1)]),s("div",yf,[s("div",_f,[s("span",bf,[f[9]||(f[9]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y(u.views),1)]),s("span",$f,[f[10]||(f[10]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y(u.comments),1)]),s("span",wf,[f[11]||(f[11]=s("i",{class:"icon-like"},null,-1)),oe(" "+y(u.likes),1)])]),ge(p,{to:`/post/${u.id}`,class:"read-more"},{default:Ce(()=>[...f[12]||(f[12]=[oe("  ",-1)])]),_:1},8,["to"])])]))),128))])])]),s("section",kf,[s("div",Cf,[f[15]||(f[15]=s("h2",{class:"section-title"},"",-1)),s("div",Sf,[(d(!0),v(se,null,ve(a.value,u=>(d(),v("div",{class:"movie-item",key:u.id},[s("div",Pf,[s("img",{src:u.poster,alt:u.title},null,8,xf),s("div",Tf,[f[14]||(f[14]=s("button",{class:"play-btn"},[s("i",{class:"icon-play"})],-1)),s("div",Af,[f[13]||(f[13]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(u.rating),1)])])]),s("div",Ef,[s("h4",If,y(u.title),1),s("p",Mf,y(u.genre),1),s("p",Df,y(u.year),1)])]))),128))])])]),s("section",Vf,[s("div",Rf,[s("div",Uf,[s("div",Lf,[s("div",Of,y(i.value.totalUsers.toLocaleString()),1),f[16]||(f[16]=s("div",{class:"stat-label"},"",-1))]),s("div",Ff,[s("div",zf,y(i.value.totalPosts.toLocaleString()),1),f[17]||(f[17]=s("div",{class:"stat-label"},"",-1))]),s("div",Nf,[s("div",jf,y(i.value.totalComments.toLocaleString()),1),f[18]||(f[18]=s("div",{class:"stat-label"},"",-1))]),s("div",qf,[s("div",Hf,y(i.value.onlineUsers.toLocaleString()),1),f[19]||(f[19]=s("div",{class:"stat-label"},"",-1))])])])])])}}},Kf=Ie(Bf,[["__scopeId","data-v-20f6966b"]]),ct={getPosts:async(e=1,t=10,n,o)=>{const a=new URLSearchParams;return a.append("page",e.toString()),a.append("size",t.toString()),n&&a.append("category",n),o&&a.append("keyword",o),await me(`/posts/list?${a.toString()}`)},getPostDetail:async e=>await me(`/posts/${e}`),createPost:async e=>await me("/posts/create",{method:"POST",body:Ge(e)}),updatePost:async(e,t)=>await me(`/posts/${e}/edit`,{method:"POST",body:Ge(t)}),deletePost:async e=>await me(`/posts/${e}/delete`,{method:"POST"}),likePost:async e=>await me(`/posts/${e}/like`,{method:"POST",body:Ge({action:"like"})}),unlikePost:async e=>await me(`/posts/${e}/unlike`,{method:"POST"}),getComments:async e=>await me(`/posts/${e}/comments`),createComment:async e=>await me("/comments/create",{method:"POST",body:Ge(e)}),updateComment:async e=>{const{id:t,...n}=e;return await me(`/comments/${t}/edit`,{method:"POST",body:Ge(n)})},deleteComment:async e=>{console.log("deleteComment APIID:",e);try{const t=await me(`/comments/${e}/delete`,{method:"POST"});return console.log("deleteComment API:",t),t}catch(t){throw console.error("deleteComment API:",t),t}},getUserPosts:async(e,t=1,n=10)=>{const o=new URLSearchParams;return o.append("page",t.toString()),o.append("size",n.toString()),await me(`/user/${e}/posts?${o.toString()}`)},getPostPermission:async e=>await me(`/posts/${e}/permission`)},ps=M([]);let Wf=0;class Gf{notify(t,n={}){const o=++Wf,a={id:o,message:t,type:n.type||"info",duration:n.duration??3e3,showClose:n.showClose??!0,onClose:n.onClose,visible:!0};return ps.value.push(a),a.duration>0&&setTimeout(()=>{this.close(o)},a.duration),o}success(t,n={}){return this.notify(t,{...n,type:"success"})}error(t,n={}){return this.notify(t,{...n,type:"error"})}warning(t,n={}){return this.notify(t,{...n,type:"warning"})}info(t,n={}){return this.notify(t,{...n,type:"info"})}close(t){const n=ps.value.findIndex(o=>o.id===t);if(n!==-1){const o=ps.value[n];o.visible=!1,o.onClose&&o.onClose(),setTimeout(()=>{ps.value.splice(n,1)},300)}}closeAll(){ps.value.forEach(t=>{t.visible=!1,t.onClose&&t.onClose()}),setTimeout(()=>{ps.value=[]},300)}}const de=new Gf,Yf={class:"forum"},Qf={class:"container"},Jf={class:"forum-header"},Zf={class:"header-content"},Xf={class:"page-title"},ep={class:"page-subtitle"},tp={class:"header-actions"},sp={class:"forum-filters"},np={class:"search-box"},op={class:"filter-group"},ap={class:"posts-container"},lp={key:0,class:"loading"},ip={key:1,class:"empty-state"},rp={key:2,class:"posts-list"},up={class:"post-content"},cp={class:"post-header"},dp={class:"post-meta"},vp=["src","alt"],fp={class:"author-info"},pp={class:"post-time"},gp={class:"post-category"},mp={class:"post-excerpt"},hp={key:0,class:"post-tags"},yp={class:"post-footer"},_p={class:"post-stats"},bp={class:"stat"},$p={class:"stat"},wp={class:"post-actions"},kp=["onClick"],Cp={key:3,class:"pagination-container"},Sp={class:"pagination-info"},Pp={key:0,class:"divider"},xp={key:0,class:"pagination"},Tp=["disabled"],Ap=["disabled"],Ep={key:0,class:"page-numbers"},Ip=["onClick"],Mp={key:1,class:"page-ellipsis"},Dp=["disabled"],Vp=["disabled"],Rp={key:1,class:"page-jump"},Up=["max"],Lp={class:"modal-body"},Op={class:"form-group"},Fp={class:"form-group"},zp={class:"form-group"},Np={class:"form-group"},jp={class:"form-actions"},qp=["disabled"],Hp=Ne({__name:"Forum",setup(e){const t=Ut(),n=xt(),o=M(!1),a=M([]),i=M("latest"),r=M(""),l=M(""),c=M(1),f=M(10),p=M(!1),u=M(!1),m=M(1),g=M({total:0,page:1,size:10,has_next:!1}),S=M({title:"",category:"",tagsInput:"",content:""}),V=_e(()=>{if(!a.value||!Array.isArray(a.value))return[];let I=[...a.value];return I.sort((C,W)=>{switch(i.value){case"hot":return(W.commentsCount||0)*2-(C.commentsCount||0)*2;case"views":return(W.views||0)-(C.views||0);case"comments":return(W.commentsCount||0)-(C.commentsCount||0);case"latest":default:const $=C.createdAt||C.createTime?new Date(C.createdAt||C.createTime).getTime():0;return(W.createdAt||W.createTime?new Date(W.createdAt||W.createTime).getTime():0)-$}}),I}),F=_e(()=>{if(!g.value)return 0;const I=g.value.total||0;if(I===0)return 0;const C=f.value||g.value.size||10,W=Math.ceil(I/C);return W>0?W:1}),q=_e(()=>{const I=[],C=F.value,W=c.value;if(C<=7)for(let $=1;$<=C;$++)I.push($);else if(W<=4){for(let $=1;$<=5;$++)I.push($);I.push("..."),I.push(C)}else if(W>=C-3){I.push(1),I.push("...");for(let $=C-4;$<=C;$++)I.push($)}else{I.push(1),I.push("...");for(let $=W-2;$<=W+2;$++)I.push($);I.push("..."),I.push(C)}return I}),K=()=>{const I={movie:"",tv:"",variety:""},C=Array.isArray(t.params.category)?t.params.category[0]:t.params.category;return I[C]||""},B=()=>{const I={movie:"",tv:"",variety:""},C=Array.isArray(t.params.category)?t.params.category[0]:t.params.category;return I[C]||""},N=I=>{if(!I)return"";const C=new Date,W=new Date(I),$=C.getTime()-W.getTime(),Q=Math.floor($/(1e3*60*60*24)),xe=Math.floor($/(1e3*60*60)),re=Math.floor($/(1e3*60));return Q>0?`${Q}`:xe>0?`${xe}`:re>0?`${re}`:""},H=async()=>{o.value=!0;try{const I=l.value||t.params.category||"",C=await ct.getPosts(c.value,f.value,I||void 0,r.value||void 0);if(C.code===200){const W={movie:"",tv:"",variety:""};if(a.value=C.data.posts.map($=>({...$,createdAt:$.createTime,categoryName:W[$.category]||""})),C.data.pagination)g.value={total:C.data.pagination.total||0,page:C.data.pagination.page||c.value,size:C.data.pagination.size||f.value,has_next:C.data.pagination.has_next||!1},c.value=g.value.page,m.value=g.value.page;else{const $=C.data.posts.length===f.value?c.value*f.value+1:(c.value-1)*f.value+C.data.posts.length;g.value={total:$,page:c.value,size:f.value,has_next:C.data.posts.length===f.value}}}else throw new Error(C.message||"")}catch(I){console.error(":",I),a.value=[],g.value={total:0,page:1,size:f.value,has_next:!1}}finally{o.value=!1}},P=()=>{c.value=1,m.value=1,l.value?n.push(`/forum/${l.value}`):n.push("/forum"),H()},ee=()=>{c.value=1,m.value=1,H()},A=I=>{if(I==="...")return;const C=typeof I=="string"?parseInt(I,10):I;C>=1&&C<=F.value&&C!==c.value&&(c.value=C,m.value=C,H(),window.scrollTo({top:0,behavior:"smooth"}))},_=()=>{c.value=1,m.value=1,H()},O=()=>{const I=Math.max(1,Math.min(m.value,F.value));I!==c.value&&(c.value=I,m.value=I,H(),window.scrollTo({top:0,behavior:"smooth"}))},j=I=>{navigator.share?navigator.share({title:I.title,text:I.excerpt||"",url:window.location.origin+`/post/${I.id}`}):(navigator.clipboard.writeText(window.location.origin+`/post/${I.id}`),de.success(""))},T=()=>{p.value=!1,S.value={title:"",category:"",tagsInput:"",content:""}},x=async()=>{u.value=!0;try{const I=S.value.tagsInput.split(",").map($=>$.trim()).filter($=>$),C={title:S.value.title,content:S.value.content,category:S.value.category,tags:I},W=await ct.createPost(C);W.code===200?(T(),await H(),n.push(`/post/${W.data.id}`)):de.error(W.message||"")}catch(I){console.error(":",I),de.error("")}finally{u.value=!1}};return Ye(()=>t.params.category,I=>{I?l.value=I:l.value="",c.value=1,m.value=1,H()}),Ye(()=>t.query.search,I=>{if(I){const C=Array.isArray(I)?I[0]:I;C&&typeof C=="string"&&(r.value=C)}}),je(()=>{if(t.params.category&&(l.value=t.params.category),t.query.search){const I=Array.isArray(t.query.search)?t.query.search[0]:t.query.search;I&&typeof I=="string"&&(r.value=I)}H(),sessionStorage.removeItem("isEditMode"),sessionStorage.removeItem("editPostData")}),(I,C)=>{const W=dt("router-link");return d(),v("div",Yf,[s("div",Qf,[s("div",Jf,[s("div",Zf,[s("h1",Xf,[C[16]||(C[16]=s("i",{class:"icon-forum"},null,-1)),oe(" "+y(K()),1)]),s("p",ep,y(B()),1)]),s("div",tp,[s("button",{class:"btn btn-primary",onClick:C[0]||(C[0]=$=>p.value=!0)},[...C[17]||(C[17]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])])]),s("div",sp,[s("div",np,[C[19]||(C[19]=s("div",{class:"search-icon-wrapper"},[s("i",{class:"icon-search"})],-1)),J(s("input",{type:"text",placeholder:"...","onUpdate:modelValue":C[1]||(C[1]=$=>r.value=$),onKeyup:Qe(ee,["enter"]),class:"search-input"},null,544),[[ae,r.value]]),s("button",{onClick:ee,class:"search-btn"},[...C[18]||(C[18]=[s("span",null,"",-1)])])]),s("div",op,[C[21]||(C[21]=s("div",{class:"filter-label"},[s("i",{class:"icon-filter"})],-1)),J(s("select",{"onUpdate:modelValue":C[2]||(C[2]=$=>l.value=$),onChange:P,class:"filter-select"},[...C[20]||(C[20]=[s("option",{value:""},"",-1),s("option",{value:"movie"}," ",-1),s("option",{value:"tv"}," ",-1),s("option",{value:"variety"}," ",-1)])],544),[[Ue,l.value]])])]),s("div",ap,[o.value?(d(),v("div",lp,[...C[22]||(C[22]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):!a.value||a.value.length===0?(d(),v("div",ip,[C[23]||(C[23]=s("i",{class:"icon-empty"},null,-1)),C[24]||(C[24]=s("h3",null,"",-1)),C[25]||(C[25]=s("p",null,"",-1)),s("button",{class:"btn btn-primary",onClick:C[3]||(C[3]=$=>p.value=!0)},"  ")])):(d(),v("div",rp,[(d(!0),v(se,null,ve(V.value,$=>(d(),v("div",{key:$.id,class:"post-item"},[s("div",up,[s("div",cp,[s("div",dp,[s("img",{src:$.author.avatar||"/avatar.png",alt:$.author.username,class:"author-avatar",onError:C[4]||(C[4]=Q=>{const xe=Q.target;xe&&(xe.src="/avatar.png")})},null,40,vp),s("div",fp,[ge(W,{to:`/user/${$.author.id}`,class:"author-name"},{default:Ce(()=>[oe(y($.author.username),1)]),_:2},1032,["to"]),s("span",pp,y(N($.createdAt||$.createTime)),1)])]),s("div",gp,[s("span",{class:fe(`category-tag category-${$.category}`)},y($.categoryName||""),3)])]),ge(W,{to:`/post/${$.id}`,class:"post-title"},{default:Ce(()=>[oe(y($.title),1)]),_:2},1032,["to"]),s("p",mp,y($.excerpt),1),$.tags&&$.tags.length>0?(d(),v("div",hp,[(d(!0),v(se,null,ve($.tags,Q=>(d(),v("span",{key:Q,class:"tag"},y(Q),1))),128))])):D("",!0),s("div",yp,[s("div",_p,[s("span",bp,[C[26]||(C[26]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y($.views),1)]),s("span",$p,[C[27]||(C[27]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y($.commentsCount||0),1)])]),s("div",wp,[s("button",{class:"action-btn",onClick:Q=>j($)},[...C[28]||(C[28]=[s("i",{class:"icon-share"},null,-1)])],8,kp)])])])]))),128))])),g.value.total>0?(d(),v("div",Cp,[s("div",Sp,[s("span",null," "+y(g.value.total)+" ",1),g.value.total>0?(d(),v("span",Pp,"|")):D("",!0),g.value.total>0?(d(),v(se,{key:1},[C[30]||(C[30]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":C[5]||(C[5]=$=>f.value=$),onChange:_,class:"page-size-select"},[...C[29]||(C[29]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,f.value]]),C[31]||(C[31]=s("span",null,"",-1))],64)):D("",!0)]),F.value>=1?(d(),v("div",xp,[s("button",{class:"pagination-btn",disabled:c.value<=1,onClick:C[6]||(C[6]=$=>A(1)),title:""},"  ",8,Tp),s("button",{class:"pagination-btn",disabled:c.value===1,onClick:C[7]||(C[7]=$=>A(c.value-1)),title:""},"  ",8,Ap),F.value>1?(d(),v("div",Ep,[(d(!0),v(se,null,ve(q.value,$=>(d(),v(se,{key:$},[typeof $=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:$===c.value}]),onClick:Q=>A($)},y($),11,Ip)):(d(),v("span",Mp,y($),1))],64))),128))])):D("",!0),s("button",{class:"pagination-btn",disabled:c.value>=F.value,onClick:C[8]||(C[8]=$=>A(c.value+1)),title:""},"  ",8,Dp),s("button",{class:"pagination-btn",disabled:c.value>=F.value,onClick:C[9]||(C[9]=$=>A(F.value)),title:""},"  ",8,Vp),F.value>1?(d(),v("div",Rp,[C[32]||(C[32]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":C[10]||(C[10]=$=>m.value=$),min:1,max:F.value,onKeyup:Qe(O,["enter"]),class:"jump-input"},null,40,Up),[[ae,m.value,void 0,{number:!0}]]),C[33]||(C[33]=s("span",null,"",-1)),s("button",{onClick:O,class:"jump-btn"},"")])):D("",!0)])):D("",!0)])):D("",!0)])]),p.value?(d(),v("div",{key:0,class:"modal-overlay",onClick:T},[s("div",{class:"modal-content",onClick:C[15]||(C[15]=pe(()=>{},["stop"]))},[s("div",{class:"modal-header"},[C[35]||(C[35]=s("h3",null,"",-1)),s("button",{class:"close-btn",onClick:T},[...C[34]||(C[34]=[s("i",{class:"icon-close"},null,-1)])])]),s("div",Lp,[s("form",{onSubmit:pe(x,["prevent"])},[s("div",Op,[C[36]||(C[36]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":C[11]||(C[11]=$=>S.value.title=$),placeholder:"...",required:"",class:"form-input"},null,512),[[ae,S.value.title]])]),s("div",Fp,[C[38]||(C[38]=s("label",null,"",-1)),J(s("select",{"onUpdate:modelValue":C[12]||(C[12]=$=>S.value.category=$),required:"",class:"form-select"},[...C[37]||(C[37]=[s("option",{value:""},"",-1),s("option",{value:"movie"},"",-1),s("option",{value:"tv"},"",-1),s("option",{value:"variety"},"",-1)])],512),[[Ue,S.value.category]])]),s("div",zp,[C[39]||(C[39]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":C[13]||(C[13]=$=>S.value.tagsInput=$),placeholder:"...",class:"form-input"},null,512),[[ae,S.value.tagsInput]])]),s("div",Np,[C[40]||(C[40]=s("label",null,"",-1)),J(s("textarea",{"onUpdate:modelValue":C[14]||(C[14]=$=>S.value.content=$),placeholder:"...",rows:"8",required:"",class:"form-textarea"},null,512),[[ae,S.value.content]])]),s("div",jp,[s("button",{type:"button",class:"btn btn-outline",onClick:T},"  "),s("button",{type:"submit",class:"btn btn-primary",disabled:u.value},y(u.value?"...":""),9,qp)])],32)])])])):D("",!0)])}}});const bl=Ie(Hp,[["__scopeId","data-v-d74d0279"]]),ot=M({visible:!1,title:"",message:"",confirmText:"",cancelText:"",type:"warning",isProcessing:!1});class Bp{confirm(t,n={}){return new Promise((o,a)=>{ot.value={visible:!0,title:n.title||"",message:t,confirmText:n.confirmText||"",cancelText:n.cancelText||"",type:n.type||"warning",resolve:o,reject:a,isProcessing:!1}})}warning(t,n={}){return this.confirm(t,{...n,type:"warning"})}danger(t,n={}){return this.confirm(t,{...n,type:"danger"})}info(t,n={}){return this.confirm(t,{...n,type:"info"})}handleConfirm=()=>{ot.value.isProcessing=!0,setTimeout(()=>{ot.value.resolve&&ot.value.resolve(!0),this.close()},100)};handleCancel=()=>{ot.value.resolve&&ot.value.resolve(!1),this.close()};close(){ot.value={visible:!1,title:"",message:"",confirmText:"",cancelText:"",type:"warning",isProcessing:!1}}setProcessing(t){ot.value.isProcessing=t}}const xs=new Bp,ia="remembered_credentials";function Kp(e,t){try{const n={username:e,password:t};localStorage.setItem(ia,JSON.stringify(n))}catch(n){console.error(":",n)}}function $l(){try{const e=localStorage.getItem(ia);if(e)return JSON.parse(e)}catch(e){console.error(":",e)}return null}function Wp(){try{localStorage.removeItem(ia)}catch(e){console.error(":",e)}}const Je=Ji("user",()=>{const e=M(null),t=M(null),n=_e(()=>!!e.value),o=_e(()=>{if(!e.value)return!1;if(e.value.username==="admin")return!0;if(!e.value?.role)return!1;const u=e.value.role.toLowerCase();return u.includes("admin")||u==="administrator"||u==="role_admin"}),a=async u=>{try{const m=new FormData;m.append("username",u.username),m.append("password",u.password),u.remember&&m.append("remember-me","1");const g=await me("/user/login",{method:"POST",body:m});if(g&&(g.code===200||g.code==="200")&&g.data){const S=await me(`/user/${g.data.id}/info`);if(S&&S.code===200&&S.data){e.value=S.data;try{localStorage.setItem("current_user_id",S.data.id.toString()),localStorage.setItem("user_info",JSON.stringify(S.data))}catch(V){console.error(":",V)}}else{e.value=g.data;try{localStorage.setItem("current_user_id",g.data.id.toString()),localStorage.setItem("user_info",JSON.stringify(g.data))}catch(V){console.error(":",V)}}return u.remember?Kp(u.username,u.password):Wp(),{success:!0}}return{success:!1,message:g&&g.message||""}}catch{return{success:!1,message:""}}};return{user:e,userId:t,isLoggedIn:n,isAdmin:o,login:a,register:async u=>{try{const m=await me("/user/register",{method:"POST",body:Ge({username:u.username,nickname:u.nickname,password:u.password,email:u.email,favors:u.favors})});return m&&(m.code===200||m.code==="200")?{success:!0}:{success:!1,message:m&&m.message||""}}catch{return{success:!1,message:""}}},logout:async()=>{try{await me("/user/logout",{method:"POST"})}catch{}e.value=null,t.value=null;try{localStorage.removeItem("remembered_credentials"),localStorage.removeItem("autoLogin"),localStorage.removeItem("user_token"),localStorage.removeItem("user_info"),localStorage.removeItem("current_user_id"),sessionStorage.removeItem("user_token"),sessionStorage.removeItem("user_info")}catch(u){console.error(":",u)}},loadUserFromStorage:async()=>{try{const u=localStorage.getItem("user_info");if(u){const g=JSON.parse(u);if(console.log(":",g),e.value=g,t.value=e.value.id,!g.role){console.log("...");const S=await me(`/user/${t.value}/info`);console.log(":",S.data),S&&S.code===200&&S.data&&(e.value=S.data,localStorage.setItem("user_info",JSON.stringify(S.data)),console.log(":",S.data))}return}const m=localStorage.getItem("current_user_id");if(m){t.value=parseInt(m);const g=await me(`/user/${t.value}/info`);g&&g.code===200&&g.data?(e.value=g.data,localStorage.setItem("user_info",JSON.stringify(g.data))):(e.value=null,t.value=null,localStorage.removeItem("current_user_id"),localStorage.removeItem("user_info"))}else e.value=null}catch(u){console.error(":",u),e.value=null,t.value=null,localStorage.removeItem("current_user_id"),localStorage.removeItem("user_info")}},updateProfile:async u=>{try{const m=await me("/user/profile",{method:"PATCH",body:Ge(u)});return m.success&&m.user?(e.value={...e.value,...m.user},{success:!0}):{success:!1,message:m.message||""}}catch{return{success:!1,message:""}}},autoLogin:async()=>{const u=$l();if(!u||!u.username||!u.password)return!1;try{return(await a({username:u.username,password:u.password,remember:!0})).success}catch{return!1}},getSavedCredentials:()=>$l()}}),Gp={class:"post-detail"},Yp={class:"container"},Qp={key:0,class:"loading"},Jp={key:1,class:"post-content"},Zp={class:"post-header"},Xp={class:"post-meta"},eg=["src","alt"],tg={class:"author-info"},sg={class:"post-time"},ng={class:"post-actions"},og={class:"post-body"},ag={class:"post-title"},lg={key:0,class:"post-tags"},ig=["innerHTML"],rg={class:"post-stats"},ug={class:"stat-item"},cg={class:"stat-item"},dg={class:"stat-item"},vg={class:"post-voting"},fg={class:"comments-section"},pg={class:"comments-header"},gg={key:0,class:"comment-form"},mg={class:"form-group"},hg={class:"form-actions"},yg=["disabled"],_g={class:"comments-list"},bg=["id"],$g={class:"comment-header"},wg=["src","alt"],kg={class:"comment-meta"},Cg={class:"comment-author"},Sg={class:"comment-time"},Pg={class:"comment-actions"},xg=["onClick"],Tg=["onClick"],Ag=["onClick"],Eg=["innerHTML"],Ig=["id"],Mg={class:"form-group"},Dg={class:"form-actions"},Vg=["disabled"],Rg=["id"],Ug={class:"form-group"},Lg={class:"form-actions"},Og=["disabled"],Fg={key:2,class:"replies-list"},zg=["id"],Ng={class:"comment-header"},jg=["src","alt"],qg={class:"comment-meta"},Hg={class:"comment-author"},Bg={class:"comment-time"},Kg={class:"comment-actions"},Wg=["onClick"],Gg=["onClick"],Yg=["innerHTML"],Qg=["id"],Jg={class:"form-group"},Zg={class:"form-actions"},Xg=["disabled"],em={class:"modal-body"},tm={class:"form-group"},sm={class:"form-group"},nm={class:"form-group"},om={class:"form-group"},am={class:"form-actions"},lm=["disabled"],im=Ne({__name:"PostDetail",setup(e){const t=Ut(),n=Je(),o=M(!0),a=M(null),i=M([]),r=M(0);M(null);const l=M(!1),c=M(!1),f=M(!1),p=M(""),u=M(""),m=M(!1),g=M(!1),S=M(null),V=M(null),F=M(""),q=M(!1),K=M(null),B=M({canEdit:!1,canDelete:!1}),N=w=>{V.value=w,F.value=w.content,q.value=!0,setTimeout(()=>{const h=document.getElementById(`comment-edit-form-${w.id}`);h&&h.scrollIntoView({behavior:"smooth",block:"center"})},100)},H=async w=>{console.log("ID:",w.id);const h=await xs.danger("",{title:""});if(console.log(":",h),!h){console.log("");return}K.value=w.id,console.log("ID:",w.id);try{console.log("APIID:",w.id);const Z=await ct.deleteComment(w.id);if(console.log("API:",Z),Z.code===200){console.log(""),de.success("");const k=parseInt(t.params.id.toString());await _(k)}else{const k=Z.message||"";console.error("API:",k),de.error(k)}}catch(Z){console.error(":",Z),Z.message==="UNAUTHORIZED"||Z.message.includes("401")?de.error(""):de.error(Z.message||"")}finally{K.value=null,console.log("ID")}},P=M({id:0,title:"",content:"",category:"",tagsInput:""}),ee=w=>{if(!w)return"";const Z=new Date().getTime()-new Date(w).getTime(),k=Math.floor(Z/(1e3*60*60*24)),U=Math.floor(Z/(1e3*60*60)),ie=Math.floor(Z/(1e3*60));return k>0?`${k}`:U>0?`${U}`:ie>0?`${ie}`:""},A=w=>w.replace(/\n/g,"<br>"),_=async w=>{try{const h=await ct.getComments(w);if(console.log("API:",h),h.code===200){const Z=h.data?.comments||[],k=U=>{const ie=n.userId,ue=ie!==null&&U.author?.id===ie,be={...U,createdAt:U.createTime||U.createdAt,canEdit:ue,canDelete:ue};return be.replies&&Array.isArray(be.replies)&&(be.replies=be.replies.map(Te=>{const Ve=ie!==null&&Te.author?.id===ie;return{...Te,createdAt:Te.createTime||Te.createdAt,canEdit:Ve,canDelete:Ve}})),be};if(i.value=Z.map(k),a.value&&a.value.commentsCount!==void 0)r.value=a.value.commentsCount;else if(h.data?.total!==void 0)r.value=h.data.total;else{const U=Z.reduce((ie,ue)=>ie+1+(ue.replies?ue.replies.length:0),0);r.value=U}console.log(":",i.value),console.log(":",r.value)}else throw new Error(h.message||"")}catch(h){console.error(":",h),i.value=[],a.value&&a.value.commentsCount!==void 0?r.value=a.value.commentsCount:r.value=0}},O=()=>{q.value=!1,V.value=null,F.value=""},j=async()=>{if(!(!V.value||!F.value.trim())){console.log(""),m.value=!0,console.log("submitting:",m.value);try{console.log(":",{id:V.value.id,content:F.value.trim()});const w=await ct.updateComment({id:V.value.id,content:F.value.trim()});if(console.log("API:",w),w.code===200){console.log(""),de.success(""),O();const h=parseInt(t.params.id.toString());await _(h)}else{const h=w.message||"";console.error("API:",w.code,h),de.error(h)}}catch(w){console.error(":",w),w.message==="UNAUTHORIZED"||w.message.includes("401")?de.error(""):de.error(w.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{m.value=!1,console.log("submitting:",m.value)},100)}}},T=async()=>{o.value=!0;try{const w=parseInt(t.params.id.toString());if(isNaN(w))throw new Error("ID");const h=await ct.getPostDetail(w);if(h.code===200){const Z={...h.data,createdAt:h.data.createTime};a.value=Z,Z.commentsCount!==void 0&&(r.value=Z.commentsCount);try{const U=await ct.getPostPermission(w);U.code===200&&(B.value=U.data)}catch(U){console.error(":",U),B.value={canEdit:!1,canDelete:!1}}await _(w);const k=t.query.commentId;k&&setTimeout(()=>{ce(k.toString())},300)}else throw new Error(h.message||"")}catch(w){console.error(":",w),de.error("")}finally{o.value=!1}},x=async w=>{if(!(!a.value||m.value||w!=="up")){m.value=!0;try{const h=a.value;if(h.isLiked)await ct.unlikePost(h.id),h.isLiked=!1,h.votes=(h.votes||0)-1,h.likes=(h.likes||0)-1;else{await ct.likePost(a.value.id);const Z=a.value;Z.isLiked=!0,Z.votes=(Z.votes||0)+1,Z.likes=(Z.likes||0)+1}}catch(h){console.error(":",h),de.error("")}finally{m.value=!1}}},I=()=>{a.value&&(P.value={id:a.value.id,title:a.value.title,content:a.value.content,category:a.value.category,tagsInput:a.value.tags?a.value.tags.join(", "):""},f.value=!0)},C=async()=>{if(!P.value.title.trim()||!P.value.content.trim()){de.warning("");return}g.value=!0;try{const w=P.value.tagsInput.split(",").map(k=>k.trim()).filter(k=>k),h={title:P.value.title,content:P.value.content,category:P.value.category,tags:w},Z=await ct.updatePost(P.value.id,h);if(Z.code===200){const k={...a.value,...Z.data,createdAt:Z.data.createTime,tags:w};a.value={...k,author:k.author||{id:0,username:"",avatar:""}},W(),de.success("")}else throw new Error(Z.message||"")}catch(w){console.error(":",w),de.error("")}finally{g.value=!1}},W=()=>{f.value=!1,P.value={id:0,title:"",content:"",category:"",tagsInput:""}},$=async()=>{if(await xs.danger("",{title:""}))try{const h=parseInt(t.params.id.toString()),Z=await ct.deletePost(h);if(Z.code===200)de.success(""),window.location.href="/forum";else throw new Error(Z.message||"")}catch(h){console.error(":",h),de.error("")}},Q=()=>{navigator.share?navigator.share({title:a.value?.title||"",text:a.value?.content?.substring(0,100)||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),de.success(""))},xe=async()=>{if(!p.value.trim())return;console.log(""),m.value=!0,console.log("submitting:",m.value);const w=parseInt(t.params.id.toString());try{console.log(":",{content:p.value.trim(),postId:w});const h=await ct.createComment({content:p.value.trim(),postId:w});if(console.log("API:",h),h.code===200)console.log(""),de.success(""),p.value="",l.value=!1,console.log(""),await _(w);else{const Z=h.message||"";console.error("API:",h.code,Z),de.error(Z)}}catch(h){console.error(":",h),h.message==="UNAUTHORIZED"||h.message.includes("401")?de.error(""):de.error(h.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{m.value=!1,console.log("submitting:",m.value)},100)}},re=w=>{S.value=w,c.value=!0,u.value="",setTimeout(()=>{const h=document.getElementById(`reply-form-${w.id}`);h&&h.scrollIntoView({behavior:"smooth",block:"center"})},100)},X=async()=>{if(!u.value.trim()||!S.value)return;console.log(""),m.value=!0,console.log("submitting:",m.value);const w=parseInt(t.params.id.toString()),h=S.value.id;try{console.log(":",{content:u.value.trim(),postId:w,parentId:h});const Z=await ct.createComment({content:u.value.trim(),postId:w,parentId:h});if(console.log("API:",Z),Z.code===200)console.log(""),de.success(""),u.value="",c.value=!1,S.value=null,console.log(""),await _(w);else{const k=Z.message||"";console.error("API:",Z.code,k),de.error(k)}}catch(Z){console.error(":",Z),Z.message==="UNAUTHORIZED"||Z.message.includes("401")?de.error(""):de.error(Z.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{m.value=!1,console.log("submitting:",m.value)},100)}},ce=w=>{const h=document.getElementById(`comment-${w}`);if(h){h.scrollIntoView({behavior:"smooth",block:"center"}),h.classList.add("comment-highlight"),setTimeout(()=>{h.classList.remove("comment-highlight")},3e3);return}const Z=t.query.parentCommentId;if(Z){const k=document.getElementById(`comment-${Z}`);k&&(k.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const U=document.getElementById(`comment-${w}`);U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),U.classList.add("comment-highlight"),setTimeout(()=>{U.classList.remove("comment-highlight")},3e3))},500))}};return je(()=>{T()}),(w,h)=>{const Z=dt("router-link");return d(),v("div",Gp,[s("div",Yp,[o.value?(d(),v("div",Qp,[...h[16]||(h[16]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):a.value?(d(),v("div",Jp,[s("div",Zp,[s("div",Xp,[s("img",{src:a.value.author.avatar||"/avatar.png",alt:a.value.author.username,class:"author-avatar",onError:h[0]||(h[0]=k=>k.target.src="/avatar.png")},null,40,eg),s("div",tg,[ge(Z,{to:`/user/${a.value.author.id}`,class:"author-name"},{default:Ce(()=>[oe(y(a.value.author.username),1)]),_:1},8,["to"]),s("span",sg,y(ee(a.value.createTime)),1)])]),s("div",ng,[B.value.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:I},[...h[17]||(h[17]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])])):D("",!0),B.value.canDelete?(d(),v("button",{key:1,class:"action-btn",onClick:$},[...h[18]||(h[18]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])])):D("",!0),s("button",{class:"action-btn",onClick:Q},[...h[19]||(h[19]=[s("i",{class:"icon-share"},null,-1),oe("  ",-1)])])])]),s("div",og,[s("h1",ag,y(a.value.title),1),a.value.tags&&a.value.tags.length>0?(d(),v("div",lg,[(d(!0),v(se,null,ve(a.value.tags,k=>(d(),v("span",{key:k,class:"tag"},y(k),1))),128))])):D("",!0),s("div",{class:"post-text",innerHTML:A(a.value.content)},null,8,ig)]),s("div",rg,[s("div",ug,[h[20]||(h[20]=s("i",{class:"icon-eye"},null,-1)),s("span",null,y(a.value.views)+" ",1)]),s("div",cg,[h[21]||(h[21]=s("i",{class:"icon-comment"},null,-1)),s("span",null,y(r.value)+" ",1)]),s("div",dg,[h[22]||(h[22]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(a.value.likes)+" ",1)])]),s("div",vg,[s("button",{class:fe(["vote-btn upvote",{active:a.value.isLiked}]),onClick:h[1]||(h[1]=k=>x("up"))},[h[23]||(h[23]=s("i",{class:"icon-arrow-up"},null,-1)),oe(" "+y(a.value.isLiked?"":""),1)],2)]),s("div",fg,[s("div",pg,[s("h3",null," ("+y(r.value)+")",1),s("button",{class:"btn btn-primary",onClick:h[2]||(h[2]=k=>l.value=!l.value)},[...h[24]||(h[24]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])]),l.value?(d(),v("div",gg,[s("div",mg,[J(s("textarea",{"onUpdate:modelValue":h[3]||(h[3]=k=>p.value=k),placeholder:"...",rows:"4",class:"comment-textarea"},null,512),[[ae,p.value]])]),s("div",hg,[s("button",{class:"btn btn-outline",onClick:h[4]||(h[4]=k=>l.value=!1)},"  "),s("button",{class:"btn btn-primary",onClick:xe,disabled:m.value},y(m.value?"...":""),9,yg)])])):D("",!0),s("div",_g,[(d(!0),v(se,null,ve(i.value,k=>(d(),v("div",{key:k.id,id:`comment-${k.id}`,class:fe(["comment-item",{"comment-highlight":$e(t).query.commentId===k.id.toString()}])},[s("div",$g,[s("img",{src:k.author.avatar||"/avatar.png",alt:k.author.username,class:"comment-avatar",onError:h[5]||(h[5]=U=>U.target.src="/avatar.png")},null,40,wg),s("div",kg,[s("span",Cg,y(k.author.username),1),s("span",Sg,y(ee(k.createdAt)),1)]),s("div",Pg,[s("button",{class:"action-btn",onClick:U=>re(k)},[...h[25]||(h[25]=[s("i",{class:"icon-reply"},null,-1),oe("  ",-1)])],8,xg),k.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:U=>N(k)},[...h[26]||(h[26]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])],8,Tg)):D("",!0),k.canDelete?(d(),v("button",{key:1,class:"action-btn delete-btn",onClick:U=>H(k)},[...h[27]||(h[27]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])],8,Ag)):D("",!0)])]),s("div",{class:"comment-content",innerHTML:A(k.content)},null,8,Eg),q.value&&V.value&&V.value.id===k.id?(d(),v("div",{key:0,id:`comment-edit-form-${k.id}`,class:"comment-edit-form"},[s("div",Mg,[J(s("textarea",{"onUpdate:modelValue":h[6]||(h[6]=U=>F.value=U),placeholder:"...",rows:"4",class:"comment-textarea"},null,512),[[ae,F.value]])]),s("div",Dg,[s("button",{class:"btn btn-outline",onClick:O},"  "),s("button",{class:"btn btn-primary",onClick:j,disabled:m.value},y(m.value?"...":""),9,Vg)])],8,Ig)):D("",!0),c.value&&S.value&&S.value.id===k.id?(d(),v("div",{key:1,id:`reply-form-${k.id}`,class:"reply-form"},[s("div",Ug,[J(s("textarea",{"onUpdate:modelValue":h[7]||(h[7]=U=>u.value=U),placeholder:"...",rows:"3",class:"comment-textarea"},null,512),[[ae,u.value]])]),s("div",Lg,[s("button",{class:"btn btn-outline",onClick:h[8]||(h[8]=U=>{c.value=!1,S.value=null})},"  "),s("button",{class:"btn btn-primary",onClick:X,disabled:m.value},y(m.value?"...":""),9,Og)])],8,Rg)):D("",!0),k.replies&&k.replies.length>0?(d(),v("div",Fg,[(d(!0),v(se,null,ve(k.replies,U=>(d(),v("div",{key:U.id,id:`comment-${U.id}`,class:fe(["reply-item",{"comment-highlight":$e(t).query.commentId===U.id.toString()}])},[s("div",Ng,[s("img",{src:U.author.avatar||"/avatar.png",alt:U.author.username,class:"comment-avatar",onError:h[9]||(h[9]=ie=>ie.target.src="/avatar.png")},null,40,jg),s("div",qg,[s("span",Hg,y(U.author.username),1),s("span",Bg,y(ee(U.createdAt)),1)]),s("div",Kg,[U.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:ie=>N(U)},[...h[28]||(h[28]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])],8,Wg)):D("",!0),U.canDelete?(d(),v("button",{key:1,class:"action-btn delete-btn",onClick:ie=>H(U)},[...h[29]||(h[29]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])],8,Gg)):D("",!0)])]),s("div",{class:"comment-content",innerHTML:A(U.content)},null,8,Yg),q.value&&V.value&&V.value.id===U.id?(d(),v("div",{key:0,id:`comment-edit-form-${U.id}`,class:"comment-edit-form"},[s("div",Jg,[J(s("textarea",{"onUpdate:modelValue":h[10]||(h[10]=ie=>F.value=ie),placeholder:"...",rows:"3",class:"comment-textarea"},null,512),[[ae,F.value]])]),s("div",Zg,[s("button",{class:"btn btn-outline",onClick:O},"  "),s("button",{class:"btn btn-primary",onClick:j,disabled:m.value},y(m.value?"...":""),9,Xg)])],8,Qg)):D("",!0)],10,zg))),128))])):D("",!0)],10,bg))),128))])])])):D("",!0),f.value?(d(),v("div",{key:2,class:"modal-overlay",onClick:W},[s("div",{class:"modal-content",onClick:h[15]||(h[15]=pe(()=>{},["stop"]))},[s("div",{class:"modal-header"},[h[31]||(h[31]=s("h3",null,"",-1)),s("button",{class:"close-btn",onClick:W},[...h[30]||(h[30]=[s("i",{class:"icon-close"},null,-1)])])]),s("div",em,[s("form",{onSubmit:pe(C,["prevent"])},[s("div",tm,[h[32]||(h[32]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":h[11]||(h[11]=k=>P.value.title=k),placeholder:"...",required:"",class:"form-input"},null,512),[[ae,P.value.title]])]),s("div",sm,[h[34]||(h[34]=s("label",null,"",-1)),J(s("select",{"onUpdate:modelValue":h[12]||(h[12]=k=>P.value.category=k),required:"",class:"form-select"},[...h[33]||(h[33]=[s("option",{value:""},"",-1),s("option",{value:"movie"},"",-1),s("option",{value:"tv"},"",-1),s("option",{value:"variety"},"",-1)])],512),[[Ue,P.value.category]])]),s("div",nm,[h[35]||(h[35]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":h[13]||(h[13]=k=>P.value.tagsInput=k),placeholder:"...",class:"form-input"},null,512),[[ae,P.value.tagsInput]])]),s("div",om,[h[36]||(h[36]=s("label",null,"",-1)),J(s("textarea",{"onUpdate:modelValue":h[14]||(h[14]=k=>P.value.content=k),placeholder:"...",rows:"8",required:"",class:"form-textarea"},null,512),[[ae,P.value.content]])]),s("div",am,[s("button",{type:"button",class:"btn btn-outline",onClick:W},"  "),s("button",{type:"submit",class:"btn btn-primary",disabled:g.value},y(g.value?"...":""),9,lm)])],32)])])])):D("",!0)])])}}});const rm=Ie(im,[["__scopeId","data-v-30e85f0c"]]),ts={getUserInfo:async e=>{try{return await me(`/user/${e}/info`)}catch(t){throw console.error(":",t),t}},getCurrentUser:async e=>{try{if(!e)throw new Error("ID");return await me(`/user/${e}/info`)}catch(t){throw console.error(":",t),t}},async updateUserProfile(e,t){try{return await me(`/user/${e}/update`,{method:"POST",body:Ge(t)})}catch(n){throw console.error(":",n),n}},changePassword:async(e,t)=>{try{return await me(`/user/${e}/password`,{method:"POST",body:Ge(t)})}catch(n){throw console.error(":",n),n}},followUser:async e=>{try{return await me(`/user/${e}/follow`,{method:"POST"})}catch(t){throw console.error(":",t),t}},unfollowUser:async e=>{try{return await me(`/user/${e}/unfollow`,{method:"POST"})}catch(t){throw console.error(":",t),t}},getFollowingList:async(e,t=1,n=10)=>{try{const o=new URLSearchParams;t&&o.append("page",t.toString()),n&&o.append("size",n.toString());const a=o.toString(),i=`/user/${e}/following${a?`?${a}`:""}`;return await me(i)}catch(o){throw console.error(":",o),o}}},um={class:"user-profile"},cm={class:"container"},dm={key:0,class:"loading"},vm={key:1,class:"profile-content"},fm={class:"profile-card"},pm={class:"profile-header"},gm={class:"avatar-section"},mm=["src","alt"],hm={class:"user-info"},ym={class:"username"},_m={key:0,class:"user-nickname"},bm={class:"user-stats"},$m={class:"stat-item"},wm={class:"stat-number"},km={class:"stat-item"},Cm={class:"stat-number"},Sm={key:0,class:"profile-actions"},Pm={class:"profile-details"},xm={key:0,class:"detail-item"},Tm={class:"detail-item"},Am={class:"detail-item"},Em={key:1,class:"detail-item"},Im={key:2,class:"detail-item"},Mm=["href"],Dm={key:3,class:"detail-item"},Vm={class:"tabs"},Rm=["onClick"],Um={class:"tab-content"},Lm={key:0,class:"posts-section"},Om={key:0,class:"loading"},Fm={key:1,class:"empty-state"},zm={key:2,class:"posts-list"},Nm={class:"post-header"},jm={class:"post-meta"},qm={class:"post-time"},Hm={class:"post-title"},Bm={class:"post-excerpt"},Km={class:"post-stats"},Wm={class:"stat"},Gm={class:"stat"},Ym={class:"stat"},Qm={key:0,class:"pagination-container"},Jm={class:"pagination-info"},Zm={key:0,class:"pagination"},Xm=["disabled"],eh=["disabled"],th={class:"page-numbers"},sh=["onClick"],nh={key:1,class:"page-ellipsis"},oh=["disabled"],ah=["disabled"],lh={class:"page-jump"},ih=["max"],rh={key:1,class:"favorites-section"},uh={class:"favorites-tabs"},ch=["onClick"],dh={key:0,class:"loading-state"},vh={key:1,class:"empty-state"},fh={key:2,class:"bookmarks-list"},ph={class:"bookmark-header"},gh={class:"bookmark-title"},mh={class:"bookmark-meta"},hh={class:"bookmark-year"},yh={class:"bookmark-rating"},_h={class:"bookmark-likes"},bh={key:3,class:"pagination-container"},$h={class:"pagination-info"},wh={class:"pagination"},kh=["disabled"],Ch=["disabled"],Sh={class:"page-numbers"},Ph=["onClick"],xh={key:1,class:"page-ellipsis"},Th=["disabled"],Ah=["disabled"],Eh={class:"page-jump"},Ih=["max"],Mh={key:2,class:"following-section"},Dh={class:"following-list-wrapper"},Vh={key:0,class:"empty-state"},Rh={key:1,class:"following-list"},Uh=["src","alt"],Lh={class:"following-info"},Oh={class:"following-name"},Fh={class:"following-stats"},zh=["onClick","disabled"],Nh={key:2,class:"pagination-container"},jh={class:"pagination-info"},qh={key:0,class:"divider"},Hh={key:0,class:"pagination"},Bh=["disabled"],Kh=["disabled"],Wh={class:"page-numbers"},Gh=["onClick"],Yh={key:1,class:"page-ellipsis"},Qh=["disabled"],Jh=["disabled"],Zh={class:"page-jump"},Xh=["max"],e1=Ne({__name:"UserProfile",setup(e){const t=de,n=Ut(),o=M(!0),a=M(null),i=M([]),r=M("posts"),l=M(!1),c=M([]),f=M({total:0,page:1,size:10,has_next:!1}),p=M(1),u=M(10),m=M(1),g=M(!1),S=M(null),V=M(1),F=M(10),q=M(0),K=M(1),B=M(!1),N=M({movies:[],tvshows:[],varieties:[]}),H=M({movies:{total:0,page:1,size:10,has_next:!1},tvshows:{total:0,page:1,size:10,has_next:!1},varieties:{total:0,page:1,size:10,has_next:!1}}),P=M(1),ee=M(1),A=M(10),_=M("movies"),O=["movies","tvshows","varieties"],j=[{id:"posts",label:"",icon:"icon-edit"},{id:"favorites",label:"",icon:"icon-star"},{id:"following",label:"",icon:"icon-users"}],T=L=>new Date(L).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});Ye(r,L=>{L==="favorites"?I(_.value,1,A.value):L==="following"&&$()}),Ye(()=>n.params.id,(L,b)=>{L&&L!==b&&(r.value="posts",p.value=1,u.value=10,m.value=1,c.value=[],f.value={total:0,page:1,size:10,has_next:!1},V.value=1,F.value=10,K.value=1,i.value=[],q.value=0,N.value={movies:[],tvshows:[],varieties:[]},H.value={movies:{total:0,page:1,size:10,has_next:!1},tvshows:{total:0,page:1,size:10,has_next:!1},varieties:{total:0,page:1,size:10,has_next:!1}},C())},{immediate:!1});const x=L=>{const ne=new Date().getTime()-new Date(L).getTime(),Y=Math.floor(ne/(1e3*60*60*24)),z=Math.floor(ne/(1e3*60*60)),ye=Math.floor(ne/(1e3*60));return Y>0?`${Y}`:z>0?`${z}`:ye>0?`${ye}`:""},I=async(L="movies",b=1,ne=10)=>{B.value=!0;try{const Y=parseInt(n.params.id),z=new URLSearchParams({type:L,page:b.toString(),size:ne.toString()}),ye=await me(`/user/${Y}/favorites?${z}`);if(ye&&ye.code===200&&ye.data){const he=L;N.value[he]=ye.data[he]||[],H.value[he]={total:ye.data?.pagination?.[L]?.total||0,page:ye.data?.pagination?.[L]?.page||b,size:ye.data?.pagination?.[L]?.size||ne,has_next:ye.data?.pagination?.[L]?.has_next||!1};const we=L;N.value[we].length===0&&H.value[we].total>0&&console.log("No favorites data returned for type:",L)}}catch(Y){console.error("Failed to load user favorites:",Y)}finally{B.value=!1}},C=async()=>{o.value=!0;try{const L=parseInt(n.params.id),ne=Je().user;let Y;Y=await ts.getUserInfo(L),Y&&Y.code===200&&Y.data?(a.value={id:Y.data.id,username:Y.data.username,email:Y.data.email,avatar:Y.data.avatar||"/avatar.png",nickname:Y.data.nickname,level:Y.data.level,joinDate:Y.data.join_date,postsCount:Y.data.posts_count,followersCount:Y.data.followers_count,followingCount:Y.data.following_count,role:Y.data.role,bio:"",location:"",website:""},Y.data.isFollowing!==void 0&&(l.value=Y.data.isFollowing),V.value=1,K.value=1,await Z(L,V.value,F.value),r.value==="following"&&$()):console.error(":",Y?.message||"")}catch(L){console.error(":",L)}finally{o.value=!1}},W=async()=>{try{const L=parseInt(n.params.id);let b;l.value?b=await ts.unfollowUser(L):b=await ts.followUser(L),b&&b.code===200?(l.value=!l.value,a.value&&(l.value?a.value.followersCount++:a.value.followersCount--)):console.error(":",b?.message||"")}catch(L){console.error(":",L)}},$=async()=>{if(a.value?.id)try{g.value=!0;const L=parseInt(Array.isArray(n.params.id)?n.params.id[0]:n.params.id),b=await ts.getFollowingList(L,p.value,u.value);b&&b.code===200&&b.data?(c.value=b.data.list||[],f.value=b.data.pagination||{total:0,page:1,size:u.value,has_next:!1},p.value=f.value.page,m.value=p.value):(console.error(":",b?.message||""),t.error(""))}catch(L){console.error(":",L),t.error("")}finally{g.value=!1}},Q=async L=>{try{S.value=L;const b=await ts.unfollowUser(L);b&&b.code===200?(t.success(""),await $(),a.value&&(a.value.followingCount=Math.max(0,(a.value.followingCount||0)-1))):t.error(b?.message||"")}catch(b){console.error(":",b),t.error("")}finally{S.value=null}},xe=L=>{const b=L.target;b.src="/avatar.png"},re=_e(()=>Math.max(1,Math.ceil(f.value.total/f.value.size))),X=_e(()=>{const L=[],b=p.value,ne=re.value;if(ne<=7)for(let Y=1;Y<=ne;Y++)L.push(Y);else if(b<=4){for(let Y=1;Y<=5;Y++)L.push(Y);L.push("..."),L.push(ne)}else if(b>=ne-3){L.push(1),L.push("...");for(let Y=ne-4;Y<=ne;Y++)L.push(Y)}else{L.push(1),L.push("...");for(let Y=b-2;Y<=b+2;Y++)L.push(Y);L.push("..."),L.push(ne)}return L}),ce=L=>{const b=Math.max(1,Math.min(L,re.value));b!==p.value&&(p.value=b,m.value=b,$())},w=()=>{p.value=1,m.value=1,$()},h=()=>{let L=m.value;const b=re.value;L<1&&(L=1),L>b&&(L=b),ce(L)},Z=async(L,b,ne)=>{const Y=M(!0);try{const z=await ct.getUserPosts(L,b,ne);z&&z.code===200&&z.data?(i.value=z.data.posts||[],q.value=z.data.pagination.total||0,V.value=b,window.scrollTo({top:0,behavior:"smooth"})):console.error(":",z?.message||"")}catch(z){console.error(":",z)}finally{Y.value=!1}},k=_e(()=>{const b=Je().user;return b&&a.value&&b.id===a.value.id}),U=_e(()=>Math.max(1,Math.ceil(q.value/F.value))),ie=_e(()=>{const L=[],b=V.value,ne=U.value;if(ne<=7)for(let Y=1;Y<=ne;Y++)L.push(Y);else if(b<=4){for(let Y=1;Y<=5;Y++)L.push(Y);L.push("..."),L.push(ne)}else if(b>=ne-3){L.push(1),L.push("...");for(let Y=ne-4;Y<=ne;Y++)L.push(Y)}else{L.push(1),L.push("...");for(let Y=b-2;Y<=b+2;Y++)L.push(Y);L.push("..."),L.push(ne)}return L}),ue=_e(()=>{const L=_.value,b=H.value[L];return Math.ceil(b.total/b.size)}),be=_e(()=>{const L=[],b=ue.value,ne=_.value,Y=H.value[ne].page;if(b<=7)for(let z=1;z<=b;z++)L.push(z);else if(Y<=4){for(let z=1;z<=5;z++)L.push(z);L.push("..."),L.push(b)}else if(Y>=b-3){L.push(1),L.push("...");for(let z=b-4;z<=b;z++)L.push(z)}else{L.push(1),L.push("...");for(let z=Y-1;z<=Y+1;z++)L.push(z);L.push("..."),L.push(b)}return L}),Te=L=>{P.value=L,ee.value=L,I(_.value,L,A.value)},Ve=L=>{A.value=L,P.value=1,ee.value=1,I(_.value,1,L)},E=()=>{let L=ee.value;const b=ue.value;L<1&&(L=1),L>b&&(L=b),Te(L)},R=L=>{_.value=L,I(L,1,A.value)},G=L=>{const b=Math.max(1,Math.min(L,U.value));b===V.value||!a.value||(V.value=b,K.value=b,Z(a.value.id,b,F.value))},le=()=>{V.value=1,K.value=1,a.value&&Z(a.value.id,1,F.value)},te=()=>{const L=Math.max(1,Math.min(K.value,U.value));L!==V.value&&a.value&&G(L)};return je(()=>{C(),r.value==="favorites"&&I(_.value,1,A.value)}),(L,b)=>{const ne=dt("router-link"),Y=hi("loading");return d(),v("div",um,[s("div",cm,[o.value?(d(),v("div",dm,[...b[19]||(b[19]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):a.value?(d(),v("div",vm,[s("div",fm,[s("div",pm,[s("div",gm,[s("img",{src:a.value.avatar||"/avatar.png",alt:a.value.username,class:"user-avatar"},null,8,mm)]),s("div",hm,[s("h1",ym,y(a.value.username),1),a.value.nickname?(d(),v("p",_m,y(a.value.nickname),1)):D("",!0),s("div",bm,[s("div",$m,[s("span",wm,y(a.value.followersCount),1),b[20]||(b[20]=s("span",{class:"stat-label"},"",-1))]),s("div",km,[s("span",Cm,y(a.value.followingCount),1),b[21]||(b[21]=s("span",{class:"stat-label"},"",-1))])])]),k.value?D("",!0):(d(),v("div",Sm,[s("button",{class:"btn btn-primary",onClick:W},y(l.value?"":""),1)]))]),s("div",Pm,[a.value?.bio?(d(),v("div",xm,[b[22]||(b[22]=s("i",{class:"icon-user"},null,-1)),s("span",null,y(a.value?.bio),1)])):D("",!0),s("div",Tm,[b[23]||(b[23]=s("i",{class:"icon-calendar"},null,-1)),s("span",null,""+y(T(a.value?.joinDate||"")),1)]),s("div",Am,[b[24]||(b[24]=s("i",{class:"icon-level"},null,-1)),s("span",null,""+y(a.value?.level||1),1)]),a.value?.location?(d(),v("div",Em,[b[25]||(b[25]=s("i",{class:"icon-location"},null,-1)),s("span",null,y(a.value?.location),1)])):D("",!0),a.value?.website?(d(),v("div",Im,[b[26]||(b[26]=s("i",{class:"icon-link"},null,-1)),s("a",{href:a.value?.website,target:"_blank",class:"website-link"},y(a.value?.website),9,Mm)])):D("",!0),a.value?.role?(d(),v("div",Dm,[b[27]||(b[27]=s("i",{class:"icon-role"},null,-1)),s("span",null,""+y(a.value?.role==="ADMIN"?"":""),1)])):D("",!0)])]),s("div",Vm,[(d(),v(se,null,ve(j,z=>s("button",{key:z.id,class:fe(["tab-btn",{active:r.value===z.id}]),onClick:ye=>r.value=z.id},[s("i",{class:fe(z.icon)},null,2),oe(" "+y(z.label),1)],10,Rm)),64))]),s("div",Um,[r.value==="posts"?(d(),v("div",Lm,[r.value==="posts"&&i.value.length===0&&q.value>0?(d(),v("div",Om,[...b[28]||(b[28]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):D("",!0),i.value.length===0?(d(),v("div",Fm,[...b[29]||(b[29]=[s("i",{class:"icon-empty"},null,-1),s("h3",null,"",-1),s("p",null,"",-1)])])):(d(),v("div",zm,[(d(!0),v(se,null,ve(i.value,z=>(d(),v("div",{key:z.id,class:"post-item"},[s("div",Nm,[s("div",jm,[s("span",qm,y(x(z.createTime)),1)])]),s("h3",Hm,[ge(ne,{to:`/post/${z.id}`},{default:Ce(()=>[oe(y(z.title),1)]),_:2},1032,["to"])]),s("p",Bm,y(z.content.length>100?z.content.substring(0,100)+"...":z.content),1),s("div",Km,[s("span",Wm,[b[30]||(b[30]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y(z.views),1)]),s("span",Gm,[b[31]||(b[31]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y(z.commentsCount),1)]),s("span",Ym,[b[32]||(b[32]=s("i",{class:"icon-like"},null,-1)),oe(" "+y(z.likes),1)])])]))),128)),i.value.length>0?(d(),v("div",Qm,[s("div",Jm,[s("span",null," "+y(q.value)+" ",1),b[34]||(b[34]=s("span",{class:"divider"},"|",-1)),b[35]||(b[35]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":b[0]||(b[0]=z=>F.value=z),onChange:le,class:"page-size-select"},[...b[33]||(b[33]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,F.value]]),b[36]||(b[36]=s("span",null,"",-1))]),U.value>0?(d(),v("div",Zm,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:V.value<=1||U.value<=1}]),disabled:V.value<=1||U.value<=1,onClick:b[1]||(b[1]=pe(z=>G(1),["stop"])),title:""},[...b[37]||(b[37]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,Xm),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:V.value<=1||U.value<=1}]),disabled:V.value<=1||U.value<=1,onClick:b[2]||(b[2]=pe(z=>G(V.value-1),["stop"])),title:""},[...b[38]||(b[38]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,eh),s("div",th,[(d(!0),v(se,null,ve(ie.value,(z,ye)=>(d(),v(se,{key:`page-${ye}-${z}`},[typeof z=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:z===V.value}]),onClick:pe(he=>G(z),["stop"])},y(z),11,sh)):(d(),v("span",nh,y(z),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:V.value>=U.value||U.value<=1}]),disabled:V.value>=U.value||U.value<=1,onClick:b[3]||(b[3]=pe(z=>G(V.value+1),["stop"])),title:""},[...b[39]||(b[39]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,oh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:V.value>=U.value||U.value<=1}]),disabled:V.value>=U.value||U.value<=1,onClick:b[4]||(b[4]=pe(z=>G(U.value),["stop"])),title:""},[...b[40]||(b[40]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,ah),s("div",lh,[b[41]||(b[41]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":b[5]||(b[5]=z=>K.value=z),min:1,max:U.value,onKeyup:Qe(te,["enter"]),class:"jump-input"},null,40,ih),[[ae,K.value,void 0,{number:!0}]]),b[42]||(b[42]=s("span",null,"",-1)),s("button",{onClick:pe(te,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)]))])):D("",!0),r.value==="favorites"?(d(),v("div",rh,[s("div",uh,[(d(),v(se,null,ve(O,z=>s("button",{key:z,class:fe(["favorite-tab-btn",{active:_.value===z}]),onClick:ye=>R(z)},y(z==="movies"?"":z==="tvshows"?"":""),11,ch)),64))]),B.value?(d(),v("div",dh,[...b[43]||(b[43]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):N.value[_.value].length===0?(d(),v("div",vh,[b[44]||(b[44]=s("i",{class:"icon-star"},null,-1)),b[45]||(b[45]=s("h3",null,"",-1)),s("p",null,""+y(_.value==="movies"?"":_.value==="tvshows"?"":""),1)])):(d(),v("div",fh,[(d(!0),v(se,null,ve(N.value[_.value],z=>(d(),v("div",{key:z.id,class:"bookmark-item"},[ge(ne,{to:`/${_.value==="movies"?"movie":_.value==="tvshows"?"tv":"variety"}/${z.id}`},{default:Ce(()=>[s("div",ph,[s("h3",gh,y(z.title),1),s("div",mh,[s("span",hh,y(z.year),1),s("span",yh,[b[46]||(b[46]=s("i",{class:"icon-star"},null,-1)),oe(" "+y(z.rating),1)]),s("span",_h,[b[47]||(b[47]=s("i",{class:"icon-heart"},null,-1)),oe(" "+y(z.likes)+"  ",1)])])])]),_:2},1032,["to"])]))),128))])),H.value[_.value].total>0?(d(),v("div",bh,[s("div",$h,[s("span",null," "+y(H.value[_.value].total)+" ",1),b[49]||(b[49]=s("span",{class:"divider"},"|",-1)),b[50]||(b[50]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":b[6]||(b[6]=z=>A.value=z),onChange:b[7]||(b[7]=z=>Ve(A.value)),class:"page-size-select"},[...b[48]||(b[48]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,A.value,void 0,{number:!0}]]),b[51]||(b[51]=s("span",null,"",-1))]),s("div",wh,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:H.value[_.value].page===1}]),disabled:H.value[_.value].page===1,onClick:b[8]||(b[8]=pe(z=>Te(1),["stop"])),title:""},[...b[52]||(b[52]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,kh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:H.value[_.value].page===1}]),disabled:H.value[_.value].page===1,onClick:b[9]||(b[9]=pe(z=>Te(H.value[_.value].page-1),["stop"])),title:""},[...b[53]||(b[53]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,Ch),s("div",Sh,[(d(!0),v(se,null,ve(be.value,(z,ye)=>(d(),v(se,{key:`fav-page-${ye}-${z}`},[typeof z=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:z===H.value[_.value].page}]),onClick:pe(he=>Te(z),["stop"])},y(z),11,Ph)):(d(),v("span",xh,y(z),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!H.value[_.value].has_next}]),disabled:!H.value[_.value].has_next,onClick:b[10]||(b[10]=pe(z=>Te(H.value[_.value].page+1),["stop"])),title:""},[...b[54]||(b[54]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,Th),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!H.value[_.value].has_next}]),disabled:!H.value[_.value].has_next,onClick:b[11]||(b[11]=pe(z=>Te(ue.value),["stop"])),title:""},[...b[55]||(b[55]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,Ah),s("div",Eh,[b[56]||(b[56]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":b[12]||(b[12]=z=>ee.value=z),min:1,max:ue.value,onKeyup:Qe(E,["enter"]),class:"jump-input"},null,40,Ih),[[ae,ee.value,void 0,{number:!0}]]),b[57]||(b[57]=s("span",null,"",-1)),s("button",{onClick:pe(E,["stop"]),class:"jump-btn"},"")])])])):D("",!0)])):D("",!0),r.value==="following"?(d(),v("div",Mh,[J((d(),v("div",Dh,[c.value.length===0&&!g.value?(d(),v("div",Vh,[...b[58]||(b[58]=[s("i",{class:"icon-users"},null,-1),s("h3",null,"",-1),s("p",null,"",-1)])])):(d(),v("div",Rh,[(d(!0),v(se,null,ve(c.value,z=>(d(),v("div",{key:z.id,class:"following-item"},[s("img",{src:z.avatar||"/avatar.png",alt:z.nickname||z.username,class:"following-avatar",onError:xe},null,40,Uh),s("div",Lh,[s("h4",Oh,[ge(ne,{to:`/user/${z.id}`},{default:Ce(()=>[oe(y(z.nickname||z.username),1)]),_:2},1032,["to"])]),s("div",Fh,[s("span",null,": "+y(z.followers_count),1)])]),k.value?(d(),v("button",{key:0,class:"btn btn-outline btn-sm unfollow-btn",onClick:ye=>Q(z.id),disabled:S.value===z.id},y(S.value===z.id?"...":""),9,zh)):D("",!0)]))),128))])),c.value.length>0?(d(),v("div",Nh,[s("div",jh,[s("span",null," "+y(f.value.total)+" ",1),f.value.total>0?(d(),v("span",qh,"|")):D("",!0),f.value.total>0?(d(),v(se,{key:1},[b[60]||(b[60]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":b[13]||(b[13]=z=>u.value=z),onChange:w,class:"page-size-select"},[...b[59]||(b[59]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,u.value]]),b[61]||(b[61]=s("span",null,"",-1))],64)):D("",!0)]),f.value.total>0&&re.value>0?(d(),v("div",Hh,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:p.value<=1||re.value<=1}]),disabled:p.value<=1||re.value<=1,onClick:b[14]||(b[14]=pe(z=>ce(1),["stop"])),title:""},[...b[62]||(b[62]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,Bh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:p.value<=1||re.value<=1}]),disabled:p.value<=1||re.value<=1,onClick:b[15]||(b[15]=pe(z=>ce(p.value-1),["stop"])),title:""},[...b[63]||(b[63]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,Kh),s("div",Wh,[(d(!0),v(se,null,ve(X.value,(z,ye)=>(d(),v(se,{key:`page-${ye}-${z}`},[typeof z=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:z===p.value}]),onClick:pe(he=>ce(z),["stop"])},y(z),11,Gh)):(d(),v("span",Yh,y(z),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!f.value.has_next||re.value<=1}]),disabled:!f.value.has_next||re.value<=1,onClick:b[16]||(b[16]=pe(z=>ce(p.value+1),["stop"])),title:""},[...b[64]||(b[64]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,Qh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!f.value.has_next||re.value<=1}]),disabled:!f.value.has_next||re.value<=1,onClick:b[17]||(b[17]=pe(z=>ce(re.value),["stop"])),title:""},[...b[65]||(b[65]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,Jh),s("div",Zh,[b[66]||(b[66]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":b[18]||(b[18]=z=>m.value=z),min:1,max:re.value,onKeyup:Qe(h,["enter"]),class:"jump-input"},null,40,Xh),[[ae,m.value,void 0,{number:!0}]]),b[67]||(b[67]=s("span",null,"",-1)),s("button",{onClick:pe(h,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])),[[Y,g.value]])])):D("",!0)])])):D("",!0)])])}}});const t1=Ie(e1,[["__scopeId","data-v-cda9810c"]]);async function dr(e){const t=new FormData;t.append("file",e);const n=await me("/picture/upload",{method:"POST",body:t});if(n.code===200&&n.data?.url)return n.data.url;throw new Error(n.message||"")}async function s1(e){const t=new FormData;t.append("file",e);const n=await me("/picture/upload",{method:"POST",body:t});if(n.code===200&&n.data?.url)return n.data.url;throw new Error(n.message||"")}const n1={class:"image-uploader"},o1={class:"upload-input-wrapper"},a1=["disabled"],l1={class:"input-group"},i1=["placeholder","required","disabled"],r1=["disabled"],u1={key:0,class:"uploading-spinner"},c1={key:1},d1={key:0,class:"image-preview"},v1=["src"],f1=["disabled"],p1={key:1,class:"error-message"},g1=Ne({__name:"ImageUploader",props:{modelValue:{},placeholder:{default:"URL"},required:{type:Boolean,default:!1},uploadType:{default:"image"},buttonText:{default:""},disableUrlInput:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a=M(null),i=M(!1),r=M(""),l=M(n.modelValue),c=_e(()=>l.value||null);Ye(()=>n.modelValue,g=>{g!==l.value&&(l.value=g)});function f(){a.value?.click()}async function p(g){const V=g.target.files?.[0];if(!V)return;if(!V.type.startsWith("image/")){r.value="";return}const F=10*1024*1024;if(V.size>F){r.value="10MB";return}i.value=!0,r.value="";try{const q=n.uploadType==="avatar"?await dr(V):await s1(V);l.value=q,o("update:modelValue",q)}catch(q){r.value=q.message||""}finally{i.value=!1,a.value&&(a.value.value="")}}function u(){r.value="",o("update:modelValue",l.value)}function m(){l.value="",o("update:modelValue",""),r.value=""}return(g,S)=>(d(),v("div",n1,[s("div",o1,[s("input",{ref_key:"fileInput",ref:a,type:"file",accept:"image/*",onChange:p,class:"file-input",disabled:i.value},null,40,a1),s("div",l1,[J(s("input",{"onUpdate:modelValue":S[0]||(S[0]=V=>l.value=V),type:"text",placeholder:g.placeholder,required:g.required,disabled:g.disableUrlInput,class:"url-input",onInput:u},null,40,i1),[[ae,l.value]]),s("button",{type:"button",onClick:f,class:"upload-btn",disabled:i.value},[i.value?(d(),v("span",u1)):(d(),v("span",c1,y(g.buttonText),1))],8,r1)])]),c.value?(d(),v("div",d1,[s("img",{src:c.value,alt:"",class:"preview-image"},null,8,v1),s("button",{type:"button",onClick:m,class:"clear-btn",disabled:i.value},"  ",8,f1)])):D("",!0),r.value?(d(),v("div",p1,y(r.value),1)):D("",!0)]))}});const is=Ie(g1,[["__scopeId","data-v-51a88f7d"]]),m1={class:"user-settings"},h1={class:"settings-container"},y1={class:"settings-tabs"},_1=["onClick"],b1={class:"settings-content"},$1={key:0,class:"profile-settings"},w1={class:"profile-form-container"},k1={class:"profile-form-wrapper"},C1={class:"form-group avatar-group"},S1={class:"avatar-container"},P1=["src","alt"],x1={class:"form-row"},T1={class:"form-group full-width"},A1={class:"form-row"},E1={class:"form-group full-width"},I1={class:"form-actions"},M1=["disabled"],D1={key:0},V1={key:1},R1={key:1,class:"modal-overlay"},U1={class:"modal-container"},L1={class:"modal-body"},O1={class:"avatar-upload-section"},F1=["src"],z1={class:"uploader-container"},N1={class:"modal-footer"},j1=["disabled"],q1={key:0},H1={key:1},B1={key:2,class:"password-settings"},K1={class:"password-form-container"},W1={class:"profile-form-wrapper"},G1={class:"form-group"},Y1={class:"input-with-icon"},Q1={key:0,class:"error-message"},J1={class:"form-group"},Z1={class:"input-with-icon"},X1={key:0,class:"error-message"},ey={class:"form-group"},ty={class:"input-with-icon"},sy={key:0,class:"error-message"},ny={class:"form-actions"},oy=["disabled"],ay={key:0,class:"loading-spinner small"},ly=Ne({__name:"UserSettings",setup(e){const t=de,n=[{id:"profile",label:"",icon:"icon-user"},{id:"password",label:"",icon:"icon-lock"}],o=M("profile"),a=Je(),i=M(null),r=M(!0),l=M(!1),c=it({nickname:"",avatar:"",email:""}),f=M(null),p=M(!1),u=M(""),m=M(null),g=async()=>{try{r.value=!0;const A=a.user;A&&(i.value={...A},c.nickname=i.value.nickname||"",c.avatar=i.value.avatar||"",c.email=i.value.email||"")}catch(A){console.error(":",A)}finally{r.value=!1}},S=()=>{m.value?.click()},V=A=>{const _=A.target,O=_.files?.[0];if(!O)return;if(!O.type.startsWith("image/")){t.error("");return}const j=10*1024*1024;if(O.size>j){t.error("10MB");return}f.value=O;const T=URL.createObjectURL(O);i.value&&(i.value.avatar=T),_&&(_.value="")},F=()=>{p.value=!1,u.value=i.value?.avatar||""},q=async()=>{l.value=!0;try{let A=c.avatar||i.value&&i.value.avatar||"";if(f.value)try{A=await dr(f.value),c.avatar=A,f.value=null}catch(T){console.error(":",T),t.error(T.message||"");return}const _={nickname:c.nickname,email:c.email};if(A&&(_.avatar=A),!i.value||!i.value.id){console.error(""),t.error("");return}const O=i.value.id,j=await ts.updateUserProfile(O,_);j&&j.code===200?(i.value&&(A&&(i.value.avatar=A),i.value.nickname=c.nickname,i.value.email=c.email),i.value&&a.$patch({user:{...i.value}}),t.success("")):(console.error(":",j?.message||""),t.error(""))}catch(A){console.error(":",A),t.error("")}finally{l.value=!1}},K=async()=>{l.value=!0;try{if(u.value&&i.value){let A=u.value;if(u.value.startsWith("blob:")){t.error("");return}const _={nickname:i.value.nickname,avatar:A,email:i.value.email},O=i.value.id,j=await ts.updateUserProfile(O,_);j&&j.code===200?(i.value.avatar=A,c.avatar=A,i.value&&a.$patch({user:{...i.value}}),t.success(""),F()):(console.error(":",j?.message||""),t.error(""))}}catch(A){console.error(":",A),t.error("")}finally{l.value=!1}};je(()=>{g()});const B=it({oldPassword:"",newPassword:"",confirmPassword:""}),N=it({oldPassword:"",newPassword:"",confirmPassword:""}),H=M(!1),P=A=>{const _=/[a-zA-Z]/.test(A),O=/[0-9]/.test(A),j=A.length>=8;return!_||!O||!j?"8":""},ee=async()=>{if(N.oldPassword="",N.newPassword="",N.confirmPassword="",!B.oldPassword){N.oldPassword="";return}if(N.newPassword=P(B.newPassword),!N.newPassword){if(B.newPassword!==B.confirmPassword){N.confirmPassword="";return}try{H.value=!0;const A={oldPassword:B.oldPassword,newPassword:B.newPassword,confirmPassword:B.confirmPassword},_=i.value?.id;if(!_)throw new Error("");const O=await ts.changePassword(_,A);O&&O.code===200?(t.success(""),B.oldPassword="",B.newPassword="",B.confirmPassword=""):(console.error(":",O?.message||""),t.error(O?.message||""))}catch(A){console.error(":",A),t.error("")}finally{H.value=!1}}};return(A,_)=>{const O=hi("loading");return d(),v("div",m1,[_[19]||(_[19]=s("div",{class:"settings-header"},[s("h1",null,""),s("p",null,"")],-1)),s("div",h1,[s("div",y1,[(d(),v(se,null,ve(n,j=>s("div",{key:j.id,class:fe(["tab-item",{active:o.value===j.id}]),onClick:T=>o.value=j.id},[s("i",{class:fe(["iconfont",j.icon])},null,2),s("span",null,y(j.label),1)],10,_1)),64))]),s("div",b1,[o.value==="profile"?(d(),v("div",$1,[_[9]||(_[9]=s("h2",null,"",-1)),s("div",w1,[J((d(),v("div",k1,[s("div",C1,[_[6]||(_[6]=s("div",{class:"avatar-label"},"",-1)),s("div",S1,[s("input",{type:"file",ref_key:"avatarFileInput",ref:m,accept:"image/jpeg,image/png,image/gif",onChange:V,class:"avatar-file-input",style:{display:"none"}},null,544),s("img",{src:i.value?.avatar||"/avatar.png",alt:i.value?.nickname||"User Avatar",class:"user-avatar",onClick:S},null,8,P1),s("div",{class:"avatar-upload-hint",onClick:S},"")])]),s("div",x1,[s("div",T1,[_[7]||(_[7]=s("div",{class:"form-label"},"",-1)),J(s("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=j=>c.nickname=j),placeholder:"",class:"form-input",maxlength:"20"},null,512),[[ae,c.nickname]])])]),s("div",A1,[s("div",E1,[_[8]||(_[8]=s("div",{class:"form-label"},"",-1)),J(s("input",{type:"email","onUpdate:modelValue":_[1]||(_[1]=j=>c.email=j),placeholder:"",class:"form-input",maxlength:"100"},null,512),[[ae,c.email]])])]),s("div",I1,[s("button",{onClick:q,class:"btn btn-primary",disabled:!c.nickname.trim()||l.value},[l.value?(d(),v("span",D1,"...")):(d(),v("span",V1,""))],8,M1)])])),[[O,r.value]])])])):D("",!0),p.value?(d(),v("div",R1,[s("div",U1,[s("div",{class:"modal-header"},[_[10]||(_[10]=s("div",{class:"modal-title"},"",-1)),s("button",{class:"close-btn",onClick:F},"")]),s("div",L1,[s("div",O1,[s("img",{src:u.value||"/avatar.png",alt:"",class:"preview-avatar"},null,8,F1),s("div",z1,[ge(is,{modelValue:u.value,"onUpdate:modelValue":_[2]||(_[2]=j=>u.value=j),"upload-type":"avatar"},null,8,["modelValue"])])])]),s("div",N1,[s("button",{class:"btn btn-secondary",onClick:F},""),s("button",{class:"btn btn-primary",onClick:K,disabled:!u.value||l.value},[l.value?(d(),v("span",q1,"...")):(d(),v("span",H1,""))],8,j1)])])])):D("",!0),o.value==="password"?(d(),v("div",B1,[_[18]||(_[18]=s("h2",null,"",-1)),s("div",K1,[s("div",W1,[_[16]||(_[16]=s("div",{class:"form-group avatar-group"},[s("div",{class:"avatar-label"},""),s("div",{class:"avatar-placeholder"})],-1)),_[17]||(_[17]=s("div",{class:"form-description"},"",-1)),s("form",{onSubmit:pe(ee,["prevent"]),class:"password-form"},[s("div",G1,[_[11]||(_[11]=s("label",{for:"oldPassword"},"",-1)),s("div",Y1,[J(s("input",{type:"password",id:"oldPassword","onUpdate:modelValue":_[3]||(_[3]=j=>B.oldPassword=j),placeholder:"",class:fe(["form-input",{error:N.oldPassword}]),required:""},null,2),[[ae,B.oldPassword]])]),N.oldPassword?(d(),v("span",Q1,y(N.oldPassword),1)):D("",!0)]),s("div",J1,[_[12]||(_[12]=s("label",{for:"newPassword"},"",-1)),s("div",Z1,[J(s("input",{type:"password",id:"newPassword","onUpdate:modelValue":_[4]||(_[4]=j=>B.newPassword=j),placeholder:"",class:fe(["form-input",{error:N.newPassword}]),required:""},null,2),[[ae,B.newPassword]])]),N.newPassword?(d(),v("span",X1,y(N.newPassword),1)):D("",!0),_[13]||(_[13]=s("p",{class:"password-hint"},"8",-1))]),s("div",ey,[_[14]||(_[14]=s("label",{for:"confirmPassword"},"",-1)),s("div",ty,[J(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":_[5]||(_[5]=j=>B.confirmPassword=j),placeholder:"",class:fe(["form-input",{error:N.confirmPassword}]),required:""},null,2),[[ae,B.confirmPassword]])]),N.confirmPassword?(d(),v("span",sy,y(N.confirmPassword),1)):D("",!0)]),_[15]||(_[15]=Kt('<div class="form-row" data-v-6041b8a1><div class="form-group full-width password-placeholder" data-v-6041b8a1><div class="form-label" data-v-6041b8a1></div><div class="form-placeholder" data-v-6041b8a1></div></div></div><div class="form-row" data-v-6041b8a1><div class="form-group full-width password-placeholder" data-v-6041b8a1><div class="form-label" data-v-6041b8a1></div><div class="form-placeholder" data-v-6041b8a1></div></div></div>',2)),s("div",ny,[s("button",{type:"submit",class:"btn btn-primary",disabled:H.value},[H.value?(d(),v("div",ay)):D("",!0),oe(" "+y(H.value?"...":""),1)],8,oy)])],32)])])])):D("",!0)])])])}}});const iy=Ie(ly,[["__scopeId","data-v-6041b8a1"]]);const ry={class:"login-page"},uy={class:"login-container"},cy={class:"login-form"},dy={class:"form-group"},vy={key:0,class:"error-message"},fy={class:"form-group"},py={class:"password-input"},gy=["type"],my={key:0,class:"error-message"},hy={class:"form-options"},yy={class:"checkbox-label"},_y=["disabled"],by={key:0,class:"loading-spinner"},$y={class:"form-footer"},wy={__name:"Login",setup(e){const t=xt(),n=Je(),o=M(!1),a=M(!1),i=M({}),r=it({username:"",password:"",remember:!1});je(async()=>{if(n.isLoggedIn){t.push("/");return}const p=n.getSavedCredentials();if(p){r.username=p.username,r.password=p.password,r.remember=!0,o.value=!0;try{if((await n.login({username:p.username,password:p.password,remember:!0})).success){const m=t.currentRoute.value.query.redirect||"/";t.push(m)}}catch(u){console.error(":",u)}finally{o.value=!1}}});const l=()=>(i.value={},r.username.trim()||(i.value.username=""),r.password?r.password.length<6&&(i.value.password="6"):i.value.password="",Object.keys(i.value).length===0),c=async()=>{if(l()){o.value=!0;try{const p=await n.login({username:r.username,password:r.password,remember:!!r.remember});if(p.success){const u=t.currentRoute.value.query.redirect||"/";t.push(u)}else i.value.general=p.message||""}catch{i.value.general=""}finally{o.value=!1}}},f=()=>{window.location.href=`${la}/oauth2/qq`};return(p,u)=>{const m=dt("router-link");return d(),v("div",ry,[s("div",uy,[s("div",cy,[u[13]||(u[13]=s("div",{class:"form-header"},[s("h1",null,""),s("p",null,"")],-1)),s("form",{onSubmit:pe(c,["prevent"])},[s("div",dy,[u[4]||(u[4]=s("label",{for:"username"},"",-1)),J(s("input",{type:"text",id:"username","onUpdate:modelValue":u[0]||(u[0]=g=>r.username=g),placeholder:"",required:"",class:fe(["form-input",{error:i.value.username}])},null,2),[[ae,r.username]]),i.value.username?(d(),v("span",vy,y(i.value.username),1)):D("",!0)]),s("div",fy,[u[5]||(u[5]=s("label",{for:"password"},"",-1)),s("div",py,[J(s("input",{type:a.value?"text":"password",id:"password","onUpdate:modelValue":u[1]||(u[1]=g=>r.password=g),placeholder:"",required:"",class:fe(["form-input",{error:i.value.password}])},null,10,gy),[[Eo,r.password]]),s("button",{type:"button",class:"password-toggle",onClick:u[2]||(u[2]=g=>a.value=!a.value)},[s("i",{class:fe(a.value?"icon-eye-off":"icon-eye")},null,2)])]),i.value.password?(d(),v("span",my,y(i.value.password),1)):D("",!0)]),s("div",hy,[s("label",yy,[J(s("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=g=>r.remember=g)},null,512),[[Ws,r.remember]]),u[6]||(u[6]=s("span",{class:"checkmark"},null,-1)),u[7]||(u[7]=oe("  ",-1))]),u[8]||(u[8]=s("a",{href:"#",class:"forgot-link"},"",-1))]),s("button",{type:"submit",class:"submit-btn",disabled:o.value},[o.value?(d(),v("div",by)):D("",!0),oe(" "+y(o.value?"...":""),1)],8,_y)],32),s("div",$y,[s("p",null,[u[10]||(u[10]=oe(" ",-1)),ge(m,{to:"/register",class:"link"},{default:Ce(()=>[...u[9]||(u[9]=[oe("",-1)])]),_:1})])]),u[14]||(u[14]=s("div",{class:"divider"},[s("span",null,"")],-1)),s("div",{class:"social-login"},[u[12]||(u[12]=s("button",{class:"social-btn wechat"},[s("i",{class:"icon-wechat"}),oe("  ")],-1)),s("button",{class:"social-btn qq",onClick:f},[...u[11]||(u[11]=[s("i",{class:"icon-qq"},null,-1),oe(" QQ ",-1)])])])]),u[15]||(u[15]=Kt('<div class="login-image" data-v-d215db1f><div class="image-content" data-v-d215db1f><h2 data-v-d215db1f></h2><p data-v-d215db1f></p><div class="features" data-v-d215db1f><div class="feature-item" data-v-d215db1f><i class="icon-film" data-v-d215db1f></i><span data-v-d215db1f></span></div><div class="feature-item" data-v-d215db1f><i class="icon-tv" data-v-d215db1f></i><span data-v-d215db1f></span></div><div class="feature-item" data-v-d215db1f><i class="icon-users" data-v-d215db1f></i><span data-v-d215db1f></span></div></div></div></div>',1))])])}}},ky=Ie(wy,[["__scopeId","data-v-d215db1f"]]);const Cy={class:"register-page"},Sy={class:"register-container"},Py={class:"register-form"},xy={class:"form-row"},Ty={class:"form-group"},Ay={key:0,class:"error-message"},Ey={class:"form-group"},Iy={key:0,class:"error-message"},My={class:"form-group"},Dy={key:0,class:"error-message"},Vy={class:"form-row"},Ry={class:"form-group"},Uy={class:"password-input"},Ly=["type"],Oy={key:0,class:"error-message"},Fy={class:"form-group"},zy={class:"password-input"},Ny=["type"],jy={key:0,class:"error-message"},qy={class:"form-group"},Hy={class:"interests-grid"},By=["value"],Ky={class:"interest-label"},Wy={class:"form-options"},Gy={class:"checkbox-label"},Yy={class:"form-options"},Qy={class:"checkbox-label"},Jy=["disabled"],Zy={key:0,class:"loading-spinner"},Xy={class:"form-footer"},e_={__name:"Register",setup(e){const t=xt(),n=Je(),o=M(!1),a=M(!1),i=M(!1),r=M({}),l=it({username:"",nickname:"",email:"",password:"",confirmPassword:"",interests:[],agreeTerms:!1,newsletter:!1}),c=[{value:"movie",label:""},{value:"tv",label:""},{value:"anime",label:""},{value:"variety",label:""},{value:"documentary",label:""},{value:"comedy",label:""},{value:"action",label:""},{value:"romance",label:""},{value:"horror",label:""},{value:"sci-fi",label:""}],f=()=>(r.value={},l.username.trim()?l.username.length<3?r.value.username="3":/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(l.username)||(r.value.username=""):r.value.username="",l.nickname&&l.nickname.length>20&&(r.value.nickname="20"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(r.value.email=""):r.value.email="",l.password?l.password.length<6?r.value.password="6":/(?=.*[a-zA-Z])(?=.*\d)/.test(l.password)||(r.value.password=""):r.value.password="",l.confirmPassword?l.password!==l.confirmPassword&&(r.value.confirmPassword=""):r.value.confirmPassword="",l.agreeTerms||(r.value.agreeTerms=""),Object.keys(r.value).length===0),p=async()=>{if(f()){o.value=!0;try{const m=await n.register({username:l.username,nickname:l.nickname||l.username,email:l.email,password:l.password,favors:l.interests});m.success?t.push("/login"):r.value.general=m.message||""}catch{r.value.general=""}finally{o.value=!1}}},u=()=>{window.location.href=`${la}/oauth2/qq`};return(m,g)=>{const S=dt("router-link");return d(),v("div",Cy,[s("div",Sy,[s("div",Py,[g[27]||(g[27]=s("div",{class:"form-header"},[s("h1",null,""),s("p",null,"")],-1)),s("form",{onSubmit:pe(p,["prevent"])},[s("div",xy,[s("div",Ty,[g[10]||(g[10]=s("label",{for:"username"},"",-1)),J(s("input",{type:"text",id:"username","onUpdate:modelValue":g[0]||(g[0]=V=>l.username=V),placeholder:"",required:"",class:fe(["form-input",{error:r.value.username}])},null,2),[[ae,l.username]]),r.value.username?(d(),v("span",Ay,y(r.value.username),1)):D("",!0)]),s("div",Ey,[g[11]||(g[11]=s("label",{for:"nickname"},"",-1)),J(s("input",{type:"text",id:"nickname","onUpdate:modelValue":g[1]||(g[1]=V=>l.nickname=V),placeholder:"",class:fe(["form-input",{error:r.value.nickname}])},null,2),[[ae,l.nickname]]),r.value.nickname?(d(),v("span",Iy,y(r.value.nickname),1)):D("",!0)])]),s("div",My,[g[12]||(g[12]=s("label",{for:"email"},"",-1)),J(s("input",{type:"email",id:"email","onUpdate:modelValue":g[2]||(g[2]=V=>l.email=V),placeholder:"",required:"",class:fe(["form-input",{error:r.value.email}])},null,2),[[ae,l.email]]),r.value.email?(d(),v("span",Dy,y(r.value.email),1)):D("",!0)]),s("div",Vy,[s("div",Ry,[g[13]||(g[13]=s("label",{for:"password"},"",-1)),s("div",Uy,[J(s("input",{type:a.value?"text":"password",id:"password","onUpdate:modelValue":g[3]||(g[3]=V=>l.password=V),placeholder:"",required:"",class:fe(["form-input",{error:r.value.password}])},null,10,Ly),[[Eo,l.password]]),s("button",{type:"button",class:"password-toggle",onClick:g[4]||(g[4]=V=>a.value=!a.value)},[s("i",{class:fe(a.value?"icon-eye-off":"icon-eye")},null,2)])]),r.value.password?(d(),v("span",Oy,y(r.value.password),1)):D("",!0)]),s("div",Fy,[g[14]||(g[14]=s("label",{for:"confirmPassword"},"",-1)),s("div",zy,[J(s("input",{type:i.value?"text":"password",id:"confirmPassword","onUpdate:modelValue":g[5]||(g[5]=V=>l.confirmPassword=V),placeholder:"",required:"",class:fe(["form-input",{error:r.value.confirmPassword}])},null,10,Ny),[[Eo,l.confirmPassword]]),s("button",{type:"button",class:"password-toggle",onClick:g[6]||(g[6]=V=>i.value=!i.value)},[s("i",{class:fe(i.value?"icon-eye-off":"icon-eye")},null,2)])]),r.value.confirmPassword?(d(),v("span",jy,y(r.value.confirmPassword),1)):D("",!0)])]),s("div",qy,[g[15]||(g[15]=s("label",{for:"interests"},"",-1)),s("div",Hy,[(d(),v(se,null,ve(c,V=>s("label",{key:V.value,class:"interest-item"},[J(s("input",{type:"checkbox",value:V.value,"onUpdate:modelValue":g[7]||(g[7]=F=>l.interests=F)},null,8,By),[[Ws,l.interests]]),s("span",Ky,y(V.label),1)])),64))])]),s("div",Wy,[s("label",Gy,[J(s("input",{type:"checkbox","onUpdate:modelValue":g[8]||(g[8]=V=>l.agreeTerms=V),required:""},null,512),[[Ws,l.agreeTerms]]),g[16]||(g[16]=s("span",{class:"checkmark"},null,-1)),g[17]||(g[17]=oe("  ",-1)),g[18]||(g[18]=s("a",{href:"#",class:"terms-link"},"",-1)),g[19]||(g[19]=oe("  ",-1)),g[20]||(g[20]=s("a",{href:"#",class:"terms-link"},"",-1))])]),s("div",Yy,[s("label",Qy,[J(s("input",{type:"checkbox","onUpdate:modelValue":g[9]||(g[9]=V=>l.newsletter=V)},null,512),[[Ws,l.newsletter]]),g[21]||(g[21]=s("span",{class:"checkmark"},null,-1)),g[22]||(g[22]=oe("  ",-1))])]),s("button",{type:"submit",class:"submit-btn",disabled:o.value},[o.value?(d(),v("div",Zy)):D("",!0),oe(" "+y(o.value?"...":""),1)],8,Jy)],32),s("div",Xy,[s("p",null,[g[24]||(g[24]=oe(" ",-1)),ge(S,{to:"/login",class:"link"},{default:Ce(()=>[...g[23]||(g[23]=[oe("",-1)])]),_:1})])]),g[28]||(g[28]=s("div",{class:"divider"},[s("span",null,"")],-1)),s("div",{class:"social-login"},[g[26]||(g[26]=s("button",{class:"social-btn wechat"},[s("i",{class:"icon-wechat"}),oe("  ")],-1)),s("button",{class:"social-btn qq",onClick:u},[...g[25]||(g[25]=[s("i",{class:"icon-qq"},null,-1),oe(" QQ ",-1)])])])]),g[29]||(g[29]=Kt('<div class="register-image" data-v-bc8e9805><div class="image-content" data-v-bc8e9805><h2 data-v-bc8e9805></h2><p data-v-bc8e9805></p><div class="benefits" data-v-bc8e9805><div class="benefit-item" data-v-bc8e9805><i class="icon-star" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div><div class="benefit-item" data-v-bc8e9805><i class="icon-users" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div><div class="benefit-item" data-v-bc8e9805><i class="icon-trophy" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div></div></div></div>',1))])])}}},t_=Ie(e_,[["__scopeId","data-v-bc8e9805"]]),Sn={getNotificationCount:async()=>{try{return await me("/notifications/count")}catch(e){throw console.error(":",e),e}},getNotificationList:async()=>{try{return await me("/notifications/list?page=1&size=10000000")}catch(e){throw console.error(":",e),e}},markAsRead:async e=>{try{return await me(`/notifications/${e}/read`,{method:"POST"})}catch(t){throw console.error(":",t),t}},readAll:async()=>{try{return await me("/notifications/readAll",{method:"POST"})}catch(e){throw console.error(":",e),e}}},s_={class:"notification-panel-header"},n_={class:"header-actions"},o_=["disabled"],a_={class:"notification-tabs"},l_=["onClick"],i_={key:0,class:"tab-badge"},r_={class:"notification-content"},u_={key:0,class:"loading-state"},c_={key:1,class:"error-state"},d_={key:2,class:"empty-state"},v_={key:3,class:"notification-list"},f_=["onClick"],p_={key:0,class:"unread-badge"},g_={class:"notification-text"},m_={key:0,class:"notification-content"},h_=["onClick"],y_={class:"notification-content-text"},__={key:1},b_={class:"notification-actions"},$_=["onClick"],w_={key:1,class:"unread-dot"},k_=Ne({__name:"NotificationPanel",props:{visible:{type:Boolean},unreadCount:{default:0}},emits:["close","updateUnread"],setup(e,{emit:t}){const n=xt(),o=e,a=t,i=_e(()=>[{id:"unread",label:"",badge:o.unreadCount},{id:"read",label:"",badge:null}]),r=M("unread"),l=M([]),c=M(!1),f=M(null),p=M(!1),u=_e(()=>l.value.filter(_=>!_.isRead).length),m=_e(()=>l.value.length>0?u.value:o.unreadCount),g=_e(()=>{if(console.log(":",r.value),console.log(":",l.value.map(O=>({id:O.id,title:O.title,isRead:O.isRead}))),r.value==="read"){const O=l.value.filter(j=>j.isRead);return console.log(" - :",{total:l.value.length,read:O.length}),O}const _=l.value.filter(O=>!O.isRead);return console.log(" - :",{total:l.value.length,unread:_.length}),_}),S=async()=>{if(o.visible){c.value=!0,f.value=null;try{const _=await Sn.getNotificationList();if(_&&_.code===200){let O=_.data?.notifications||[];O=O.map(T=>(T.read!==void 0&&T.isRead===void 0&&(T.isRead=T.read),T.createTime!==void 0&&T.createdAt===void 0&&(T.createdAt=T.createTime),T.title||(T.title=V(T.type)),T)),l.value=O;const j=_.data?.unread||0;a("updateUnread",j),console.log(":",{total:l.value.length,unread:l.value.filter(T=>!T.isRead).length,read:l.value.filter(T=>T.isRead).length,firstFew:l.value.slice(0,3).map(T=>({id:T.id,title:T.title,isRead:T.isRead}))}),l.value.length>0&&(console.log(":",l.value[0]),console.log(" - isRead:",l.value[0].isRead,"read:",l.value[0].read))}}catch(_){console.error(":",_),f.value=_.message||""}finally{c.value=!1}}},V=_=>{if(!_)return"";switch(_.toUpperCase()){case"FOLLOW":return"";case"REPLY_POST":return"";case"REPLY_COMMENT":return"";case"LIKE_POST":return"";case"LIKE_COMMENT":return"";default:return""}},F=_=>{if(_.type)switch(_.type.toUpperCase()){case"FOLLOW":return"icon-users";case"REPLY_POST":case"REPLY_COMMENT":return"icon-comment";case"LIKE_POST":case"LIKE_COMMENT":return"icon-like";default:return"icon-bell"}return"icon-bell"},q=_=>{if(!_)return"";const O=new Date(_);if(isNaN(O.getTime()))return"";const T=new Date().getTime()-O.getTime();if(T<0)return"";const x=Math.floor(T/(1e3*60*60*24)),I=Math.floor(T/(1e3*60*60)),C=Math.floor(T/(1e3*60));return x>0?`${x} `:I>0?`${I} `:C>0?`${C} `:""},K=_=>{if(!_.fromUser||!_.content)return _.content||"";const O=_.fromUser.nickname||_.fromUser.username;return _.content.startsWith(O)?_.content.substring(O.length).trim():_.content},B=_=>{a("close"),n.push(`/user/${_}`)},N=async _=>{if(!_.isRead)try{const O=await Sn.markAsRead(_.id);if(O&&O.code===200){const j=l.value.findIndex(x=>x.id===_.id);j!==-1&&(l.value[j].isRead=!0,l.value[j].read=!0);const T=Math.max(0,o.unreadCount-1);a("updateUnread",T)}}catch(O){console.error(":",O)}},H=_=>{if(a("close"),_.postId){const O=_.postId,j={};_.commentId&&(j.commentId=_.commentId.toString()),_.parentCommentId&&(j.parentCommentId=_.parentCommentId.toString()),n.push({path:`/post/${O}`,query:j})}else _.fromUser&&B(_.fromUser.id)},P=async()=>{if(!(p.value||m.value===0)){p.value=!0;try{const _=await Sn.readAll();_&&_.code===200&&(l.value.forEach(O=>{O.isRead=!0,O.read=!0}),a("updateUnread",0))}catch(_){console.error(":",_)}finally{p.value=!1}}},ee=()=>{a("close")},A=()=>{a("close")};return Ye(()=>o.visible,_=>{_&&S()}),(_,O)=>(d(),rt(ai,{to:"body"},[ge(Ni,{name:"notification-panel"},{default:Ce(()=>[_.visible?(d(),v("div",{key:0,class:"notification-panel-overlay",onClick:A},[s("div",{class:"notification-panel",onClick:O[0]||(O[0]=pe(()=>{},["stop"]))},[s("div",s_,[O[3]||(O[3]=s("h3",{class:"panel-title"},"",-1)),s("div",n_,[!c.value&&!f.value&&l.value.length>0?(d(),v("button",{key:0,class:"read-all-btn",onClick:P,disabled:p.value||m.value===0},[...O[1]||(O[1]=[s("i",{class:"icon-broom"},null,-1),s("span",null,"",-1)])],8,o_)):D("",!0),s("button",{class:"close-btn",onClick:ee},[...O[2]||(O[2]=[s("i",{class:"icon-close"},null,-1)])])])]),s("div",a_,[(d(!0),v(se,null,ve(i.value,j=>(d(),v("button",{key:j.id,class:fe(["tab-item",{active:r.value===j.id}]),onClick:T=>r.value=j.id},[s("span",null,y(j.label),1),j.badge&&j.badge>0?(d(),v("span",i_,y(j.badge),1)):D("",!0)],10,l_))),128))]),s("div",r_,[c.value?(d(),v("div",u_,[...O[4]||(O[4]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):f.value?(d(),v("div",c_,[O[5]||(O[5]=s("i",{class:"icon-error-circle"},null,-1)),s("p",null,y(f.value),1),s("button",{class:"retry-btn",onClick:S},"")])):g.value.length===0?(d(),v("div",d_,[...O[6]||(O[6]=[s("i",{class:"icon-bell"},null,-1),s("p",null,"",-1)])])):(d(),v("div",v_,[(d(!0),v(se,null,ve(g.value,j=>(d(),v("div",{key:j.id,class:fe(["notification-item",{unread:!j.isRead,read:j.isRead}])},[s("div",{class:fe(["notification-icon",{"unread-icon":!j.isRead}])},[s("i",{class:fe(F(j))},null,2)],2),s("div",{class:"notification-body",onClick:T=>H(j)},[s("div",{class:fe(["notification-title",{"unread-title":!j.isRead}])},[oe(y(j.title)+" ",1),j.isRead?D("",!0):(d(),v("span",p_,""))],2),s("div",g_,[j.fromUser?(d(),v("span",m_,[s("span",{class:"user-name-link",onClick:pe(T=>B(j.fromUser.id),["stop"])},y(j.fromUser.nickname||j.fromUser.username),9,h_),s("span",y_,y(K(j)),1)])):(d(),v("span",__,y(j.content),1))]),s("div",{class:fe(["notification-time",{"unread-time":!j.isRead}])},[O[7]||(O[7]=s("i",{class:"icon-clock time-icon"},null,-1)),oe(" "+y(q(j.createdAt)),1)],2)],8,f_),s("div",b_,[j.isRead?D("",!0):(d(),v("button",{key:0,class:"mark-read-btn",onClick:pe(T=>N(j),["stop"]),title:""},[...O[8]||(O[8]=[s("i",{class:"icon-check"},null,-1)])],8,$_)),j.isRead?D("",!0):(d(),v("div",w_))])],2))),128))]))])])])):D("",!0)]),_:1})]))}});const C_=Ie(k_,[["__scopeId","data-v-3aceb99f"]]),S_={class:"navbar"},P_={class:"navbar-container"},x_={class:"navbar-brand"},T_={class:"navbar-search"},A_={class:"search-container"},E_={class:"navbar-menu"},I_={class:"nav-item dropdown-trigger"},M_={class:"dropdown-content"},D_={class:"dropdown-section"},V_={class:"category-grid"},R_={class:"navbar-user"},U_={key:0,class:"auth-section"},L_={key:1,class:"user-section"},O_={class:"notification-wrapper"},F_={key:0,class:"notification-badge"},z_={class:"user-trigger"},N_=["src","alt"],j_={class:"user-info"},q_={class:"username"},H_={class:"user-level"},B_={class:"user-profile"},K_=["src","alt"],W_={class:"profile-info"},G_={class:"user-menu-list"},Y_=Ne({__name:"NavBar",setup(e){const t=xt(),n=Je(),o=M(""),a=M(!1),i=M(!1),r=M(0),l=M(!1),c=_e(()=>n.isLoggedIn),f=_e(()=>n.user),p=()=>{const V={};o.value.trim()&&(V.q=o.value),t.currentRoute.value.query.type&&(V.type=t.currentRoute.value.query.type),t.push({name:"Search",query:Object.keys(V).length>0?V:void 0})},u=async()=>{if(!c.value){r.value=0;return}try{const V=await Sn.getNotificationCount();V&&V.code===200&&(r.value=V.data?.unread||0)}catch(V){console.error(":",V),r.value=0}},m=()=>{l.value=!l.value,l.value||u()},g=V=>{r.value=V},S=()=>{n.logout(),t.push("/"),i.value=!1,r.value=0};return Ye(c,V=>{V?u():r.value=0}),je(()=>{c.value&&u()}),(V,F)=>{const q=dt("router-link");return d(),v("nav",S_,[s("div",P_,[s("div",x_,[ge(q,{to:"/",class:"brand-link"},{default:Ce(()=>[...F[6]||(F[6]=[s("div",{class:"brand-icon"},[s("i",{class:"icon-orange"})],-1),s("div",{class:"brand-text"},[s("span",{class:"brand-name"},""),s("span",{class:"brand-tagline"},"")],-1)])]),_:1})]),s("div",T_,[s("div",A_,[J(s("input",{"onUpdate:modelValue":F[0]||(F[0]=K=>o.value=K),onKeyup:Qe(p,["enter"]),type:"text",placeholder:"...",class:"search-input"},null,544),[[ae,o.value]]),s("button",{onClick:p,class:"search-btn"},[...F[7]||(F[7]=[s("i",{class:"icon-search"},null,-1)])])])]),s("div",E_,[ge(q,{to:"/",class:fe(["nav-item",{active:V.$route.name==="Home"}])},{default:Ce(()=>[...F[8]||(F[8]=[s("i",{class:"nav-icon icon-home"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1},8,["class"]),ge(q,{to:"/forum",class:fe(["nav-item",{active:V.$route.name==="Forum"}])},{default:Ce(()=>[...F[9]||(F[9]=[s("i",{class:"nav-icon icon-forum"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1},8,["class"]),s("div",{class:"nav-dropdown",onMouseenter:F[1]||(F[1]=K=>a.value=!0),onMouseleave:F[2]||(F[2]=K=>a.value=!1)},[s("button",I_,[F[10]||(F[10]=s("i",{class:"nav-icon icon-category"},null,-1)),F[11]||(F[11]=s("span",{class:"nav-text"},"",-1)),s("i",{class:fe(["dropdown-arrow icon-arrow-down",{rotated:a.value}])},null,2)]),s("div",{class:fe(["dropdown-menu",{show:a.value}])},[s("div",M_,[s("div",D_,[F[15]||(F[15]=s("h4",{class:"section-title"},"",-1)),s("div",V_,[ge(q,{to:{name:"Search",query:{type:"movie"}},class:"category-item"},{default:Ce(()=>[...F[12]||(F[12]=[s("i",{class:"category-icon icon-film"},null,-1),s("span",null,"",-1)])]),_:1}),ge(q,{to:{name:"Search",query:{type:"tv"}},class:"category-item"},{default:Ce(()=>[...F[13]||(F[13]=[s("i",{class:"category-icon icon-tv"},null,-1),s("span",null,"",-1)])]),_:1}),ge(q,{to:{name:"Search",query:{type:"variety"}},class:"category-item"},{default:Ce(()=>[...F[14]||(F[14]=[s("i",{class:"category-icon icon-variety"},null,-1),s("span",null,"",-1)])]),_:1})])]),F[16]||(F[16]=Kt('<div class="dropdown-divider" data-v-3444afc6></div><div class="dropdown-section" data-v-3444afc6><h4 class="section-title" data-v-3444afc6></h4><div class="tag-list" data-v-3444afc6><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a></div></div>',2))])],2)],32),ge(q,{to:"/trending",class:"nav-item"},{default:Ce(()=>[...F[17]||(F[17]=[s("i",{class:"nav-icon icon-star"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1}),ge(q,{to:"/actors",class:fe(["nav-item",{active:V.$route.name==="Actors"}])},{default:Ce(()=>[...F[18]||(F[18]=[s("i",{class:"nav-icon icon-user"},null,-1),s("span",{class:"nav-text"},"/",-1)])]),_:1},8,["class"])]),s("div",R_,[c.value?(d(),v("div",L_,[s("div",O_,[s("button",{class:"notification-btn",onClick:m},[F[21]||(F[21]=s("i",{class:"icon-bell"},null,-1)),r.value>0?(d(),v("span",F_,y(r.value),1)):D("",!0)])]),ge(C_,{visible:l.value,"unread-count":r.value,onClose:F[3]||(F[3]=K=>l.value=!1),onUpdateUnread:g},null,8,["visible","unread-count"]),s("div",{class:"user-menu",onMouseenter:F[4]||(F[4]=K=>i.value=!0),onMouseleave:F[5]||(F[5]=K=>i.value=!1)},[s("button",z_,[s("img",{src:f.value?.avatar||"/avatar.png",alt:f.value?.username||"",class:"user-avatar"},null,8,N_),s("div",j_,[s("span",q_,y(f.value?.username||""),1),s("span",H_,"Lv."+y(f.value?.level||0),1)]),s("i",{class:fe(["user-arrow icon-arrow-down",{rotated:i.value}])},null,2)]),s("div",{class:fe(["user-dropdown",{show:i.value}])},[s("div",B_,[s("img",{src:f.value?.avatar||"/avatar.png",alt:f.value?.username||"",class:"profile-avatar"},null,8,K_),s("div",W_,[s("h4",null,y(f.value?.username||""),1)])]),s("div",G_,[ge(q,{to:f.value?`/user/${f.value.id}`:"#",class:"menu-item"},{default:Ce(()=>[...F[22]||(F[22]=[s("i",{class:"menu-icon icon-user"},null,-1),s("span",null,"",-1)])]),_:1},8,["to"]),ge(q,{to:"/user/settings",class:"menu-item"},{default:Ce(()=>[...F[23]||(F[23]=[s("i",{class:"menu-icon icon-settings"},null,-1),s("span",null,"",-1)])]),_:1}),F[25]||(F[25]=s("div",{class:"menu-divider"},null,-1)),s("button",{onClick:S,class:"menu-item logout-item"},[...F[24]||(F[24]=[s("i",{class:"menu-icon icon-logout"},null,-1),s("span",null,"",-1)])])])],2)],32)])):(d(),v("div",U_,[ge(q,{to:"/login",class:"auth-btn login-btn"},{default:Ce(()=>[...F[19]||(F[19]=[s("i",{class:"icon-user"},null,-1),s("span",null,"",-1)])]),_:1}),ge(q,{to:"/register",class:"auth-btn register-btn"},{default:Ce(()=>[...F[20]||(F[20]=[s("i",{class:"icon-plus"},null,-1),s("span",null,"",-1)])]),_:1})]))])])])}}});const vr=Ie(Y_,[["__scopeId","data-v-3444afc6"]]);const Q_={class:"footer"},J_={class:"footer-container"},Z_={class:"footer-content"},X_={class:"footer-section"},eb={class:"footer-links"},tb={class:"footer-bottom"},sb={class:"footer-bottom-content"},nb={class:"footer-stats"},ob={__name:"Footer",setup(e){const t=M(0),n=M(0),o=M(0);return je(()=>{t.value=Math.floor(Math.random()*1e3)+500,n.value=Math.floor(Math.random()*100)+50,o.value=Math.floor(Math.random()*1e4)+5e4}),(a,i)=>{const r=dt("router-link");return d(),v("footer",Q_,[s("div",J_,[s("div",Z_,[i[6]||(i[6]=Kt('<div class="footer-section" data-v-586d5e71><div class="footer-brand" data-v-586d5e71><i class="icon-orange" data-v-586d5e71></i><span data-v-586d5e71></span></div><p class="footer-description" data-v-586d5e71>   </p><div class="social-links" data-v-586d5e71><a href="#" class="social-link" title="" data-v-586d5e71><i class="icon-weibo" data-v-586d5e71></i></a><a href="#" class="social-link" title="" data-v-586d5e71><i class="icon-wechat" data-v-586d5e71></i></a><a href="#" class="social-link" title="QQ" data-v-586d5e71><i class="icon-qq" data-v-586d5e71></i></a><a href="#" class="social-link" title="GitHub" data-v-586d5e71><i class="icon-github" data-v-586d5e71></i></a></div></div>',1)),s("div",X_,[i[5]||(i[5]=s("h4",{class:"footer-title"},"",-1)),s("ul",eb,[s("li",null,[ge(r,{to:"/"},{default:Ce(()=>[...i[0]||(i[0]=[oe("",-1)])]),_:1})]),s("li",null,[ge(r,{to:"/forum"},{default:Ce(()=>[...i[1]||(i[1]=[oe("",-1)])]),_:1})]),s("li",null,[ge(r,{to:"/forum/movie"},{default:Ce(()=>[...i[2]||(i[2]=[oe("",-1)])]),_:1})]),s("li",null,[ge(r,{to:"/forum/tv"},{default:Ce(()=>[...i[3]||(i[3]=[oe("",-1)])]),_:1})]),s("li",null,[ge(r,{to:"/forum/variety"},{default:Ce(()=>[...i[4]||(i[4]=[oe("",-1)])]),_:1})])])]),i[7]||(i[7]=Kt('<div class="footer-section" data-v-586d5e71><h4 class="footer-title" data-v-586d5e71></h4><ul class="footer-links" data-v-586d5e71><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li></ul></div><div class="footer-section" data-v-586d5e71><h4 class="footer-title" data-v-586d5e71></h4><div class="footer-tags" data-v-586d5e71><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span></div></div>',2))]),s("div",tb,[s("div",sb,[i[8]||(i[8]=s("p",{class:"copyright"},"  2024 . . ",-1)),s("div",nb,[s("span",null,": "+y(t.value),1),s("span",null,": "+y(n.value),1),s("span",null,": "+y(o.value),1)])])])])])}}},ab=Ie(ob,[["__scopeId","data-v-586d5e71"]]);const lb={__name:"Test",setup(e){return(t,n)=>(d(),rt(vr))}},ib=Ie(lb,[["__scopeId","data-v-b43aeb48"]]);const rb={class:"qq-login-success"},ub={__name:"QQLoginSuccess",setup(e){const t=xt(),n=Je();return je(()=>{try{const a=new URLSearchParams(window.location.search).get("userInfo")||"",i=JSON.parse(decodeURIComponent(a)),r={id:i.id,username:i.username,email:i.email,avatar:i.avatar,nickname:i.nickname,level:i.level,joinDate:i.join_date,followersCount:i.followers_count,followingCount:i.following_count,postsCount:0,role:i.role||"USER"};n.user=r,n.userId=r.id,localStorage.setItem("current_user_id",r.id.toString()),t.push("/")}catch(o){console.error(":",o),t.push("/")}}),(o,a)=>(d(),v("div",rb,[...a[0]||(a[0]=[s("h2",null,"QQ",-1),s("p",null,"...",-1)])]))}},cb=Ie(ub,[["__scopeId","data-v-ad3bc6ad"]]);async function ra(e,t){const n={...e,director:Number(e.director),actors:e.actors.map(a=>({id:Number(a.id),role:a.role.trim(),description:a.description.trim()}))};return(await me("/tvshows/add",{method:"POST",body:Ge(n),signal:t})).data}async function db(e,t){const n=await me(`/tvshows/${e}`,{signal:t}),o=n.data.data||n.data;return{...o,isLiked:o.isLiked||!1,isFavorited:o.isFavorited||!1}}async function vb(e,t){await me(`/tvshows/${e}/delete`,{method:"POST",signal:t})}async function fb(e,t){const n=new URLSearchParams;e.page&&n.set("page",String(e.page)),e.size&&n.set("size",String(e.size)),e.tag&&n.set("tag",e.tag),e.year&&n.set("year",String(e.year)),e.rating&&n.set("rating",String(e.rating)),e.actor&&n.set("actor",e.actor),e.award&&n.set("award",e.award);const o=n.toString(),a=`/tvshows/list${o?`?${o}`:""}`,r=(await me(a,{signal:t})).data;return{tvshows:r.tvshows||[],total:r.pagination?.total||r.total||0,page:r.pagination?.page||r.page||e.page||1,size:r.pagination?.size||r.pageSize||e.size||24,hasMore:r.pagination?.has_next||!1}}async function pb(e,t){await me(`/tvshows/${e}/like`,{method:"POST",signal:t})}async function gb(e,t){await me(`/tvshows/${e}/unlike`,{method:"POST",signal:t})}async function mb(e,t){await me(`/tvshows/${e}/favorite`,{method:"POST",signal:t})}async function hb(e,t){await me(`/tvshows/${e}/unfavorite`,{method:"POST",signal:t})}async function yb(e,t,n){await me(`/tvshows/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function _b(e,t={},n){const o=new URLSearchParams;t.page&&o.set("page",String(t.page)),t.size&&o.set("size",String(t.size));const i=(await me(`/tvshows/${e}/reviews${o.toString()?`?${o.toString()}`:""}`,{signal:n})).data;return{reviews:(i.reviews||[]).map(l=>({...l,createdAt:l.createTime||l.createdAt,user:l.user||{id:l.userId,username:l.username||"",avatar:l.avatar}})),total:i.total||i.pagination?.total||0,page:i.pagination?.page||t.page||1,size:i.pagination?.size||t.size||10}}function go(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||(Array.isArray(o)?o.length>0&&t.set(n,o.join(",")):t.set(n,String(o)))}),t.toString()}async function bb(e,t){console.log("[Search API] :",{type:e.type,q:e.q,page:e.page,pageSize:e.pageSize,tag:e.tag,year:e.year,ratingGte:e.ratingGte,actor:e.actor,award:e.award,genres:e.genres});const n=e.type||"movie",o=e.q&&e.q.trim()!=="";if(n==="movie"){if(!o){const c=await pv({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year||void 0,rating:e.ratingGte||void 0,actor:e.actor||void 0,award:e.award||void 0},t);return console.log("[List] :",c),console.log("[List] :",{page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award}),{items:c.movies.map(f=>({id:f.id,title:f.title,year:f.year,rating:f.rating,genres:Array.isArray(f.tags)?f.tags:f.tags?[f.tags]:[],poster:f.poster,regions:f.country?[f.country]:void 0})),total:c.total,page:c.page,pageSize:c.size,hasMore:c.hasMore!==void 0?c.hasMore:c.page*c.size<c.total,facets:void 0}}const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0;console.log("[Search] tag:",{"params.tag":e.tag,"params.genres":e.genres,tag:i});const r={page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year||void 0,rating:e.ratingGte||void 0,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0};console.log("[Search] :",r);const l=await $v(r,t);return{items:l.movies.map(c=>({id:c.id,title:c.title,year:c.year,rating:c.rating,genres:Array.isArray(c.tags)?c.tags:c.tags?[c.tags]:[],poster:c.poster,regions:c.country?[c.country]:void 0})),total:l.total,page:l.page,pageSize:l.size,hasMore:l.hasMore!==void 0?l.hasMore:l.page*l.size<l.total,facets:void 0}}if(n==="tv")if(o){const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0,r=go({page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year,rating:e.ratingGte,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0});console.log(`[Search] URL: /tvshows/search?${r}`);const c=(await me(`/tvshows/search${r?`?${r}`:""}`,{signal:t})).data,f=c.items||c.tvshows||[],p=c.pagination||{};return{items:f.map(u=>({id:u.id,title:u.title,year:u.year,rating:u.rating,genres:Array.isArray(u.tags)?u.tags:Array.isArray(u.genres)?u.genres:u.tags?[u.tags]:[],poster:u.poster,regions:u.regions||void 0,highlight:u.highlight})),total:c.total||p.total||0,page:c.page||p.page||e.page||1,pageSize:c.size||p.size||e.pageSize||24,hasMore:c.hasMore!==void 0?c.hasMore:p.has_next!==void 0?p.has_next:!1,facets:c.facets}}else{console.log("[List] ");const a=await fb({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award},t);console.log("[List] :",a);const i=a;return{items:i.tvshows.map(r=>({id:r.id,title:r.title,year:r.year,rating:r.rating,genres:Array.isArray(r.tags)?r.tags:Array.isArray(r.genres)?r.genres:r.tags?[r.tags]:[],poster:r.poster,regions:r.country?[r.country]:r.regions||void 0})),total:i.total||0,page:i.page||e.page||1,pageSize:i.size||e.pageSize||24,hasMore:i.hasMore!==void 0?i.hasMore:(i.page||1)*(i.size||24)<(i.total||0),facets:void 0}}if(n==="variety")if(o){const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0,r=go({page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year,rating:e.ratingGte,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0});console.log(`[Search] URL: /varieties/search?${r}`);const c=(await me(`/varieties/search${r?`?${r}`:""}`,{signal:t})).data;return{items:(c.items||c.varieties||[]).map(p=>({id:p.id,title:p.title,year:p.year,rating:p.rating,genres:Array.isArray(p.tags)?p.tags:Array.isArray(p.genres)?p.genres:p.tags?[p.tags]:[],poster:p.poster,regions:p.regions||void 0,highlight:p.highlight})),total:c.total||c.pagination?.total||0,page:c.page||c.pagination?.page||e.page||1,pageSize:c.pageSize||c.pagination?.size||e.pageSize||24,hasMore:c.hasMore!==void 0?c.hasMore:c.pagination?.has_next!==void 0?c.pagination?.has_next:!1,facets:c.facets}}else{console.log("[List] ");const a=go({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award});console.log(`[List] URL: /varieties/list?${a}`);const r=(await me(`/varieties/list${a?`?${a}`:""}`,{signal:t})).data;return{items:(r.varieties||[]).map(l=>({id:l.id,title:l.title,year:l.year,rating:l.rating,genres:Array.isArray(l.tags)?l.tags:Array.isArray(l.genres)?l.genres:l.tags?[l.tags]:[],poster:l.poster,regions:l.regions||void 0})),total:r.total||r.pagination?.total||0,page:r.page||r.pagination?.page||e.page||1,pageSize:r.pageSize||r.pagination?.size||e.pageSize||24,hasMore:r.hasMore!==void 0?r.hasMore:(r.page||1)*(r.pageSize||24)<(r.total||0),facets:r.facets}}return{items:[],total:0,page:e.page||1,pageSize:e.pageSize||24,hasMore:!1,facets:void 0}}function Ke(e){if(e)return Array.isArray(e)?e.map(t=>t?.toString()||"").filter(Boolean):e?.toString()||""}function mo(e){if(!e)return;const n=(Array.isArray(e)?e.join(","):e).split(",").map(o=>o.trim()).filter(Boolean);return n.length?n:void 0}function vs(e){if(!e)return;const t=Array.isArray(e)?e[0]:e,n=Number(t);return Number.isFinite(n)?n:void 0}const $b=Ji("search",()=>{const e=Ut(),t=xt(),n=M(""),o=M(void 0),a=M([]),i=M([]),r=M([]),l=M(""),c=M(""),f=M(void 0),p=M(void 0),u=M(void 0),m=M(void 0),g=M(void 0),S=M(""),V=M(""),F=M(""),q=M("relevance_desc"),K=M(1),B=M(10),N=M([]),H=M(0),P=M(!1),ee=M(),A=M(!1),_=M(null);let O=null,j=!1;const T=_e(()=>({q:n.value||void 0,type:o.value,genres:a.value.length?a.value:void 0,regions:i.value.length?i.value:void 0,languages:r.value.length?r.value:void 0,country:l.value||void 0,language:c.value||void 0,year:f.value,yearGte:p.value,yearLte:u.value,ratingGte:m.value,ratingLte:g.value,tag:S.value||void 0,actor:V.value||void 0,award:F.value||void 0,sort:q.value,page:K.value,pageSize:B.value}));function x(){const $=e.query;n.value=Ke($.q)||"",o.value=Ke($.type)||void 0,a.value=mo(Ke($.genres))||[],i.value=mo(Ke($.regions))||[],r.value=mo(Ke($.languages))||[],l.value=Ke($.country)||"",c.value=Ke($.language)||"",f.value=vs(Ke($.year)),p.value=vs(Ke($.year_gte)),u.value=vs(Ke($.year_lte)),m.value=vs(Ke($.rating_gte)),g.value=vs(Ke($.rating_lte)),S.value=Ke($.tag)||"",V.value=Ke($.actor)||"",F.value=Ke($.award)||"",q.value=Ke($.sort)||"relevance_desc",K.value=vs(Ke($.page))||1,B.value=vs(Ke($.page_size))||10}async function I($=!1){if(j)return;const Q={};if(n.value&&(Q.q=n.value),o.value)Q.type=o.value;else if(e.query.type){const X=Ke(e.query.type);Q.type=X,o.value=X}a.value.length&&(Q.genres=a.value.join(",")),i.value.length&&(Q.regions=i.value.join(",")),r.value.length&&(Q.languages=r.value.join(",")),l.value&&(Q.country=l.value),c.value&&(Q.language=c.value),f.value!==void 0&&(Q.year=f.value),p.value!==void 0&&(Q.year_gte=p.value),u.value!==void 0&&(Q.year_lte=u.value),m.value!==void 0&&(Q.rating_gte=m.value),g.value!==void 0&&(Q.rating_lte=g.value),S.value&&(Q.tag=S.value),V.value&&(Q.actor=V.value),F.value&&(Q.award=F.value),q.value&&(Q.sort=q.value),K.value&&K.value!==1&&(Q.page=K.value),B.value&&B.value!==24&&(Q.page_size=B.value);const xe=e.query,re=Object.keys(Q).some(X=>{const ce=xe[X],w=Q[X];return Array.isArray(ce)?ce.join(",")!==w:String(ce)!==String(w)})||Object.keys(xe).some(X=>!(X in Q)&&xe[X]!==void 0);if($&&!re){x(),await C();return}j=!0;try{const X={name:e.name||"Search",query:Q};$?await t.replace(X):await t.push(X),x(),await C()}finally{setTimeout(()=>{j=!1},100)}}async function C(){O&&O.abort(),O=new AbortController,A.value=!0,_.value=null,N.value=[],H.value=0,P.value=!1,ee.value=void 0;try{const $=await bb(T.value,O.signal);N.value=$.items,H.value=$.total,P.value=$.hasMore,ee.value=$.facets}catch($){if($?.name==="AbortError")return;_.value=$?.message||""}finally{A.value=!1}}function W(){n.value="",a.value=[],i.value=[],r.value=[],l.value="",c.value="",f.value=void 0,p.value=void 0,u.value=void 0,m.value=void 0,g.value=void 0,S.value="",V.value="",F.value="",q.value="relevance_desc",K.value=1}return Ye(()=>e.fullPath,()=>{j||(x(),C())},{immediate:!0}),Ye(()=>o.value,()=>{N.value=[],H.value=0,P.value=!1,ee.value=void 0}),{q:n,type:o,genres:a,regions:i,languages:r,country:l,language:c,year:f,yearGte:p,yearLte:u,ratingGte:m,ratingLte:g,tag:S,actor:V,award:F,sort:q,page:K,pageSize:B,items:N,total:H,hasMore:P,facets:ee,loading:A,error:_,params:T,syncFromRoute:x,syncToRoute:I,runSearch:C,clearAll:W}}),wb=["title"],kb=["onClick","disabled"],Cb=Ne({__name:"RatingStars",props:{modelValue:{},tooltipBase:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a=_e(()=>n.modelValue||0),i=_e(()=>a.value?a.value/2:0),r=_e(()=>{const f=a.value.toFixed(1);return n.tooltipBase?`${n.tooltipBase}${f}/10`:`${f}/10`});function l(f){i.value===f?o("update:modelValue",(f-.5)*2):i.value===f-.5?o("update:modelValue",void 0):o("update:modelValue",f*2)}function c(f){o("update:modelValue",f||void 0)}return(f,p)=>(d(),v("div",{class:fe(["rating-stars",{readonly:f.readonly}]),title:r.value},[(d(),v(se,null,ve(5,u=>s("button",{key:u,class:fe(["star",{full:i.value>=u,half:i.value>=u-.5&&i.value<u}]),onClick:m=>!f.readonly&&l(u),disabled:f.readonly},[p[1]||(p[1]=s("span",{class:"star-bg"},"",-1)),i.value>=u-.5?(d(),v("span",{key:0,class:"star-fill",style:Rt({width:i.value>=u?"100%":"50%"})},"",4)):D("",!0)],10,kb)),64)),a.value&&!f.readonly?(d(),v("button",{key:0,class:"clear",onClick:p[0]||(p[0]=u=>c(0))},"")):D("",!0)],10,wb))}});const Ct=Ie(Cb,[["__scopeId","data-v-7d1707cc"]]);function Sb(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||t.set(n,String(o))}),t.toString()}async function Dt(e={},t){const n=Sb({page:e.page,size:e.size,keyword:e.keyword,nationality:e.nationality,gender:e.gender}),a=(await me(`/actor/query${n?`?${n}`:""}`,{signal:t})).data,i=a.pagination||{};return{actors:(a.actors||[]).map(r=>({id:r.id,name:r.name,avatar:r.avatar,birthDate:r.birthday,nationality:r.nationality,gender:r.gender,moviesCount:r.movies_count,tvShowsCount:r.tv_shows_count})),total:i.total||0,page:i.page||e.page||1,size:i.size||e.size||20}}async function Pb(e,t){const o=(await me(`/actor/${e}`,{signal:t})).data;return{id:o.id,name:o.name,avatar:o.avatar,birthDate:o.birthday,nationality:o.nationality,gender:o.gender===""?"":o.gender,biography:o.biography,moviesCount:o.movies_count,tvShowsCount:o.tv_shows_count,movies:o.movies,tvShows:o.tv_shows,varietyShows:o.variety_shows,awards:o.awards}}async function fr(e,t){return(await me("/actor/save",{method:"POST",body:Ge(e),signal:t})).data}async function xb(e,t){await me(`/actor/${e}/delete`,{method:"POST",signal:t})}const Tb={class:"movie-form-modal"},Ab={class:"modal-header"},Eb={class:"form-group"},Ib={class:"form-group"},Mb={class:"form-row"},Db={class:"form-group"},Vb={class:"form-group"},Rb={class:"form-row"},Ub={class:"form-group"},Lb={class:"form-group"},Ob={class:"form-group"},Fb={class:"tags-input"},zb={key:0,class:"tags-list"},Nb=["onClick"],jb={class:"tags-input-row"},qb={class:"form-group"},Hb={class:"select-with-search"},Bb=["value"],Kb={class:"form-group"},Wb={class:"select-with-search"},Gb={class:"multi-select"},Yb=["value"],Qb={key:0,class:"actors-list"},Jb={class:"actor-header"},Zb={class:"actor-name"},Xb=["onClick"],e0={class:"actor-fields"},t0={class:"actor-field"},s0=["onUpdate:modelValue"],n0={class:"actor-field"},o0=["onUpdate:modelValue"],a0={class:"form-group"},l0={class:"form-group"},i0={class:"form-group"},r0={class:"form-group"},u0={class:"photos-input"},c0={key:0,class:"photos-list"},d0=["onClick"],v0={class:"form-group"},f0={class:"select-with-search"},p0={class:"multi-select"},g0=["value"],m0={key:0,class:"selected-list"},h0=["onClick"],y0={class:"form-actions"},_0=["disabled"],b0=Ne({__name:"MovieForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=M(!1),i=M(""),r=M(""),l=M(""),c=M(""),f=M(0),p=M(0),u=M([]),m=M([]),g=M([]),S=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],director:0,actors:[],poster:"",summary:"",awards:[],duration:0,country:"",language:"",trailer:"",photos:[]});n.initialData&&Object.assign(S,{title:n.initialData.title||"",original_title:n.initialData.original_title||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],director:n.initialData.director?.id||n.initialData.director||0,actors:n.initialData.actors?.map(W=>({id:W.id||W,role:W.role||"",description:W.description||""}))||[],poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:n.initialData.awards?.map(W=>W.id||W)||[],duration:n.initialData.duration||0,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]});async function V(){try{const W=await Dt({page:1,size:100});u.value=W.actors||[],m.value=W.actors||[]}catch(W){console.error(":",W)}}async function F(){try{const W=await Dt({page:1,size:20,keyword:r.value||void 0});u.value=W.actors||[]}catch(W){console.error(":",W)}}async function q(){try{const W=await Dt({page:1,size:20,keyword:l.value||void 0});m.value=W.actors||[]}catch(W){console.error(":",W)}}async function K(){g.value=[]}function B(){const W=i.value.trim();W&&!S.tags.includes(W)&&(S.tags.push(W),i.value="")}function N(W){S.tags.splice(W,1)}function H(){const W=f.value;W&&(S.actors.find(Q=>Q.id===W)||(S.actors.push({id:W,role:"",description:""}),f.value=0))}function P(W){W>-1&&W<S.actors.length&&S.actors.splice(W,1)}function ee(W){return m.value.find(Q=>Q.id===W)?.name||`ID: ${W}`}function A(){const W=p.value;W&&!S.awards.includes(W)&&(S.awards.push(W),p.value=0)}function _(W){const $=S.awards.indexOf(W);$>-1&&S.awards.splice($,1)}function O(W){return g.value.find(Q=>Q.id===W)?.name||`ID: ${W}`}function j(){S.photos.push("")}function T(W){S.photos.splice(W,1)}const x={success:function(W){console.log("Success:",W)},error:function(W){console.error("Error:",W)},warning:function(W){console.warn("Warning:",W)},info:function(W){console.info("Info:",W)}};async function I(){a.value=!0;try{if(!S.title||!S.year){x.warning("");return}const W={title:S.title,original_title:S.original_title||void 0,year:S.year,tags:S.tags,director:Number(S.director),actors:S.actors.map($=>({id:Number($.id),role:$.role.trim(),description:$.description.trim()})),poster:S.poster,summary:S.summary,duration:Number(S.duration),country:S.country,language:S.language,trailer:S.trailer||void 0,photos:S.photos.filter($=>$.trim()),awards:S.awards.length>0?S.awards.map($=>Number($)):void 0};n.isEdit&&n.initialData?.id&&(W.id=n.initialData.id),o("submit",W),x.success("")}catch(W){x.error(W?.message||"")}finally{a.value=!1}}function C(){o("cancel")}return V(),(W,$)=>(d(),v("div",{class:"movie-form-overlay",onClick:pe(C,["self"])},[s("div",Tb,[s("div",Ab,[s("h2",null,y(W.isEdit?"":""),1),s("button",{class:"close-btn",onClick:C},"")]),s("form",{onSubmit:pe(I,["prevent"]),class:"movie-form"},[s("div",Eb,[$[16]||($[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":$[0]||($[0]=Q=>S.title=Q),type:"text",required:"",placeholder:""},null,512),[[ae,S.title]])]),s("div",Ib,[$[17]||($[17]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$[1]||($[1]=Q=>S.original_title=Q),type:"text",placeholder:""},null,512),[[ae,S.original_title]])]),s("div",Mb,[s("div",Db,[$[18]||($[18]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":$[2]||($[2]=Q=>S.year=Q),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,S.year,void 0,{number:!0}]])]),s("div",Vb,[$[19]||($[19]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":$[3]||($[3]=Q=>S.duration=Q),type:"number",required:"",placeholder:"120",min:"1"},null,512),[[ae,S.duration,void 0,{number:!0}]])])]),s("div",Rb,[s("div",Ub,[$[20]||($[20]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":$[4]||($[4]=Q=>S.country=Q),type:"text",required:"",placeholder:""},null,512),[[ae,S.country]])]),s("div",Lb,[$[21]||($[21]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":$[5]||($[5]=Q=>S.language=Q),type:"text",required:"",placeholder:""},null,512),[[ae,S.language]])])]),s("div",Ob,[$[22]||($[22]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Fb,[S.tags.length>0?(d(),v("div",zb,[(d(!0),v(se,null,ve(S.tags,(Q,xe)=>(d(),v("span",{key:xe,class:"tag-item"},[oe(y(Q)+" ",1),s("button",{type:"button",onClick:re=>N(xe),class:"tag-remove"},"",8,Nb)]))),128))])):D("",!0),s("div",jb,[J(s("input",{"onUpdate:modelValue":$[6]||($[6]=Q=>i.value=Q),type:"text",placeholder:"",onKeyup:Qe(B,["enter"]),class:"tag-input"},null,544),[[ae,i.value]]),s("button",{type:"button",onClick:B,class:"add-tag-btn"},"")])])]),s("div",qb,[$[24]||($[24]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Hb,[J(s("input",{"onUpdate:modelValue":$[7]||($[7]=Q=>r.value=Q),type:"text",placeholder:"...",onInput:F,class:"search-input"},null,544),[[ae,r.value]]),J(s("select",{"onUpdate:modelValue":$[8]||($[8]=Q=>S.director=Q),required:"",class:"select-input"},[$[23]||($[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(u.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,Bb))),128))],512),[[Ue,S.director,void 0,{number:!0}]])])]),s("div",Kb,[$[28]||($[28]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Wb,[J(s("input",{"onUpdate:modelValue":$[9]||($[9]=Q=>l.value=Q),type:"text",placeholder:"...",onInput:q,class:"search-input"},null,544),[[ae,l.value]]),s("div",Gb,[J(s("select",{"onUpdate:modelValue":$[10]||($[10]=Q=>f.value=Q),onChange:H,class:"select-input"},[$[25]||($[25]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(m.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,Yb))),128))],544),[[Ue,f.value]]),S.actors.length>0?(d(),v("div",Qb,[(d(!0),v(se,null,ve(S.actors,(Q,xe)=>(d(),v("div",{key:xe,class:"actor-item"},[s("div",Jb,[s("span",Zb,y(ee(Q.id)),1),s("button",{type:"button",onClick:re=>P(xe),class:"item-remove"},"",8,Xb)]),s("div",e0,[s("div",t0,[$[26]||($[26]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":re=>Q.role=re,type:"text",placeholder:"",required:"",class:"actor-input"},null,8,s0),[[ae,Q.role]])]),s("div",n0,[$[27]||($[27]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":re=>Q.description=re,type:"text",placeholder:"",required:"",class:"actor-input"},null,8,o0),[[ae,Q.description]])])])]))),128))])):D("",!0)])])]),s("div",a0,[$[29]||($[29]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),ge(is,{modelValue:S.poster,"onUpdate:modelValue":$[11]||($[11]=Q=>S.poster=Q),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0,required:""},null,8,["modelValue"])]),s("div",l0,[$[30]||($[30]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("textarea",{"onUpdate:modelValue":$[12]||($[12]=Q=>S.summary=Q),required:"",rows:"4",placeholder:""},null,512),[[ae,S.summary]])]),s("div",i0,[$[31]||($[31]=s("label",null,"URL",-1)),J(s("input",{"onUpdate:modelValue":$[13]||($[13]=Q=>S.trailer=Q),type:"text",placeholder:""},null,512),[[ae,S.trailer]])]),s("div",r0,[$[32]||($[32]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),s("div",u0,[S.photos.length>0?(d(),v("div",c0,[(d(!0),v(se,null,ve(S.photos,(Q,xe)=>(d(),v("div",{key:xe,class:"photo-item"},[ge(is,{modelValue:S.photos[xe],"onUpdate:modelValue":re=>S.photos[xe]=re,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:re=>T(xe),class:"photo-remove"},"",8,d0)]))),128))])):D("",!0),s("button",{type:"button",onClick:j,class:"add-photo-btn"},"+ URL")])]),s("div",v0,[$[34]||($[34]=s("label",null,"",-1)),s("div",f0,[J(s("input",{"onUpdate:modelValue":$[14]||($[14]=Q=>c.value=Q),type:"text",placeholder:"...",onInput:K,class:"search-input"},null,544),[[ae,c.value]]),s("div",p0,[J(s("select",{"onUpdate:modelValue":$[15]||($[15]=Q=>p.value=Q),onChange:A,class:"select-input"},[$[33]||($[33]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(g.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,g0))),128))],544),[[Ue,p.value]]),S.awards.length>0?(d(),v("div",m0,[(d(!0),v(se,null,ve(S.awards,Q=>(d(),v("span",{key:Q,class:"selected-item"},[oe(y(O(Q))+" ",1),s("button",{type:"button",onClick:xe=>_(Q),class:"item-remove"},"",8,h0)]))),128))])):D("",!0)])])]),s("div",y0,[s("button",{type:"button",onClick:C,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,_0)])],32)])]))}});const pr=Ie(b0,[["__scopeId","data-v-cc7eac57"]]),$0={class:"movie-form-modal"},w0={class:"modal-header"},k0={class:"form-group"},C0={class:"form-group"},S0={class:"form-row"},P0={class:"form-group"},x0={class:"form-group"},T0={class:"form-group"},A0={class:"form-group"},E0={class:"form-group"},I0={class:"tag-input-group"},M0=["onKeyup"],D0={class:"tags-container"},V0=["onClick"],R0={class:"form-group"},U0={class:"select-with-search"},L0=["value"],O0={class:"form-group"},F0={class:"select-with-search"},z0={class:"multi-select"},N0=["value"],j0={key:0,class:"actors-list"},q0={class:"actor-header"},H0={class:"actor-name"},B0=["onClick"],K0={class:"actor-fields"},W0={class:"actor-field"},G0=["onUpdate:modelValue"],Y0={class:"actor-field"},Q0=["onUpdate:modelValue"],J0={class:"form-group"},Z0={class:"form-group"},X0={class:"form-group"},e$={class:"award-header"},t$=["onClick"],s$={class:"award-fields"},n$={class:"award-field"},o$=["onUpdate:modelValue"],a$={class:"award-field"},l$=["onUpdate:modelValue"],i$={class:"award-field"},r$=["onUpdate:modelValue"],u$={class:"award-field"},c$=["onUpdate:modelValue"],d$={class:"form-group"},v$={class:"season-header"},f$=["onClick"],p$={class:"season-fields"},g$={class:"season-field"},m$=["onUpdate:modelValue"],h$={class:"season-field"},y$=["onUpdate:modelValue"],_$={class:"form-group"},b$={class:"form-group"},$$=["onClick"],w$={class:"form-actions"},k$=["disabled"],C$=Ne({__name:"TvShowForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=M(!1),i=M(""),r=M(""),l=M(""),c=M(0),f=M([]),p=M([]);M(""),M(0),M([]);const u=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],director:0,actors:[],poster:"",summary:"",awards:[],seasons:[],episodes:1,country:"",language:"",trailer:"",photos:[]});n.initialData&&Object.assign(u,{id:n.initialData.id,title:n.initialData.title||"",original_title:n.initialData.originalTitle||n.initialData.original_title||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],director:n.initialData.director?.id||n.initialData.director||0,actors:n.initialData.actors?.map(x=>({id:x.id||x,role:x.role||"",description:x.description||""}))||[],poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:n.initialData.awards?.map(x=>({id:x.id||0,year:x.year||new Date().getFullYear(),status:x.status||"nominated",note:x.note||""}))||[],seasons:n.initialData.seasons?.map(x=>({id:x.id||0,number:x.number||"1"}))||[],episodes:n.initialData.episodes||1,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]});async function m(){try{const x=await Dt({page:1,size:100});f.value=x.actors||[],p.value=x.actors||[]}catch(x){console.error(":",x)}}je(()=>{m()}),!n.isEdit&&u.photos.length===0&&A();function g(x){const I=p.value.find(C=>C.id===x);return I?I.name:`${x}`}async function S(){if(!r.value.trim()){f.value=[];return}try{const x=await Dt({page:1,size:20,keyword:r.value});f.value=x.actors||[]}catch(x){console.error(":",x)}}async function V(){if(!l.value.trim()){p.value=[];return}try{const x=await Dt({page:1,size:20,keyword:l.value});p.value=x.actors||[]}catch(x){console.error(":",x)}}function F(){i.value.trim()&&!u.tags.includes(i.value.trim())&&(u.tags.push(i.value.trim()),i.value="")}function q(x){u.tags.splice(x,1)}function K(){c.value&&!u.actors.find(x=>x.id===c.value)&&(u.actors.push({id:c.value,role:"",description:""}),c.value=0)}function B(x){u.actors.splice(x,1)}function N(){u.awards.push({id:0,year:new Date().getFullYear(),status:"nominated",note:""})}function H(x){u.awards.splice(x,1)}function P(){u.seasons.push({id:0,number:(u.seasons.length+1).toString()})}function ee(x){u.seasons.splice(x,1)}function A(){u.photos.push("")}function _(x){u.photos.splice(x,1)}const O={success:function(x){console.log("Success:",x)},error:function(x){console.error("Error:",x)},warning:function(x){console.warn("Warning:",x)},info:function(x){console.info("Info:",x)}};async function j(){if(!u.title||!u.year){O.warning("");return}a.value=!0;try{const x={...u};x.year=Number(x.year),x.director=Number(x.director),x.episodes=Number(x.episodes),x.actors=x.actors.map(I=>({id:Number(I.id),role:I.role?.trim()||"",description:I.description?.trim()||""})),x.awards=x.awards.map(I=>({id:Number(I.id),year:Number(I.year),status:I.status||"nominated",note:I.note?.trim()||""})),x.seasons=x.seasons.map(I=>({id:Number(I.id),number:I.number?.toString()||"1"})),Array.isArray(x.tags)||(x.tags=x.tags?[x.tags]:[]),n.isEdit&&n.initialData?.id&&(x.id=n.initialData.id),await ra(x),o("cancel")}catch(x){console.error(":",x),O.error("")}finally{a.value=!1}}function T(){o("cancel")}return(x,I)=>(d(),v("div",{class:"movie-form-overlay",onClick:pe(T,["self"])},[s("div",$0,[s("div",w0,[s("h2",null,y(x.isEdit?"":""),1),s("button",{class:"close-btn",onClick:T},"")]),s("form",{onSubmit:pe(j,["prevent"]),class:"movie-form"},[s("div",k0,[I[14]||(I[14]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":I[0]||(I[0]=C=>u.title=C),type:"text",required:"",placeholder:""},null,512),[[ae,u.title]])]),s("div",C0,[I[15]||(I[15]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":I[1]||(I[1]=C=>u.original_title=C),type:"text",placeholder:""},null,512),[[ae,u.original_title]])]),s("div",S0,[s("div",P0,[I[16]||(I[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":I[2]||(I[2]=C=>u.year=C),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,u.year,void 0,{number:!0}]])]),s("div",x0,[I[17]||(I[17]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":I[3]||(I[3]=C=>u.episodes=C),type:"number",placeholder:"",min:"1"},null,512),[[ae,u.episodes,void 0,{number:!0}]])])]),s("div",T0,[I[18]||(I[18]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":I[4]||(I[4]=C=>u.country=C),type:"text",placeholder:""},null,512),[[ae,u.country]])]),s("div",A0,[I[19]||(I[19]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":I[5]||(I[5]=C=>u.language=C),type:"text",placeholder:""},null,512),[[ae,u.language]])]),s("div",E0,[I[20]||(I[20]=s("label",null,"",-1)),s("div",I0,[J(s("input",{"onUpdate:modelValue":I[6]||(I[6]=C=>i.value=C),type:"text",placeholder:"",onKeyup:Qe(pe(F,["prevent"]),["enter"]),class:"tag-input"},null,40,M0),[[ae,i.value]]),s("button",{type:"button",onClick:F,class:"add-tag-btn"},"")]),s("div",D0,[(d(!0),v(se,null,ve(u.tags,(C,W)=>(d(),v("span",{key:W,class:"tag"},[oe(y(C)+" ",1),s("button",{type:"button",onClick:$=>q(W),class:"tag-remove"},"",8,V0)]))),128))])]),s("div",R0,[I[22]||(I[22]=s("label",null,"",-1)),s("div",U0,[J(s("input",{"onUpdate:modelValue":I[7]||(I[7]=C=>r.value=C),type:"text",placeholder:"...",onInput:S,class:"search-input"},null,544),[[ae,r.value]]),J(s("select",{"onUpdate:modelValue":I[8]||(I[8]=C=>u.director=C),class:"select-input"},[I[21]||(I[21]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(f.value,C=>(d(),v("option",{key:C.id,value:C.id},y(C.name),9,L0))),128))],512),[[Ue,u.director,void 0,{number:!0}]])])]),s("div",O0,[I[26]||(I[26]=s("label",null,"",-1)),s("div",F0,[J(s("input",{"onUpdate:modelValue":I[9]||(I[9]=C=>l.value=C),type:"text",placeholder:"...",onInput:V,class:"search-input"},null,544),[[ae,l.value]]),s("div",z0,[J(s("select",{"onUpdate:modelValue":I[10]||(I[10]=C=>c.value=C),onChange:K,class:"select-input"},[I[23]||(I[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(p.value,C=>(d(),v("option",{key:C.id,value:C.id},y(C.name),9,N0))),128))],544),[[Ue,c.value]]),u.actors.length>0?(d(),v("div",j0,[(d(!0),v(se,null,ve(u.actors,(C,W)=>(d(),v("div",{key:W,class:"actor-item"},[s("div",q0,[s("span",H0,y(g(C.id)),1),s("button",{type:"button",onClick:$=>B(W),class:"item-remove"},"",8,B0)]),s("div",K0,[s("div",W0,[I[24]||(I[24]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$=>C.role=$,type:"text",placeholder:"",class:"actor-input"},null,8,G0),[[ae,C.role]])]),s("div",Y0,[I[25]||(I[25]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$=>C.description=$,type:"text",placeholder:"",class:"actor-input"},null,8,Q0),[[ae,C.description]])])])]))),128))])):D("",!0)])])]),s("div",J0,[I[27]||(I[27]=s("label",null,"URL",-1)),ge(is,{modelValue:u.poster,"onUpdate:modelValue":I[11]||(I[11]=C=>u.poster=C),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue"])]),s("div",Z0,[I[28]||(I[28]=s("label",null,"",-1)),J(s("textarea",{"onUpdate:modelValue":I[12]||(I[12]=C=>u.summary=C),placeholder:"",rows:"6",class:"textarea"},null,512),[[ae,u.summary]])]),s("div",X0,[I[34]||(I[34]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.awards,(C,W)=>(d(),v("div",{key:W,class:"award-item"},[s("div",e$,[s("span",null," "+y(W+1),1),s("button",{type:"button",onClick:$=>H(W),class:"item-remove"},"",8,t$)]),s("div",s$,[s("div",n$,[I[29]||(I[29]=s("label",null,"ID",-1)),J(s("input",{"onUpdate:modelValue":$=>C.id=$,type:"number",class:"award-input"},null,8,o$),[[ae,C.id,void 0,{number:!0}]])]),s("div",a$,[I[30]||(I[30]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$=>C.year=$,type:"number",class:"award-input"},null,8,l$),[[ae,C.year,void 0,{number:!0}]])]),s("div",i$,[I[32]||(I[32]=s("label",null,"",-1)),J(s("select",{"onUpdate:modelValue":$=>C.status=$,class:"award-select"},[...I[31]||(I[31]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,r$),[[Ue,C.status]])]),s("div",u$,[I[33]||(I[33]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$=>C.note=$,type:"text",class:"award-input"},null,8,c$),[[ae,C.note]])])])]))),128)),s("button",{type:"button",onClick:N,class:"add-award-btn"},"+ ")]),s("div",d$,[I[37]||(I[37]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.seasons,(C,W)=>(d(),v("div",{key:W,class:"season-item"},[s("div",v$,[s("span",null," "+y(W+1),1),s("button",{type:"button",onClick:$=>ee(W),class:"item-remove"},"",8,f$)]),s("div",p$,[s("div",g$,[I[35]||(I[35]=s("label",null,"ID",-1)),J(s("input",{"onUpdate:modelValue":$=>C.id=$,type:"number",class:"season-input"},null,8,m$),[[ae,C.id,void 0,{number:!0}]])]),s("div",h$,[I[36]||(I[36]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":$=>C.number=$,type:"text",class:"season-input"},null,8,y$),[[ae,C.number]])])])]))),128)),s("button",{type:"button",onClick:P,class:"add-season-btn"},"+ ")]),s("div",_$,[I[38]||(I[38]=s("label",null,"URL",-1)),J(s("input",{"onUpdate:modelValue":I[13]||(I[13]=C=>u.trailer=C),type:"text",placeholder:"URL"},null,512),[[ae,u.trailer]])]),s("div",b$,[I[39]||(I[39]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.photos,(C,W)=>(d(),v("div",{key:W,class:"photo-item"},[ge(is,{modelValue:u.photos[W],"onUpdate:modelValue":$=>u.photos[W]=$,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:$=>_(W),class:"photo-remove"},"",8,$$)]))),128)),s("button",{type:"button",onClick:A,class:"add-photo-btn"},"+ URL")]),s("div",w$,[s("button",{type:"button",onClick:T,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,k$)])],32)])]))}});const gr=Ie(C$,[["__scopeId","data-v-eecff803"]]),S$={class:"movie-form-modal"},P$={class:"modal-header"},x$={class:"form-group"},T$={class:"form-group"},A$={class:"form-row"},E$={class:"form-group"},I$={class:"form-group"},M$={class:"form-row"},D$={class:"form-group"},V$={class:"form-group"},R$={class:"form-group"},U$={class:"tags-input"},L$={key:0,class:"tags-list"},O$=["onClick"],F$={class:"tags-input-row"},z$={class:"form-group"},N$={class:"select-with-search"},j$=["value"],q$={class:"form-group"},H$={class:"select-with-search"},B$={class:"multi-select"},K$=["value"],W$={key:0,class:"guests-list"},G$={class:"guest-header"},Y$={class:"guest-name"},Q$=["onClick"],J$={class:"guest-fields"},Z$={class:"guest-field"},X$=["onUpdate:modelValue"],ew={class:"guest-field"},tw=["onUpdate:modelValue"],sw={class:"form-group"},nw={class:"form-group"},ow={class:"form-group"},aw={class:"form-group"},lw={class:"photos-input"},iw={key:0,class:"photos-list"},rw=["onClick"],uw={class:"form-group"},cw={class:"award-header"},dw=["onClick"],vw={class:"award-fields"},fw={class:"award-field"},pw=["onUpdate:modelValue"],gw={class:"award-field"},mw=["onUpdate:modelValue"],hw={class:"award-field"},yw=["onUpdate:modelValue"],_w={class:"award-field"},bw=["onUpdate:modelValue"],$w={class:"form-actions"},ww=["disabled"],kw=Ne({__name:"VarietyShowForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=M(!1),i=M(""),r=M(""),l=M(""),c=M(0),f=M([]),p=M([]),u=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],host:0,guests:[],poster:"",summary:"",awards:[],episodes:1,country:"",language:"",trailer:"",photos:[]});async function m(){try{const j=await Dt({page:1,size:100});f.value=j.actors||[],p.value=j.actors||[]}catch(j){console.error(":",j)}}je(()=>{m()}),n.initialData&&Object.assign(u,{title:n.initialData.title||"",original_title:n.initialData.original_title||n.initialData.originalTitle||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],host:n.initialData.hostId||(typeof n.initialData.host=="number"?n.initialData.host:0),guests:(n.initialData.guests||[]).map(j=>typeof j=="object"?{id:j.id||0,role:j.role||"",description:j.description||""}:{id:0,role:"",description:String(j)}),poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:(n.initialData.awards||[]).map(j=>typeof j=="object"?{id:j.id||0,year:j.year||new Date().getFullYear(),status:j.status||"nominated",note:j.note||""}:{id:0,year:new Date().getFullYear(),status:"nominated",note:String(j)}),episodes:n.initialData.episodes||1,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]}),!n.isEdit&&u.photos.length===0&&P();function g(j){const T=p.value.find(x=>x.id===j);return T?T.name:`${j}`}async function S(){if(!r.value.trim()){f.value=[];return}try{const j=await Dt({page:1,size:20,keyword:r.value});f.value=j.actors||[]}catch(j){console.error(":",j)}}async function V(){if(!l.value.trim()){p.value=[];return}try{const j=await Dt({page:1,size:20,keyword:l.value});p.value=j.actors||[]}catch(j){console.error(":",j)}}function F(){const j=i.value.trim();j&&!u.tags.includes(j)&&(u.tags.push(j),i.value="")}function q(j){u.tags.splice(j,1)}function K(){c.value&&!u.guests.find(j=>j.id===c.value)&&(u.guests.push({id:c.value,role:"",description:""}),c.value=0)}function B(j){u.guests.splice(j,1)}function N(){u.awards.push({id:0,year:new Date().getFullYear(),status:"nominated",note:""})}function H(j){u.awards.splice(j,1)}function P(){u.photos.push("")}function ee(j){u.photos.splice(j,1)}const A={success:function(j){console.log("Success:",j)},error:function(j){console.error("Error:",j)},warning:function(j){console.warn("Warning:",j)},info:function(j){console.info("Info:",j)}};async function _(){a.value=!0;try{if(!u.title||!u.year){A.warning("");return}const j={title:u.title,original_title:u.original_title||void 0,year:u.year,tags:u.tags,host:Number(u.host),guests:u.guests.map(T=>({id:Number(T.id),role:T.role.trim(),description:T.description.trim()})),poster:u.poster,summary:u.summary,awards:u.awards.map(T=>({id:Number(T.id),year:Number(T.year),status:T.status,note:T.note.trim()})),episodes:Number(u.episodes),country:u.country,language:u.language,trailer:u.trailer||void 0,photos:u.photos.filter(T=>T.trim())};n.isEdit&&n.initialData?.id&&(j.id=n.initialData.id),o("submit",j),A.success("")}catch(j){A.error(j?.message||"")}finally{a.value=!1}}function O(){o("cancel")}return(j,T)=>(d(),v("div",{class:"movie-form-overlay",onClick:pe(O,["self"])},[s("div",S$,[s("div",P$,[s("h2",null,y(j.isEdit?"":""),1),s("button",{class:"close-btn",onClick:O},"")]),s("form",{onSubmit:pe(_,["prevent"]),class:"movie-form"},[s("div",x$,[T[14]||(T[14]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":T[0]||(T[0]=x=>u.title=x),type:"text",required:"",placeholder:""},null,512),[[ae,u.title]])]),s("div",T$,[T[15]||(T[15]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":T[1]||(T[1]=x=>u.original_title=x),type:"text",placeholder:""},null,512),[[ae,u.original_title]])]),s("div",A$,[s("div",E$,[T[16]||(T[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":T[2]||(T[2]=x=>u.year=x),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,u.year,void 0,{number:!0}]])]),s("div",I$,[T[17]||(T[17]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":T[3]||(T[3]=x=>u.episodes=x),type:"number",placeholder:"",min:"1"},null,512),[[ae,u.episodes,void 0,{number:!0}]])])]),s("div",M$,[s("div",D$,[T[18]||(T[18]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":T[4]||(T[4]=x=>u.country=x),type:"text",placeholder:""},null,512),[[ae,u.country]])]),s("div",V$,[T[19]||(T[19]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":T[5]||(T[5]=x=>u.language=x),type:"text",placeholder:""},null,512),[[ae,u.language]])])]),s("div",R$,[T[20]||(T[20]=s("label",null,"",-1)),s("div",U$,[u.tags.length>0?(d(),v("div",L$,[(d(!0),v(se,null,ve(u.tags,(x,I)=>(d(),v("span",{key:I,class:"tag-item"},[oe(y(x)+" ",1),s("button",{type:"button",onClick:C=>q(I),class:"tag-remove"},"",8,O$)]))),128))])):D("",!0),s("div",F$,[J(s("input",{"onUpdate:modelValue":T[6]||(T[6]=x=>i.value=x),type:"text",placeholder:"",onKeyup:Qe(F,["enter"]),class:"tag-input"},null,544),[[ae,i.value]]),s("button",{type:"button",onClick:F,class:"add-tag-btn"},"")])])]),s("div",z$,[T[22]||(T[22]=s("label",null,"",-1)),s("div",N$,[J(s("input",{"onUpdate:modelValue":T[7]||(T[7]=x=>r.value=x),type:"text",placeholder:"...",onInput:S,class:"search-input"},null,544),[[ae,r.value]]),J(s("select",{"onUpdate:modelValue":T[8]||(T[8]=x=>u.host=x),class:"select-input"},[T[21]||(T[21]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(f.value,x=>(d(),v("option",{key:x.id,value:x.id},y(x.name),9,j$))),128))],512),[[Ue,u.host,void 0,{number:!0}]])])]),s("div",q$,[T[26]||(T[26]=s("label",null,"",-1)),s("div",H$,[J(s("input",{"onUpdate:modelValue":T[9]||(T[9]=x=>l.value=x),type:"text",placeholder:"...",onInput:V,class:"search-input"},null,544),[[ae,l.value]]),s("div",B$,[J(s("select",{"onUpdate:modelValue":T[10]||(T[10]=x=>c.value=x),onChange:K,class:"select-input"},[T[23]||(T[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(p.value,x=>(d(),v("option",{key:x.id,value:x.id},y(x.name),9,K$))),128))],544),[[Ue,c.value]]),u.guests.length>0?(d(),v("div",W$,[(d(!0),v(se,null,ve(u.guests,(x,I)=>(d(),v("div",{key:I,class:"guest-item"},[s("div",G$,[s("span",Y$,y(g(x.id)),1),s("button",{type:"button",onClick:C=>B(I),class:"item-remove"},"",8,Q$)]),s("div",J$,[s("div",Z$,[T[24]||(T[24]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":C=>x.role=C,type:"text",placeholder:"",class:"guest-input"},null,8,X$),[[ae,x.role]])]),s("div",ew,[T[25]||(T[25]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":C=>x.description=C,type:"text",placeholder:"",class:"guest-input"},null,8,tw),[[ae,x.description]])])])]))),128))])):D("",!0)])])]),s("div",sw,[T[27]||(T[27]=s("label",null,"URL",-1)),ge(is,{modelValue:u.poster,"onUpdate:modelValue":T[11]||(T[11]=x=>u.poster=x),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue"])]),s("div",nw,[T[28]||(T[28]=s("label",null,"",-1)),J(s("textarea",{"onUpdate:modelValue":T[12]||(T[12]=x=>u.summary=x),rows:"4",placeholder:""},null,512),[[ae,u.summary]])]),s("div",ow,[T[29]||(T[29]=s("label",null,"URL",-1)),J(s("input",{"onUpdate:modelValue":T[13]||(T[13]=x=>u.trailer=x),type:"text",placeholder:""},null,512),[[ae,u.trailer]])]),s("div",aw,[T[30]||(T[30]=s("label",null,"URL",-1)),s("div",lw,[u.photos.length>0?(d(),v("div",iw,[(d(!0),v(se,null,ve(u.photos,(x,I)=>(d(),v("div",{key:I,class:"photo-item"},[ge(is,{modelValue:u.photos[I],"onUpdate:modelValue":C=>u.photos[I]=C,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:C=>ee(I),class:"photo-remove"},"",8,rw)]))),128))])):D("",!0),s("button",{type:"button",onClick:P,class:"add-photo-btn"},"+ URL")])]),s("div",uw,[T[36]||(T[36]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.awards,(x,I)=>(d(),v("div",{key:I,class:"award-item"},[s("div",cw,[s("span",null," "+y(I+1),1),s("button",{type:"button",onClick:C=>H(I),class:"item-remove"},"",8,dw)]),s("div",vw,[s("div",fw,[T[31]||(T[31]=s("label",null,"ID",-1)),J(s("input",{"onUpdate:modelValue":C=>x.id=C,type:"number",class:"award-input"},null,8,pw),[[ae,x.id,void 0,{number:!0}]])]),s("div",gw,[T[32]||(T[32]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":C=>x.year=C,type:"number",class:"award-input"},null,8,mw),[[ae,x.year,void 0,{number:!0}]])]),s("div",hw,[T[34]||(T[34]=s("label",null,"",-1)),J(s("select",{"onUpdate:modelValue":C=>x.status=C,class:"award-select"},[...T[33]||(T[33]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,yw),[[Ue,x.status]])]),s("div",_w,[T[35]||(T[35]=s("label",null,"",-1)),J(s("input",{"onUpdate:modelValue":C=>x.note=C,type:"text",class:"award-input"},null,8,bw),[[ae,x.note]])])])]))),128)),s("button",{type:"button",onClick:N,class:"add-award-btn"},"+ ")]),s("div",$w,[s("button",{type:"button",onClick:O,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,ww)])],32)])]))}});const mr=Ie(kw,[["__scopeId","data-v-dd33347f"]]);async function hr(e){const t={...e,genre:e.tags,host:Number(e.host),guests:e.guests.map(o=>({id:Number(o.id),role:o.role.trim(),description:o.description.trim()})),awards:e.awards.map(o=>({id:Number(o.id),year:Number(o.year),status:o.status,note:o.note.trim()})),rating:void 0};return(await me("/varieties/add",{method:"POST",body:Ge(t)})).data}async function Cw(e){const t=await me(`/varieties/${e}`);if(!t||!t.data)throw new Error("Invalid API response format");const n=t.data.data||t.data;if(!n)throw new Error("No data returned from API");return{id:n.id||0,title:n.title||"",originalTitle:n.originalTitle||n.original_title||"",year:n.year||0,tags:n.genre||n.tags||[],host:typeof n.host=="object"?n.host?.name||"":n.host||"",hostId:typeof n.host=="object"?n.host?.id:typeof n.host=="number"?n.host:0,guests:(n.guests||[]).map(o=>typeof o=="object"?o:{id:0,role:"",description:String(o)}),poster:n.poster||"",summary:n.summary||"",awards:(n.awards||[]).map(o=>typeof o=="object"?o:{id:0,year:0,status:"nominated",note:String(o)}),episodes:n.episodes||0,country:n.country||"",language:n.language||"",trailer:n.trailer||"",photos:n.photos||[],rating:n.rating||0,views:n.views||0,likes:n.likes||0,isLiked:n.isLiked||!1,isFavorited:n.isFavorited||!1}}async function Sw(e){return(await me(`/varieties/${e}/delete`,{method:"POST"})).data}async function Pw(e,t,n){await me(`/varieties/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function xw(e){return(await me(`/varieties/${e}/like`,{method:"POST"})).data}async function Tw(e){return(await me(`/varieties/${e}/unlike`,{method:"POST"})).data}async function Aw(e){return(await me(`/varieties/${e}/favorite`,{method:"POST"})).data}async function Ew(e){return(await me(`/varieties/${e}/unfavorite`,{method:"POST"})).data}async function Iw(e,t={}){const n=new URLSearchParams;t.page&&n.set("page",String(t.page)),t.size&&n.set("size",String(t.size));const a=(await me(`/varieties/${e}/reviews${n.toString()?`?${n.toString()}`:""}`)).data;return{reviews:(a.reviews||[]).map(r=>({...r,createdAt:r.createTime||r.createdAt,user:r.user||{id:r.userId,username:r.username||"",avatar:r.avatar}})),total:a.total||a.pagination?.total||0,page:a.pagination?.page||t.page||1,size:a.pagination?.size||t.size||10}}const Mw={class:"search-page"},Dw={class:"search-header"},Vw=["placeholder"],Rw={class:"search-body"},Uw={class:"facet-panel"},Lw={class:"facet-section"},Ow={class:"range-row"},Fw={class:"range-row"},zw={class:"range-row"},Nw={class:"range-row"},jw={class:"range-row"},qw={class:"result-panel"},Hw={class:"result-header"},Bw={class:"result-count"},Kw={class:"header-actions"},Ww={key:0,class:"grid"},Gw={key:1,class:"grid"},Yw={class:"meta"},Qw=["innerHTML"],Jw={class:"sub"},Zw={class:"tags"},Xw={class:"rating-row"},e2={key:0,class:"rating-text"},t2={key:2,class:"empty"},s2={class:"suggestions"},n2=["onClick"],o2={key:3,class:"pagination-container"},a2={class:"pagination-info"},l2={key:0,class:"divider"},i2={key:0,class:"pagination"},r2=["disabled"],u2=["disabled"],c2={class:"page-numbers"},d2=["onClick"],v2={key:1,class:"page-ellipsis"},f2=["disabled"],p2=["disabled"],g2={class:"page-jump"},m2=["max"],h2=Ne({__name:"Search",setup(e){const t=$b(),n=Je(),o=M(!1),a=M(!1),i=M(!1),r=M(1),l=_e(()=>n.user?.role==="ADMIN"),c=_e(()=>Math.max(1,Math.ceil(t.total/t.pageSize))),f=_e(()=>{const H=[],P=t.page,ee=c.value;if(ee<=7)for(let A=1;A<=ee;A++)H.push(A);else if(P<=4){for(let A=1;A<=5;A++)H.push(A);H.push("..."),H.push(ee)}else if(P>=ee-3){H.push(1),H.push("...");for(let A=ee-4;A<=ee;A++)H.push(A)}else{H.push(1),H.push("...");for(let A=P-2;A<=P+2;A++)H.push(A);H.push("..."),H.push(ee)}return H});async function p(H=!1){t.page=1,r.value=1,await t.syncToRoute(H)}function u(){t.clearAll(),p(!0)}function m(H){t.genres.includes(H)||t.genres.push(H),p(!0)}function g(H){const P=Math.max(1,Math.min(H,c.value));P!==t.page&&(t.page=P,r.value=P,window.scrollTo({top:0,behavior:"smooth"}),t.syncToRoute(!0))}function S(){t.page=1,r.value=1,t.syncToRoute(!0)}function V(){const H=Math.max(1,Math.min(r.value,c.value));H!==t.page&&g(H)}rn(()=>{t.syncFromRoute()}),Ye(()=>t.page,H=>{r.value=H});function F(){return{movie:"...",tv:"...",anime:"...",variety:"..."}[t.type||""]||""}function q(H){return!H||H.id===void 0?"#":t.type==="tv"?`/tv/${H.id}`:t.type==="variety"?`/variety/${H.id}`:`/movie/${H.id}`}async function K(H){try{await cr(H),de.success(""),o.value=!1,await t.runSearch()}catch(P){de.error(P?.message||"")}}async function B(H){try{await ra(H),de.success(""),a.value=!1,await t.runSearch()}catch(P){de.error(P?.message||"")}}async function N(H){try{await hr(H),de.success(""),i.value=!1,await t.runSearch()}catch(P){de.error(P?.message||"")}}return(H,P)=>{const ee=dt("router-link");return d(),v("div",Mw,[s("div",Dw,[J(s("input",{"onUpdate:modelValue":P[0]||(P[0]=A=>$e(t).q=A),onKeyup:P[1]||(P[1]=Qe(()=>p(),["enter"])),class:"search-input",type:"text",placeholder:F()},null,40,Vw),[[ae,$e(t).q]]),s("button",{class:"search-btn",onClick:P[2]||(P[2]=()=>p())},[...P[21]||(P[21]=[s("i",{class:"icon-search"},null,-1),oe("  ",-1)])])]),s("div",Rw,[s("aside",Uw,[s("section",Lw,[P[27]||(P[27]=s("h4",null,"",-1)),s("div",Ow,[P[22]||(P[22]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":P[3]||(P[3]=A=>$e(t).tag=A),placeholder:" "},null,512),[[ae,$e(t).tag]])]),s("div",Fw,[P[23]||(P[23]=s("label",null," =",-1)),J(s("input",{type:"number","onUpdate:modelValue":P[4]||(P[4]=A=>$e(t).year=A),placeholder:" 2018",min:"1900",max:"2099"},null,512),[[ae,$e(t).year,void 0,{number:!0}]])]),s("div",zw,[P[24]||(P[24]=s("label",null," ",-1)),J(s("input",{type:"number",step:"0.1","onUpdate:modelValue":P[5]||(P[5]=A=>$e(t).ratingGte=A),placeholder:" 7",min:"0",max:"10"},null,512),[[ae,$e(t).ratingGte,void 0,{number:!0}]])]),s("div",Nw,[P[25]||(P[25]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":P[6]||(P[6]=A=>$e(t).actor=A),placeholder:" "},null,512),[[ae,$e(t).actor]])]),s("div",jw,[P[26]||(P[26]=s("label",null,"",-1)),J(s("input",{type:"text","onUpdate:modelValue":P[7]||(P[7]=A=>$e(t).award=A),placeholder:" "},null,512),[[ae,$e(t).award]])]),s("button",{class:"apply-btn",onClick:P[8]||(P[8]=A=>p(!0))},""),s("button",{class:"clear-btn",onClick:u},"")])]),s("section",qw,[s("div",Hw,[s("div",Bw," "+y($e(t).total)+" ",1),s("div",Kw,[l.value&&$e(t).type==="movie"?(d(),v("button",{key:0,onClick:P[9]||(P[9]=A=>o.value=!0),class:"add-movie-btn"},[...P[28]||(P[28]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0),l.value&&$e(t).type==="tv"?(d(),v("button",{key:1,onClick:P[10]||(P[10]=A=>a.value=!0),class:"add-movie-btn"},[...P[29]||(P[29]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0),l.value&&$e(t).type==="variety"?(d(),v("button",{key:2,onClick:P[11]||(P[11]=A=>i.value=!0),class:"add-movie-btn"},[...P[30]||(P[30]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0)])]),$e(t).loading?(d(),v("div",Ww,[(d(),v(se,null,ve(12,A=>s("div",{key:A,class:"card skeleton"})),64))])):$e(t).items.length?(d(),v("div",Gw,[(d(!0),v(se,null,ve($e(t).items,A=>(d(),v("article",{key:A.id,class:"card"},[ge(ee,{to:q(A),class:"card-link"},{default:Ce(()=>[s("div",{class:"poster",style:Rt({backgroundImage:A.poster?`url(${A.poster})`:void 0})},null,4),s("div",Yw,[s("h3",{innerHTML:A.highlight?.title||A.title},null,8,Qw),s("div",Jw,[s("span",null,y(A.year||"-"),1)]),s("div",Zw,[(d(!0),v(se,null,ve(A.genres||[],(_,O)=>(d(),v("span",{key:_,class:fe(["tag",`tag-${O%6}`])},y(_),3))),128))]),s("div",Xw,[ge(Ct,{readonly:!0,modelValue:A.rating,"tooltip-base":""},null,8,["modelValue"]),A.rating?(d(),v("span",e2,y(A.rating.toFixed(1))+"/10",1)):D("",!0)])])]),_:2},1032,["to"])]))),128))])):(d(),v("div",t2,[P[31]||(P[31]=s("p",null,"",-1)),s("div",s2,[(d(!0),v(se,null,ve(($e(t).facets?.genres||[]).slice(0,6),A=>(d(),v("span",{key:A.value,class:"suggest",onClick:_=>m(A.value)},y(A.value),9,n2))),128))])])),!$e(t).loading&&$e(t).items.length>0?(d(),v("div",o2,[s("div",a2,[s("span",null," "+y($e(t).total)+" ",1),$e(t).total>0?(d(),v("span",l2,"|")):D("",!0),$e(t).total>0?(d(),v(se,{key:1},[P[33]||(P[33]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":P[12]||(P[12]=A=>$e(t).pageSize=A),onChange:S,class:"page-size-select"},[...P[32]||(P[32]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,$e(t).pageSize]]),P[34]||(P[34]=s("span",null,"",-1))],64)):D("",!0)]),$e(t).total>0&&c.value>0?(d(),v("div",i2,[s("button",{class:"pagination-btn",disabled:$e(t).page<=1||c.value<=1,onClick:P[13]||(P[13]=pe(A=>g(1),["stop"])),title:""},"  ",8,r2),s("button",{class:"pagination-btn",disabled:$e(t).page<=1||c.value<=1,onClick:P[14]||(P[14]=pe(A=>g($e(t).page-1),["stop"])),title:""},"  ",8,u2),s("div",c2,[(d(!0),v(se,null,ve(f.value,(A,_)=>(d(),v(se,{key:`page-${_}-${A}`},[typeof A=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:A===$e(t).page}]),onClick:pe(O=>g(A),["stop"])},y(A),11,d2)):(d(),v("span",v2,y(A),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:$e(t).page>=c.value||c.value<=1,onClick:P[15]||(P[15]=pe(A=>g($e(t).page+1),["stop"])),title:""},"  ",8,f2),s("button",{class:"pagination-btn",disabled:$e(t).page>=c.value||c.value<=1,onClick:P[16]||(P[16]=pe(A=>g(c.value),["stop"])),title:""},"  ",8,p2),s("div",g2,[P[35]||(P[35]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":P[17]||(P[17]=A=>r.value=A),min:1,max:c.value,onKeyup:Qe(V,["enter"]),class:"jump-input"},null,40,m2),[[ae,r.value,void 0,{number:!0}]]),P[36]||(P[36]=s("span",null,"",-1)),s("button",{onClick:pe(V,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])]),o.value?(d(),rt(pr,{key:0,"is-edit":!1,onSubmit:K,onCancel:P[18]||(P[18]=A=>o.value=!1)})):D("",!0),a.value?(d(),rt(gr,{key:1,"is-edit":!1,onSubmit:B,onCancel:P[19]||(P[19]=A=>a.value=!1)})):D("",!0),i.value?(d(),rt(mr,{key:2,"is-edit":!1,onSubmit:N,onCancel:P[20]||(P[20]=A=>i.value=!1)})):D("",!0)])}}});const y2=Ie(h2,[["__scopeId","data-v-445fff76"]]),_2={class:"actor-form-modal"},b2={class:"modal-header"},$2={class:"form-group"},w2={class:"form-group"},k2={class:"form-row"},C2={class:"form-group"},S2={class:"form-group"},P2={class:"form-group"},x2={class:"form-group"},T2={class:"form-group"},A2={key:0,class:"awards-empty"},E2={key:1,class:"awards-list"},I2={class:"award-row"},M2=["onUpdate:modelValue"],D2=["onUpdate:modelValue"],V2=["onUpdate:modelValue"],R2=["onClick"],U2={class:"form-actions"},L2=["disabled"],O2=Ne({__name:"ActorForm",props:{isEdit:{type:Boolean,default:!1},initialData:{}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=M(!1),i=it({name:"",avatar:"",birthday:"",nationality:"",gender:"",biography:"",awards:[]});n.initialData&&Object.assign(i,{name:n.initialData.name||"",avatar:n.initialData.avatar||"",birthday:n.initialData.birthday||"",nationality:n.initialData.nationality||"",gender:n.initialData.gender||"",biography:n.initialData.biography||"",awards:n.initialData.awards||[]});function r(){const p={id:0,year:new Date().getFullYear(),status:"awarded",note:""};i.awards.push(p)}function l(p){i.awards.splice(p,1)}async function c(){a.value=!0;try{const p={...i,awards:i.awards.map(u=>({...u,id:u.id||0}))};n.isEdit&&n.initialData?.id&&(p.id=n.initialData.id),o("submit",p)}finally{a.value=!1}}function f(){o("cancel")}return(p,u)=>(d(),v("div",{class:"actor-form-overlay",onClick:pe(f,["self"])},[s("div",_2,[s("div",b2,[s("h2",null,y(p.isEdit?"/":"/"),1),s("button",{class:"close-btn",onClick:f},"")]),s("form",{onSubmit:pe(c,["prevent"]),class:"actor-form"},[s("div",$2,[u[6]||(u[6]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":u[0]||(u[0]=m=>i.name=m),type:"text",required:"",placeholder:"/"},null,512),[[ae,i.name]])]),s("div",w2,[u[7]||(u[7]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),ge(is,{modelValue:i.avatar,"onUpdate:modelValue":u[1]||(u[1]=m=>i.avatar=m),placeholder:"URL","upload-type":"avatar","button-text":"",required:""},null,8,["modelValue"])]),s("div",k2,[s("div",C2,[u[8]||(u[8]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":u[2]||(u[2]=m=>i.birthday=m),type:"date",required:"",placeholder:"yyyy-MM-dd"},null,512),[[ae,i.birthday]])]),s("div",S2,[u[9]||(u[9]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":u[3]||(u[3]=m=>i.nationality=m),type:"text",required:"",placeholder:""},null,512),[[ae,i.nationality]])])]),s("div",P2,[u[11]||(u[11]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("select",{"onUpdate:modelValue":u[4]||(u[4]=m=>i.gender=m),required:""},[...u[10]||(u[10]=[s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1)])],512),[[Ue,i.gender]])]),s("div",x2,[u[12]||(u[12]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("textarea",{"onUpdate:modelValue":u[5]||(u[5]=m=>i.biography=m),required:"",rows:"4",placeholder:"/"},null,512),[[ae,i.biography]])]),s("div",T2,[s("div",{class:"awards-header"},[u[13]||(u[13]=s("label",null,"",-1)),s("button",{type:"button",class:"add-award-btn",onClick:r},"+ ")]),i.awards.length===0?(d(),v("div",A2,"  ")):(d(),v("div",E2,[(d(!0),v(se,null,ve(i.awards,(m,g)=>(d(),v("div",{key:g,class:"award-item"},[s("div",I2,[J(s("input",{"onUpdate:modelValue":S=>m.year=S,type:"number",required:"",placeholder:"",min:"1900",max:"2099",class:"award-input-year"},null,8,M2),[[ae,m.year]]),J(s("select",{"onUpdate:modelValue":S=>m.status=S,required:"",class:"award-input-status"},[...u[14]||(u[14]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,D2),[[Ue,m.status]]),J(s("input",{"onUpdate:modelValue":S=>m.note=S,type:"text",required:"",placeholder:"/",class:"award-input-note"},null,8,V2),[[ae,m.note]]),s("button",{type:"button",class:"remove-award-btn",onClick:S=>l(g)},"",8,R2)])]))),128))]))]),s("div",U2,[s("button",{type:"button",class:"cancel-btn",onClick:f},""),s("button",{type:"submit",class:"submit-btn",disabled:a.value},y(a.value?"...":p.isEdit?"":""),9,L2)])],32)])]))}});const yr=Ie(O2,[["__scopeId","data-v-c7fada6a"]]),F2={class:"actors-page"},z2={class:"page-header"},N2={class:"header-content"},j2={class:"header-actions"},q2={class:"filters"},H2={class:"filter-group"},B2={class:"filter-group"},K2={class:"filter-group"},W2=["disabled"],G2={key:0,class:"loading"},Y2={key:1,class:"error"},Q2={key:2,class:"empty-container"},J2={class:"pagination-info"},Z2={key:3,class:"actors-grid"},X2=["onClick"],ek={class:"card-avatar-wrapper"},tk=["src","alt"],sk={class:"meta"},nk={class:"name"},ok={class:"sub"},ak={key:0,class:"sub-item"},lk={key:1,class:"sub-item"},ik={key:4,class:"pagination-container"},rk={class:"pagination-info"},uk={key:0,class:"divider"},ck={key:0,class:"pagination"},dk=["disabled"],vk=["disabled"],fk={class:"page-numbers"},pk=["onClick"],gk={key:1,class:"page-ellipsis"},mk=["disabled"],hk=["disabled"],yk={class:"page-jump"},_k=["max"],ho="/actor_avatar.png",bk=Ne({__name:"Actors",setup(e){const t=xt(),n=Je(),o=M([]),a=M(0),i=M(1),r=M(20),l=M(!1),c=M(""),f=M(1),p=M(""),u=M(""),m=M(""),g=_e(()=>Math.max(1,Math.ceil(a.value/r.value))),S=_e(()=>{const T=[],x=i.value,I=g.value;if(I<=7)for(let C=1;C<=I;C++)T.push(C);else if(x<=4){for(let C=1;C<=5;C++)T.push(C);T.push("..."),T.push(I)}else if(x>=I-3){T.push(1),T.push("...");for(let C=I-4;C<=I;C++)T.push(C)}else{T.push(1),T.push("...");for(let C=x-2;C<=x+2;C++)T.push(C);T.push("..."),T.push(I)}return T}),V=M(!1),F=_e(()=>n.user?.role==="ADMIN");async function q(){l.value=!0,c.value="";try{const T=await Dt({page:i.value||1,size:r.value||20,keyword:p.value||void 0,nationality:u.value||void 0,gender:m.value||void 0});o.value=T.actors||[],a.value=T.total||0,T.page&&T.page!==i.value&&(i.value=T.page),T.size&&T.size!==r.value&&(r.value=T.size),f.value=i.value}catch(T){T&&T.message?c.value=T.message:T&&T.code===10005?c.value="":c.value="",console.error("Failed to load actors:",T)}finally{l.value=!1}}function K(){i.value=1,f.value=1,q()}function B(T){const x=Math.max(1,Math.min(T,g.value));x!==i.value&&(i.value=x,f.value=x,window.scrollTo({top:0,behavior:"smooth"}),q())}function N(){i.value=1,f.value=1,q()}function H(){const T=Math.max(1,Math.min(f.value,g.value));T!==i.value&&B(T)}function P(T){t.push({name:"ActorDetail",params:{id:T}})}function ee(){t.push({name:"AwardsList"})}function A(T){const x=T.target;x.src!==ho&&(x.src=ho)}function _(){V.value=!0}const O=de;async function j(T){try{l.value=!0,await fr(T),V.value=!1,await q(),O.success("/")}catch(x){console.error("Failed to save actor:",x),O.error(x?.message||"")}finally{l.value=!1}}return je(q),(T,x)=>(d(),v("div",F2,[s("div",z2,[s("div",N2,[x[12]||(x[12]=s("div",{class:"header-title-section"},[s("h1",{class:"page-title"},[s("i",{class:"icon-user"}),oe("  ")]),s("p",{class:"page-subtitle"},"")],-1)),s("div",j2,[s("button",{class:"awards-button",onClick:ee},[...x[10]||(x[10]=[s("i",{class:"icon-trophy"},null,-1),oe("  ",-1)])]),F.value?(d(),v("button",{key:0,class:"add-button",onClick:_},[...x[11]||(x[11]=[s("i",{class:"icon-plus"},null,-1),oe(" / ",-1)])])):D("",!0)])]),s("div",q2,[s("div",H2,[x[13]||(x[13]=s("i",{class:"icon-search"},null,-1)),J(s("input",{"onUpdate:modelValue":x[0]||(x[0]=I=>p.value=I),onKeyup:Qe(K,["enter"]),placeholder:"",class:"filter-input"},null,544),[[ae,p.value]])]),s("div",B2,[x[15]||(x[15]=s("i",{class:"icon-user"},null,-1)),J(s("select",{"onUpdate:modelValue":x[1]||(x[1]=I=>m.value=I),onChange:K,class:"filter-select"},[...x[14]||(x[14]=[s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1)])],544),[[Ue,m.value]])]),s("div",K2,[x[16]||(x[16]=s("i",{class:"icon-location"},null,-1)),J(s("input",{"onUpdate:modelValue":x[2]||(x[2]=I=>u.value=I),onKeyup:Qe(K,["enter"]),placeholder:" / ",class:"filter-input"},null,544),[[ae,u.value]])]),s("button",{onClick:K,disabled:l.value,class:"search-button"},[...x[17]||(x[17]=[s("i",{class:"icon-search"},null,-1),s("span",null,"",-1)])],8,W2)])]),l.value?(d(),v("div",G2,"...")):c.value?(d(),v("div",Y2,y(c.value),1)):o.value.length===0?(d(),v("div",Q2,[x[18]||(x[18]=s("div",{class:"empty"},"",-1)),s("div",J2,[s("span",null," "+y(a.value)+" ",1)])])):(d(),v("div",Z2,[(d(!0),v(se,null,ve(o.value,I=>(d(),v("div",{key:I.id,class:"actor-card",onClick:C=>P(I.id)},[s("div",ek,[s("img",{src:I.avatar||ho,alt:I.name,class:"avatar",onError:A},null,40,tk),x[19]||(x[19]=s("div",{class:"avatar-overlay"},[s("i",{class:"icon-arrow-right"})],-1))]),s("div",sk,[s("div",nk,y(I.name),1),s("div",ok,[I.nationality?(d(),v("span",ak,[x[20]||(x[20]=s("i",{class:"icon-location location-icon"},null,-1)),oe(" "+y(I.nationality),1)])):D("",!0),I.gender?(d(),v("span",lk,[x[21]||(x[21]=s("i",{class:"icon-user gender-icon"},null,-1)),oe(" "+y(I.gender),1)])):D("",!0)])])],8,X2))),128))])),!l.value&&o.value.length>0?(d(),v("div",ik,[s("div",rk,[s("span",null," "+y(a.value)+" ",1),a.value>0?(d(),v("span",uk,"|")):D("",!0),a.value>0?(d(),v(se,{key:1},[x[23]||(x[23]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":x[3]||(x[3]=I=>r.value=I),onChange:N,class:"page-size-select"},[...x[22]||(x[22]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,r.value]]),x[24]||(x[24]=s("span",null,"",-1))],64)):D("",!0)]),a.value>0&&g.value>0?(d(),v("div",ck,[s("button",{class:"pagination-btn",disabled:i.value<=1||g.value<=1,onClick:x[4]||(x[4]=pe(I=>B(1),["stop"])),title:""},"  ",8,dk),s("button",{class:"pagination-btn",disabled:i.value<=1||g.value<=1,onClick:x[5]||(x[5]=pe(I=>B(i.value-1),["stop"])),title:""},"  ",8,vk),s("div",fk,[(d(!0),v(se,null,ve(S.value,(I,C)=>(d(),v(se,{key:`page-${C}-${I}`},[typeof I=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:I===i.value}]),onClick:pe(W=>B(I),["stop"])},y(I),11,pk)):(d(),v("span",gk,y(I),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:i.value>=g.value||g.value<=1,onClick:x[6]||(x[6]=pe(I=>B(i.value+1),["stop"])),title:""},"  ",8,mk),s("button",{class:"pagination-btn",disabled:i.value>=g.value||g.value<=1,onClick:x[7]||(x[7]=pe(I=>B(g.value),["stop"])),title:""},"  ",8,hk),s("div",yk,[x[25]||(x[25]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":x[8]||(x[8]=I=>f.value=I),min:1,max:g.value,onKeyup:Qe(H,["enter"]),class:"jump-input"},null,40,_k),[[ae,f.value,void 0,{number:!0}]]),x[26]||(x[26]=s("span",null,"",-1)),s("button",{onClick:pe(H,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0),V.value?(d(),rt(yr,{key:5,"is-edit":!1,onSubmit:j,onCancel:x[9]||(x[9]=I=>V.value=!1)})):D("",!0)]))}});const $k=Ie(bk,[["__scopeId","data-v-63a08c76"]]),wk={key:0,class:"actor-detail-page"},kk={key:0,class:"loading"},Ck={key:1,class:"error"},Sk={key:2},Pk={class:"header"},xk={class:"header-content"},Tk={class:"name-section"},Ak={class:"name-row"},Ek={class:"actor-name"},Ik={key:0,class:"admin-actions"},Mk=["disabled"],Dk={class:"header-body"},Vk={class:"avatar-wrapper"},Rk=["src","alt"],Uk={class:"info"},Lk={key:0,class:"info-item"},Ok={class:"info-value"},Fk={key:1,class:"info-item"},zk={class:"info-value"},Nk={key:2,class:"info-item"},jk={class:"info-value"},qk={key:3,class:"info-item"},Hk={class:"info-value"},Bk={key:0,class:"bio-section"},Kk={class:"bio"},Wk={key:1,class:"section"},Gk={class:"cards"},Yk=["src"],Qk={class:"title"},Jk={key:0,class:"sub"},Zk={key:2,class:"section"},Xk={class:"cards"},e3=["src"],t3={class:"title"},s3={key:0,class:"sub"},n3={key:3,class:"section"},o3={class:"cards"},a3=["src"],l3={class:"title"},i3={key:0,class:"sub"},r3={key:4,class:"section"},u3={class:"awards"},c3={key:0},d3={key:4,class:"save-error"},v3={key:5,class:"confirm-dialog-overlay"},f3={class:"confirm-dialog"},p3={class:"confirm-dialog-content"},yo="/actor_avatar.png",Ls="/actor_avatar.png",g3=Ne({__name:"ActorDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=M(!1),i=M(!1),r=M(""),l=M(null),c=M(!1),f=M(""),p=M(!1),u=_e(()=>n.user?.role==="ADMIN"),m=_e(()=>{if(!l.value)return;const A=(l.value.awards||[]).map(_=>({id:_.id,year:_.year||new Date().getFullYear(),status:"awarded",note:_.name||""}));return{id:l.value.id,name:l.value.name||"",avatar:l.value.avatar||"",birthday:l.value.birthDate||"",nationality:l.value.nationality||"",gender:l.value.gender||"",biography:l.value.biography||"",awards:A}});async function g(){i.value=!0,r.value="";try{l.value=await Pb(o),a.value=!0}catch(A){console.error("Failed to load actor detail:",A),A?.code===404?r.value="":A?.message?r.value=A.message:r.value="",a.value=!0}finally{i.value=!1}}function S(A){const _=A.target;_.src!==yo&&(_.src=yo)}function V(A){const _=A.target;_.src!==Ls&&(_.src=Ls)}function F(){c.value=!0}async function q(A){f.value="";try{await fr(A),c.value=!1,await g()}catch(_){console.error(":",_),f.value=_?.message||""}}function K(){c.value=!1}function B(){p.value=!0}function N(){p.value=!1}async function H(){if(o){p.value=!1,i.value=!0,r.value="";try{await xb(o),P.success(""),window.location.href="/actors"}catch(A){console.error(":",A),P.error(A?.message||""),i.value=!1}}}const P=de;function ee(A){const _=[];return A.moviesCount&&A.moviesCount>0&&_.push(""),(A.movies?.some(O=>O.role?.includes(""))||A.tvShows?.some(O=>O.role?.includes("")))&&_.push(""),(A.movies?.some(O=>O.role?.includes(""))||A.tvShows?.some(O=>O.role?.includes("")))&&_.push(""),_.length>0?_.join("/"):""}return je(g),(A,_)=>a.value?(d(),v("div",wk,[i.value?(d(),v("div",kk,"...")):r.value?(d(),v("div",Ck,y(r.value),1)):l.value?(d(),v("div",Sk,[s("div",Pk,[s("div",xk,[s("div",Tk,[s("div",Ak,[s("h1",Ek,y(l.value.name),1),u.value?(d(),v("div",Ik,[s("button",{class:"edit-link-btn",onClick:F},"  "),s("button",{class:"delete-btn",onClick:B,disabled:i.value},y(i.value?"...":""),9,Mk)])):D("",!0)])]),s("div",Dk,[s("div",Vk,[s("img",{src:l.value.avatar||yo,class:"avatar",alt:l.value.name||"avatar",onError:S},null,40,Rk)]),s("div",Uk,[l.value.gender?(d(),v("div",Lk,[_[1]||(_[1]=s("span",{class:"info-label"},":",-1)),s("span",Ok,y(l.value.gender),1)])):D("",!0),l.value.nationality?(d(),v("div",Fk,[_[2]||(_[2]=s("span",{class:"info-label"},":",-1)),s("span",zk,y(l.value.nationality),1)])):D("",!0),l.value.birthDate?(d(),v("div",Nk,[_[3]||(_[3]=s("span",{class:"info-label"},":",-1)),s("span",jk,y(l.value.birthDate),1)])):D("",!0),ee(l.value)?(d(),v("div",qk,[_[4]||(_[4]=s("span",{class:"info-label"},":",-1)),s("span",Hk,y(ee(l.value)),1)])):D("",!0)])])])]),l.value.biography?(d(),v("div",Bk,[_[5]||(_[5]=s("h2",{class:"bio-title"},"",-1)),s("p",Kk,y(l.value.biography),1)])):D("",!0),(l.value.movies?.length||0)>0?(d(),v("div",Wk,[_[6]||(_[6]=s("h2",null,"",-1)),s("div",Gk,[(d(!0),v(se,null,ve(l.value.movies,O=>(d(),v("div",{key:O.id,class:"card"},[s("img",{src:O.poster||Ls,alt:"poster",onError:V},null,40,Yk),s("div",Qk,y(O.title),1),O.year||O.role?(d(),v("div",Jk,y(O.year)+y(O.year&&O.role?"  ":"")+y(O.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.tvShows?.length||0)>0?(d(),v("div",Zk,[_[7]||(_[7]=s("h2",null,"",-1)),s("div",Xk,[(d(!0),v(se,null,ve(l.value.tvShows,O=>(d(),v("div",{key:O.id,class:"card"},[s("img",{src:O.poster||Ls,alt:"poster",onError:V},null,40,e3),s("div",t3,y(O.title),1),O.year||O.role?(d(),v("div",s3,y(O.year)+y(O.year&&O.role?"  ":"")+y(O.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.varietyShows?.length||0)>0?(d(),v("div",n3,[_[8]||(_[8]=s("h2",null,"",-1)),s("div",o3,[(d(!0),v(se,null,ve(l.value.varietyShows,O=>(d(),v("div",{key:O.id,class:"card"},[s("img",{src:O.poster||Ls,alt:"poster",onError:V},null,40,a3),s("div",l3,y(O.title),1),O.year||O.role?(d(),v("div",i3,y(O.year)+y(O.year&&O.role?"  ":"")+y(O.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.awards?.length||0)>0?(d(),v("div",r3,[_[9]||(_[9]=s("h2",null,"",-1)),s("ul",u3,[(d(!0),v(se,null,ve(l.value.awards,O=>(d(),v("li",{key:O.id},[oe(y(O.year)+"  "+y(O.name),1),O.movie?(d(),v("span",c3,"  "+y(O.movie),1)):D("",!0)]))),128))])])):D("",!0)])):D("",!0),c.value?(d(),rt(yr,{key:3,isEdit:!0,initialData:m.value,onSubmit:q,onCancel:K},null,8,["initialData"])):D("",!0),f.value?(d(),v("div",d3,[oe(y(f.value)+" ",1),s("button",{onClick:_[0]||(_[0]=O=>f.value=""),class:"close-error-btn"},"")])):D("",!0),p.value?(d(),v("div",v3,[s("div",f3,[_[11]||(_[11]=s("div",{class:"confirm-dialog-header"},[s("h3",null,"")],-1)),s("div",p3,[_[10]||(_[10]=s("div",{class:"confirm-dialog-icon"},[s("i",{class:"icon-warning-circle"})],-1)),s("p",null,'"'+y(l.value?.name??"")+'"',1)]),s("div",{class:"confirm-dialog-footer"},[s("button",{class:"confirm-dialog-cancel",onClick:N},""),s("button",{class:"confirm-dialog-confirm",onClick:H},"")])])])):D("",!0)])):D("",!0)}});const m3=Ie(g3,[["__scopeId","data-v-accbb653"]]);async function _r(e){return(await me("/award/save",{method:"POST",body:Ge(e)})).data}async function h3(e={}){const t=new URLSearchParams;e.page&&t.set("page",String(e.page)),e.size&&t.set("size",String(e.size)),e.keyword&&t.set("keyword",e.keyword),e.target_type&&t.set("target_type",e.target_type);const n=t.toString(),o=`/award/query${n?`?${n}`:""}`,i=(await me(o)).data;return{awards:i.awards||i.list||[],total:i.pagination?.total||i.total||0,page:i.pagination?.page||i.page||e.page||1,size:i.pagination?.size||i.size||e.size||20}}async function br(e){return(await me(`/award/${e}`)).data}async function y3(e){await me(`/award/${e}/delete`,{method:"POST"})}const _3={class:"award-form-modal"},b3={class:"modal-header"},$3={class:"form-group"},w3={class:"form-group"},k3={class:"form-group"},C3={class:"form-group"},S3={class:"form-actions"},P3=["disabled"],x3=Ne({__name:"AwardForm",props:{isEdit:{type:Boolean,default:!1},initialData:{default:void 0}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=M(!1),i=it({id:void 0,name:"",organization:"",target_type:"FILM",description:""});Ye(()=>n.initialData,c=>{c?(i.id=c.id,i.name=c.name||"",i.organization=c.organization||"",i.target_type=c.target_type||"FILM",i.description=c.description||""):(i.id=void 0,i.name="",i.organization="",i.target_type="FILM",i.description="")},{immediate:!0});function r(){if(a.value)return;a.value=!0;const c={name:i.name.trim(),organization:i.organization.trim(),target_type:i.target_type,description:i.description.trim()};n.isEdit&&i.id&&(c.id=i.id),o("submit",c),setTimeout(()=>{a.value=!1},100)}function l(){o("cancel")}return(c,f)=>(d(),v("div",{class:"award-form-overlay",onClick:pe(l,["self"])},[s("div",_3,[s("div",b3,[s("h2",null,y(c.isEdit?"":""),1),s("button",{class:"close-btn",onClick:l},"")]),s("form",{onSubmit:pe(r,["prevent"]),class:"award-form"},[s("div",$3,[f[4]||(f[4]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>i.name=p),type:"text",required:"",placeholder:""},null,512),[[ae,i.name]])]),s("div",w3,[f[5]||(f[5]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>i.organization=p),type:"text",required:"",placeholder:""},null,512),[[ae,i.organization]])]),s("div",k3,[f[7]||(f[7]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("select",{"onUpdate:modelValue":f[2]||(f[2]=p=>i.target_type=p),required:""},[...f[6]||(f[6]=[Kt('<option value="" data-v-c62f2590></option><option value="ACTOR" data-v-c62f2590></option><option value="FILM" data-v-c62f2590></option><option value="TVSHOW" data-v-c62f2590></option><option value="VARIETY" data-v-c62f2590></option>',5)])],512),[[Ue,i.target_type]]),f[8]||(f[8]=s("p",{class:"form-hint"},"",-1))]),s("div",C3,[f[9]||(f[9]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),J(s("textarea",{"onUpdate:modelValue":f[3]||(f[3]=p=>i.description=p),required:"",rows:"6",placeholder:""},null,512),[[ae,i.description]])]),s("div",S3,[s("button",{type:"button",class:"cancel-btn",onClick:l},""),s("button",{type:"submit",class:"submit-btn",disabled:a.value},y(a.value?"...":c.isEdit?"":""),9,P3)])],32)])]))}});const $r=Ie(x3,[["__scopeId","data-v-c62f2590"]]),T3={class:"awards-page"},A3={class:"page-header"},E3={class:"header-content"},I3={class:"header-actions"},M3={class:"filters"},D3={class:"filter-group"},V3={class:"filter-group"},R3=["disabled"],U3={key:0,class:"detail-modal"},L3={class:"modal-header"},O3={class:"header-actions"},F3={class:"modal-content"},z3={class:"detail-info"},N3={key:0,class:"info-item"},j3={class:"info-value"},q3={key:1,class:"info-item"},H3={class:"info-value"},B3={key:0,class:"description-section"},K3={class:"description"},W3={key:1,class:"winners-section"},G3={class:"winners-list"},Y3=["onClick"],Q3={key:0,class:"winner-image"},J3=["src","alt"],Z3={class:"winner-info"},X3={class:"winner-name"},e4={class:"winner-meta"},t4={class:"winner-year"},s4={key:0,class:"winner-note"},n4={key:1,class:"detail-modal loading-content"},o4={key:2,class:"loading"},a4={key:3,class:"error"},l4={key:4,class:"empty-container"},i4={key:5,class:"awards-list"},r4=["onClick"],u4={class:"award-name"},c4={class:"award-meta"},d4={key:0,class:"award-org"},v4={key:1,class:"award-type"},f4={key:2,class:"award-year"},p4={key:0,class:"award-detail-item"},g4={class:"detail-value"},m4={key:1,class:"award-detail-item"},h4={class:"detail-value"},y4={key:2,class:"award-detail-item"},_4={class:"detail-value"},b4={class:"award-actions"},$4=["onClick"],w4={key:6,class:"pagination-container"},k4={class:"pagination-info"},C4={key:0,class:"pagination"},S4=["disabled"],P4=["disabled"],x4={class:"page-numbers"},T4=["onClick"],A4={key:1,class:"page-ellipsis"},E4=["disabled"],I4=["disabled"],M4={class:"page-jump"},D4=["max"],V4=Ne({__name:"AwardsList",setup(e){const t=xt(),n=Je(),o=_e(()=>n.isAdmin),a=M(!1),i=M(void 0),r=M(!1),l=M(null),c=M(!1),f=M([]),p=M(0),u=M(1),m=M(20),g=M(!1),S=M(""),V=M(1),F=M(""),q=M(""),K=_e(()=>Math.max(1,Math.ceil(p.value/m.value))),B=_e(()=>{const re=[],X=u.value,ce=K.value;if(ce<=7)for(let w=1;w<=ce;w++)re.push(w);else if(X<=4){for(let w=1;w<=5;w++)re.push(w);re.push("..."),re.push(ce)}else if(X>=ce-3){re.push(1),re.push("...");for(let w=ce-4;w<=ce;w++)re.push(w)}else{re.push(1),re.push("...");for(let w=X-2;w<=X+2;w++)re.push(w);re.push("..."),re.push(ce)}return re});async function N(){g.value=!0,S.value="";try{const re={page:u.value||1,size:m.value||20};F.value&&F.value.trim()&&(re.keyword=F.value.trim()),q.value&&(re.target_type=q.value);const X=await h3(re);f.value=X.awards||[],p.value=X.total||0,X.page&&X.page!==u.value&&(u.value=X.page),X.size&&X.size!==m.value&&(m.value=X.size),V.value=u.value}catch(re){re&&re.message?S.value=re.message:re&&re.code===10005?S.value="":S.value="",console.error("Failed to load awards:",re)}finally{g.value=!1}}function H(){u.value=1,V.value=1,N()}function P(re){const X=Math.max(1,Math.min(re,K.value));X!==u.value&&(u.value=X,V.value=X,window.scrollTo({top:0,behavior:"smooth"}),N())}function ee(){const re=Math.max(1,Math.min(V.value,K.value));re!==u.value&&P(re)}function A(){i.value=void 0,a.value=!0}function _(){l.value&&(i.value={id:l.value.id,name:l.value.name,organization:l.value.organization,target_type:l.value.target_type,description:l.value.description},x(),a.value=!0)}function O(){a.value=!1,i.value=void 0}function j(re){return{ACTOR:"",FILM:"",TVSHOW:"",VARIETY:""}[re]||re}async function T(re){r.value=!0,c.value=!0,l.value=null;try{l.value=await br(re)}catch(X){console.error("Failed to load award detail:",X),$.error(X?.message||""),x()}finally{c.value=!1}}function x(){r.value=!1,l.value=null}function I(){return l.value?l.value.target_type==="ACTOR"&&l.value.actors?l.value.actors:l.value.target_type==="FILM"&&l.value.films?l.value.films:l.value.target_type==="TVSHOW"&&l.value.tv_shows?l.value.tv_shows:l.value.target_type==="VARIETY"&&l.value.varieties?l.value.varieties:[]:[]}function C(re){l.value&&(x(),l.value.target_type==="ACTOR"?t.push({name:"ActorDetail",params:{id:re.id}}):l.value.target_type==="FILM"?t.push({name:"MovieDetail",params:{id:re.id}}):l.value.target_type==="TVSHOW"?t.push({name:"TvDetail",params:{id:re.id}}):l.value.target_type==="VARIETY"&&t.push({name:"VarietyDetail",params:{id:re.id}}))}function W(re){const X=re.target;X.style.display="none"}const $=de;async function Q(re){try{await xs.danger("",{title:""})&&(await y3(re),await N(),$.success(""))}catch(X){console.error("Failed to delete award:",X),$.error(X?.message||"")}}async function xe(re){try{g.value=!0,await _r(re),a.value=!1,i.value=void 0,await N();const X=re.id?"":"";$.success(X)}catch(X){console.error("Failed to save award:",X);const ce=re.id?"":"";$.error(X?.message||ce)}finally{g.value=!1}}return je(N),(re,X)=>(d(),v("div",T3,[s("div",A3,[s("div",E3,[X[9]||(X[9]=s("div",{class:"header-title-section"},[s("h1",{class:"page-title"},[s("i",{class:"icon-trophy"}),oe("  ")])],-1)),s("div",I3,[o.value?(d(),v("button",{key:0,class:"add-button",onClick:A},[...X[8]||(X[8]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0)])]),s("div",M3,[s("div",D3,[X[10]||(X[10]=s("i",{class:"icon-search"},null,-1)),J(s("input",{"onUpdate:modelValue":X[0]||(X[0]=ce=>F.value=ce),onKeyup:Qe(H,["enter"]),placeholder:"",class:"filter-input"},null,544),[[ae,F.value]])]),s("div",V3,[X[12]||(X[12]=s("i",{class:"icon-trophy"},null,-1)),J(s("select",{"onUpdate:modelValue":X[1]||(X[1]=ce=>q.value=ce),onChange:H,class:"filter-select"},[...X[11]||(X[11]=[Kt('<option value="" data-v-bf33c149></option><option value="ACTOR" data-v-bf33c149></option><option value="FILM" data-v-bf33c149></option><option value="TVSHOW" data-v-bf33c149></option><option value="VARIETY" data-v-bf33c149></option>',5)])],544),[[Ue,q.value]])]),s("button",{onClick:H,disabled:g.value,class:"search-button"},[...X[13]||(X[13]=[s("i",{class:"icon-search"},null,-1),s("span",null,"",-1)])],8,R3)])]),a.value?(d(),rt($r,{key:0,"is-edit":!!i.value,"initial-data":i.value,onSubmit:xe,onCancel:O},null,8,["is-edit","initial-data"])):D("",!0),r.value?(d(),v("div",{key:1,class:"detail-modal-overlay",onClick:pe(x,["self"])},[l.value?(d(),v("div",U3,[s("div",L3,[s("h2",null,y(l.value.name),1),s("div",O3,[o.value?(d(),v("button",{key:0,class:"edit-btn",onClick:_},[...X[14]||(X[14]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])])):D("",!0),s("button",{class:"close-btn",onClick:x},"")])]),s("div",F3,[s("div",z3,[l.value.organization?(d(),v("div",N3,[X[15]||(X[15]=s("span",{class:"info-label"},":",-1)),s("span",j3,y(l.value.organization),1)])):D("",!0),l.value.target_type?(d(),v("div",q3,[X[16]||(X[16]=s("span",{class:"info-label"},":",-1)),s("span",H3,y(j(l.value.target_type)),1)])):D("",!0)]),l.value.description?(d(),v("div",B3,[X[17]||(X[17]=s("h3",{class:"section-title"},"",-1)),s("p",K3,y(l.value.description),1)])):D("",!0),I().length>0?(d(),v("div",W3,[X[18]||(X[18]=s("h3",{class:"section-title"},"",-1)),s("div",G3,[(d(!0),v(se,null,ve(I(),ce=>(d(),v("div",{key:`${ce.id}-${ce.year}`,class:"winner-card",onClick:w=>C(ce)},[ce.picture?(d(),v("div",Q3,[s("img",{src:ce.picture,alt:ce.name,onError:W},null,40,J3)])):D("",!0),s("div",Z3,[s("h4",X3,y(ce.name),1),s("div",e4,[s("span",t4,y(ce.year),1),s("span",{class:fe(["winner-status",ce.status==="awarded"?"status-awarded":"status-nominated"])},y(ce.status==="awarded"?"":""),3)]),ce.note?(d(),v("p",s4,y(ce.note),1)):D("",!0)])],8,Y3))),128))])])):D("",!0)])])):c.value?(d(),v("div",n4,[...X[19]||(X[19]=[s("div",{class:"loading"},"...",-1)])])):D("",!0)])):D("",!0),g.value?(d(),v("div",o4,"...")):S.value?(d(),v("div",a4,y(S.value),1)):f.value.length===0?(d(),v("div",l4,[...X[20]||(X[20]=[s("div",{class:"empty"},"",-1)])])):(d(),v("div",i4,[(d(!0),v(se,null,ve(f.value,ce=>(d(),v("div",{key:ce.id,class:"award-row"},[s("div",{class:"award-main",onClick:w=>T(ce.id)},[s("h3",u4,y(ce.name),1),s("div",c4,[ce.organization?(d(),v("span",d4,y(ce.organization),1)):D("",!0),ce.target_type?(d(),v("span",v4,y(j(ce.target_type)),1)):D("",!0),ce.year?(d(),v("span",f4,y(ce.year),1)):D("",!0)])],8,r4),s("div",{class:"award-details",onClick:X[2]||(X[2]=pe(()=>{},["stop"]))},[ce.movie?(d(),v("div",p4,[X[21]||(X[21]=s("span",{class:"detail-label"},":",-1)),s("span",g4,y(ce.movie),1)])):D("",!0),ce.actor?(d(),v("div",m4,[X[22]||(X[22]=s("span",{class:"detail-label"},":",-1)),s("span",h4,y(ce.actor),1)])):D("",!0),ce.category?(d(),v("div",y4,[X[23]||(X[23]=s("span",{class:"detail-label"},":",-1)),s("span",_4,y(ce.category),1)])):D("",!0)]),s("div",b4,[o.value?(d(),v("button",{key:0,class:"delete-button",onClick:pe(w=>Q(ce.id),["stop"])},[...X[24]||(X[24]=[oe("  ",-1),s("i",{class:"icon-delete"},null,-1)])],8,$4)):D("",!0)])]))),128))])),!g.value&&f.value.length>0?(d(),v("div",w4,[s("div",k4,[s("span",null," "+y(p.value)+" ",1)]),p.value>0&&K.value>0?(d(),v("div",C4,[s("button",{class:"pagination-btn",disabled:u.value<=1||K.value<=1,onClick:X[3]||(X[3]=pe(ce=>P(1),["stop"])),title:""},"  ",8,S4),s("button",{class:"pagination-btn",disabled:u.value<=1||K.value<=1,onClick:X[4]||(X[4]=pe(ce=>P(u.value-1),["stop"])),title:""},"  ",8,P4),s("div",x4,[(d(!0),v(se,null,ve(B.value,(ce,w)=>(d(),v(se,{key:`page-${w}-${ce}`},[typeof ce=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:ce===u.value}]),onClick:pe(h=>P(ce),["stop"])},y(ce),11,T4)):(d(),v("span",A4,y(ce),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:u.value>=K.value||K.value<=1,onClick:X[5]||(X[5]=pe(ce=>P(u.value+1),["stop"])),title:""},"  ",8,E4),s("button",{class:"pagination-btn",disabled:u.value>=K.value||K.value<=1,onClick:X[6]||(X[6]=pe(ce=>P(K.value),["stop"])),title:""},"  ",8,I4),s("div",M4,[X[25]||(X[25]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":X[7]||(X[7]=ce=>V.value=ce),min:1,max:K.value,onKeyup:Qe(ee,["enter"]),class:"jump-input"},null,40,D4),[[ae,V.value,void 0,{number:!0}]]),X[26]||(X[26]=s("span",null,"",-1)),s("button",{onClick:pe(ee,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)]))}});const R4=Ie(V4,[["__scopeId","data-v-bf33c149"]]),U4={key:0,class:"award-detail-page"},L4={key:0,class:"loading"},O4={key:1,class:"error"},F4={key:2},z4={class:"header"},N4={class:"header-content"},j4={class:"name-section"},q4={class:"name-row"},H4={class:"award-name"},B4={class:"header-body"},K4={class:"info"},W4={key:0,class:"info-item"},G4={class:"info-value"},Y4={key:1,class:"info-item"},Q4={class:"info-value"},J4={key:0,class:"description-section"},Z4={class:"description"},X4={key:1,class:"winners-section"},eC={class:"winners-list"},tC=["onClick"],sC={key:0,class:"winner-image"},nC=["src","alt"],oC={class:"winner-info"},aC={class:"winner-name"},lC={class:"winner-meta"},iC={class:"winner-year"},rC={key:0,class:"winner-note"},uC=Ne({__name:"AwardDetail",setup(e){const t=Ut(),n=xt(),o=Je(),a=t.params.id,i=M(!1),r=M(!1),l=M(""),c=M(null),f=M(!1),p=_e(()=>o.user?.role==="ADMIN"),u=_e(()=>{if(c.value)return{id:c.value.id,name:c.value.name||"",organization:c.value.organization||"",target_type:c.value.target_type,description:c.value.description||""}});async function m(){r.value=!0,l.value="";try{c.value=await br(a),i.value=!0}catch(N){console.error("Failed to load award detail:",N),N?.code===404?l.value="":N?.message?l.value=N.message:l.value="",i.value=!0}finally{r.value=!1}}function g(N){return{ACTOR:"",FILM:"",TVSHOW:"",VARIETY:""}[N]||N}function S(){return c.value?c.value.target_type==="ACTOR"&&c.value.actors?c.value.actors:c.value.target_type==="FILM"&&c.value.films?c.value.films:c.value.target_type==="TVSHOW"&&c.value.tv_shows?c.value.tv_shows:c.value.target_type==="VARIETY"&&c.value.varieties?c.value.varieties:[]:[]}function V(N){c.value&&(c.value.target_type==="ACTOR"?n.push({name:"ActorDetail",params:{id:N.id}}):c.value.target_type==="FILM"?n.push({name:"MovieDetail",params:{id:N.id}}):c.value.target_type==="TVSHOW"?n.push({name:"TvDetail",params:{id:N.id}}):c.value.target_type==="VARIETY"&&n.push({name:"VarietyDetail",params:{id:N.id}}))}function F(N){const H=N.target;H.style.display="none"}function q(){f.value=!0}const K=de;async function B(N){try{r.value=!0,await _r(N),f.value=!1,await m(),K.success("")}catch(H){console.error(":",H),K.error(H?.message||"")}finally{r.value=!1}}return je(m),(N,H)=>i.value?(d(),v("div",U4,[r.value?(d(),v("div",L4,"...")):l.value?(d(),v("div",O4,y(l.value),1)):c.value?(d(),v("div",F4,[s("div",z4,[s("div",N4,[s("div",j4,[s("div",q4,[s("h1",H4,y(c.value.name),1),p.value?(d(),v("button",{key:0,class:"edit-link-btn",onClick:q},"  ")):D("",!0)])]),s("div",B4,[s("div",K4,[c.value.organization?(d(),v("div",W4,[H[1]||(H[1]=s("span",{class:"info-label"},":",-1)),s("span",G4,y(c.value.organization),1)])):D("",!0),c.value.target_type?(d(),v("div",Y4,[H[2]||(H[2]=s("span",{class:"info-label"},":",-1)),s("span",Q4,y(g(c.value.target_type)),1)])):D("",!0)])])])]),c.value.description?(d(),v("div",J4,[H[3]||(H[3]=s("h2",{class:"section-title"},"",-1)),s("p",Z4,y(c.value.description),1)])):D("",!0),S().length>0?(d(),v("div",X4,[H[4]||(H[4]=s("h2",{class:"section-title"},"",-1)),s("div",eC,[(d(!0),v(se,null,ve(S(),P=>(d(),v("div",{key:`${P.id}-${P.year}`,class:"winner-card",onClick:ee=>V(P)},[P.picture?(d(),v("div",sC,[s("img",{src:P.picture,alt:P.name,onError:F},null,40,nC)])):D("",!0),s("div",oC,[s("h3",aC,y(P.name),1),s("div",lC,[s("span",iC,y(P.year),1),s("span",{class:fe(["winner-status",P.status==="awarded"?"status-awarded":"status-nominated"])},y(P.status==="awarded"?"":""),3)]),P.note?(d(),v("p",rC,y(P.note),1)):D("",!0)])],8,tC))),128))])])):D("",!0)])):D("",!0),f.value?(d(),rt($r,{key:3,"is-edit":!0,"initial-data":u.value,onSubmit:B,onCancel:H[0]||(H[0]=P=>f.value=!1)},null,8,["initial-data"])):D("",!0)])):D("",!0)}});const cC=Ie(uC,[["__scopeId","data-v-831ec3ee"]]),dC={key:0,class:"movie-detail-page"},vC={key:0,class:"loading"},fC={key:1,class:"error"},pC={key:2},gC={class:"header"},mC={class:"poster-wrapper"},hC=["src","alt"],yC={key:1,class:"poster-placeholder"},_C={class:"info"},bC={class:"title-row"},$C={key:0,class:"admin-actions"},wC=["disabled"],kC=["disabled"],CC={key:0,class:"sub-title"},SC={class:"meta"},PC={key:0},xC={key:1},TC={key:2},AC={key:3},EC={key:1,class:"rating-row"},IC={class:"rating-text"},MC={key:2,class:"tags-row"},DC={key:3,class:"director"},VC={key:4,class:"actors"},RC={key:0},UC={class:"stats"},LC={key:0},OC={key:1},FC={key:5,class:"action-buttons"},zC=["disabled"],NC={key:0,class:"like-count"},jC=["disabled"],qC={key:0,class:"summary"},HC={key:1,class:"trailer-section"},BC=["src"],KC={key:2,class:"photos-section"},WC={class:"photos-grid"},GC=["src"],YC={key:3,class:"awards-section"},QC={class:"awards"},JC={key:0},ZC={key:1},XC={key:2},e5={key:4,class:"rating-section"},t5={class:"rating-form"},s5={class:"rating-input-group"},n5={key:0,class:"rating-value"},o5={class:"comment-input-group"},a5={class:"comment-count"},l5={class:"rating-actions"},i5=["disabled"],r5={class:"reviews-section"},u5={key:0,class:"reviews-loading"},c5={key:1,class:"reviews-empty"},d5={key:2},v5={class:"reviews-list"},f5={class:"review-header"},p5=["src","alt"],g5={class:"review-meta"},m5={class:"review-author"},h5={class:"review-time"},y5={class:"review-score"},_5={class:"score-text"},b5={class:"review-content"},$5={key:0,class:"reviews-pagination-container"},w5={class:"reviews-pagination-info"},k5={key:0,class:"reviews-pagination"},C5=["disabled"],S5=["disabled"],P5={class:"page-numbers"},x5=["onClick"],T5={key:1,class:"page-ellipsis"},A5=["disabled"],E5=["disabled"],I5=Ne({__name:"MovieDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=M(!1),i=M(!1),r=M(""),l=M(null),c=M(!1),f=M(!1),p=M(!1),u=M(!1),m=M(!1),g=M({score:0,comment:""}),S=M([]),V=M(!1),F=M(0),q=M(1),K=M(10),B=_e(()=>l.value?.isLiked??!1),N=_e(()=>l.value?.isFavorited??!1),H=_e(()=>n.user?.role==="ADMIN"),P=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||"",year:l.value.year,tags:l.value.tags||[],director:l.value.director?.id||l.value.director||0,actors:(l.value.actors||[]).map(w=>({id:w.id,role:w.role||"",description:w.description||""})),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(w=>w.id||w),duration:l.value.duration||0,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function ee(){i.value=!0,r.value="";try{l.value=await gv(o),a.value=!0,await O()}catch(w){console.error("Failed to load movie detail:",w),w?.code===404?r.value="":w?.message?r.value=w.message:r.value="",a.value=!0}finally{i.value=!1}}const A=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const w=[],h=q.value,Z=A.value;if(Z<=7)for(let k=1;k<=Z;k++)w.push(k);else if(h<=4){for(let k=1;k<=5;k++)w.push(k);w.push("..."),w.push(Z)}else if(h>=Z-3){w.push(1),w.push("...");for(let k=Z-4;k<=Z;k++)w.push(k)}else{w.push(1),w.push("...");for(let k=h-2;k<=h+2;k++)w.push(k);w.push("..."),w.push(Z)}return w});async function O(){if(o){V.value=!0;try{const w=await Sv(o,{page:q.value,size:K.value});S.value=w.reviews||[],F.value=w.total||0,q.value=w.page||q.value,K.value=w.size||K.value}catch(w){console.error("Failed to load reviews:",w),S.value=[],F.value=0}finally{V.value=!1}}}function j(w){const h=Math.max(1,Math.min(w,A.value));if(h===q.value)return;q.value=h;const Z=document.querySelector(".reviews-section");Z&&Z.scrollIntoView({behavior:"smooth",block:"start"}),O()}function T(){q.value=1,O()}function x(w){if(!w)return"";const h=new Date,Z=new Date(w),k=h.getTime()-Z.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),ue=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:ue>0?`${ue}`:""}function I(w){const h=w.target;h.style.display="none"}function C(w){const h=w.target;h.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",P.value),c.value=!0,console.log("showEditForm :",c.value)}async function $(w){try{await cr(w),de.success(""),c.value=!1,await ee()}catch(h){console.error(":",h),de.error(h?.message||"")}}function Q(){c.value=!1}async function xe(){if(confirm("")){m.value=!0;try{await wv(o),de.success(""),window.location.href="/search?type=movie"}catch(w){console.error(":",w),de.error(w?.message||"")}finally{m.value=!1}}}async function re(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{B.value?(await hv(o),l.value.isLiked=!1,l.value.likes>0&&l.value.likes--):(await mv(o),l.value.isLiked=!0,l.value.likes++)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{f.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{N.value?(await bv(o),l.value.isFavorited=!1):(await _v(o),l.value.isFavorited=!0)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{p.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const w=g.value.score;if(!w||w<1||w>10){de.warning("1-10");return}const h=Math.round(w);if(h<1||h>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await yv(o,{score:h,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await O()}catch(Z){console.error(":",Z),de.error(Z?.message||"")}finally{u.value=!1}}return je(ee),(w,h)=>{const Z=dt("router-link");return a.value?(d(),v("div",dC,[i.value?(d(),v("div",vC,"...")):r.value?(d(),v("div",fC,y(r.value),1)):l.value?(d(),v("div",pC,[s("div",gC,[s("div",mC,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:I},null,40,hC)):(d(),v("div",yC))]),s("div",_C,[s("div",bC,[s("h1",null,y(l.value.title),1),H.value?(d(),v("div",$C,[s("button",{class:"edit-btn",onClick:W,disabled:m.value},"  ",8,wC),s("button",{class:"delete-btn",onClick:xe,disabled:m.value},y(m.value?"...":""),9,kC)])):D("",!0)]),l.value.originalTitle?(d(),v("div",CC,y(l.value.originalTitle),1)):D("",!0),s("div",SC,[l.value.year?(d(),v("span",PC,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",xC,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",TC,"  "+y(l.value.language),1)):D("",!0),l.value.duration?(d(),v("span",AC,"  "+y(l.value.duration)+"",1)):D("",!0)]),l.value.rating>=0?(d(),v("div",EC,[ge(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",IC,y(l.value.rating.toFixed(1))+"/10",1)])):D("",!0),l.value.tags&&l.value.tags.length>0?(d(),v("div",MC,[(d(!0),v(se,null,ve(l.value.tags,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.director?(d(),v("div",DC,[h[8]||(h[8]=s("span",{class:"label"},"",-1)),ge(Z,{to:`/actor/${l.value.director.id}`,class:"person-link"},{default:Ce(()=>[oe(y(l.value.director.name),1)]),_:1},8,["to"])])):D("",!0),l.value.actors&&l.value.actors.length>0?(d(),v("div",VC,[h[9]||(h[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.actors,(k,U)=>(d(),v(se,{key:k.id},[ge(Z,{to:`/actor/${k.id}`,class:"person-link"},{default:Ce(()=>[oe(y(k.name),1)]),_:2},1032,["to"]),U<l.value.actors.length-1?(d(),v("span",RC,"")):D("",!0)],64))),128))])):D("",!0),s("div",UC,[l.value.views!==void 0?(d(),v("span",LC,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",OC,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",FC,[s("button",{class:fe(["like-btn",{active:B.value}]),onClick:re,disabled:f.value},[h[10]||(h[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(B.value?"":""),1),l.value.likes!==void 0?(d(),v("span",NC,"("+y(l.value.likes)+")",1)):D("",!0)],10,zC),s("button",{class:fe(["favorite-btn",{active:N.value}]),onClick:X,disabled:p.value},[h[11]||(h[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(N.value?"":""),1)],10,jC)])):D("",!0)])]),l.value.summary?(d(),v("div",qC,[h[12]||(h[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",HC,[h[13]||(h[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,BC)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",KC,[h[14]||(h[14]=s("h2",null,"",-1)),s("div",WC,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,GC)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",YC,[h[15]||(h[15]=s("h2",null,"",-1)),s("ul",QC,[(d(!0),v(se,null,ve(l.value.awards,k=>(d(),v("li",{key:k.id},[k.year?(d(),v("span",JC,y(k.year),1)):D("",!0),k.category?(d(),v("span",ZC,"  "+y(k.category),1)):D("",!0),k.name?(d(),v("span",XC,"  "+y(k.name),1)):D("",!0)]))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",e5,[h[18]||(h[18]=s("h2",null,"",-1)),s("div",t5,[s("div",s5,[h[16]||(h[16]=s("label",{class:"rating-label"},"",-1)),ge(Ct,{modelValue:g.value.score,"onUpdate:modelValue":h[0]||(h[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",n5,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",o5,[h[17]||(h[17]=s("label",{class:"comment-label"},"",-1)),J(s("textarea",{"onUpdate:modelValue":h[1]||(h[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",a5,y(g.value.comment.length)+"/1000 ",1)]),s("div",l5,[s("button",{class:"submit-rating-btn",onClick:ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,i5)])])])):D("",!0),s("div",r5,[s("h2",null," ("+y(F.value)+")",1),V.value?(d(),v("div",u5,"...")):S.value.length===0?(d(),v("div",c5,"")):(d(),v("div",d5,[s("div",v5,[(d(!0),v(se,null,ve(S.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",f5,[ge(Z,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Ce(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:h[2]||(h[2]=U=>U.target.src="/avatar.png")},null,40,p5)]),_:2},1032,["to"]),s("div",g5,[ge(Z,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Ce(()=>[s("span",m5,y(k.user.username),1)]),_:2},1032,["to"]),s("span",h5,y(x(k.createdAt)),1)]),s("div",y5,[ge(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",_5,y(k.score)+"/10",1)])]),s("div",b5,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",$5,[s("div",w5,[s("span",null," "+y(F.value)+" ",1),h[20]||(h[20]=s("span",{class:"divider"},"|",-1)),h[21]||(h[21]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":h[3]||(h[3]=k=>K.value=k),onChange:T,class:"page-size-select"},[...h[19]||(h[19]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),h[22]||(h[22]=s("span",null,"",-1))]),F.value>0&&A.value>0?(d(),v("div",k5,[s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[4]||(h[4]=pe(k=>j(1),["stop"])),title:""},"  ",8,C5),s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[5]||(h[5]=pe(k=>j(q.value-1),["stop"])),title:""},"  ",8,S5),s("div",P5,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:pe(ie=>j(k),["stop"])},y(k),11,x5)):(d(),v("span",T5,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[6]||(h[6]=pe(k=>j(q.value+1),["stop"])),title:""},"  ",8,A5),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[7]||(h[7]=pe(k=>j(A.value),["stop"])),title:""},"  ",8,E5)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&P.value?(d(),rt(pr,{key:3,isEdit:!0,initialData:P.value,onSubmit:$,onCancel:Q},null,8,["initialData"])):D("",!0)])):D("",!0)}}});const M5=Ie(I5,[["__scopeId","data-v-b302db27"]]),D5={key:0,class:"movie-detail-page"},V5={key:0,class:"loading"},R5={key:1,class:"error"},U5={key:2},L5={class:"header"},O5={class:"poster-wrapper"},F5=["src","alt"],z5={key:1,class:"poster-placeholder"},N5={class:"info"},j5={class:"title-row"},q5={key:0,class:"admin-actions"},H5=["disabled"],B5=["disabled"],K5={key:0,class:"sub-title"},W5={class:"meta"},G5={key:0},Y5={key:1},Q5={key:2},J5={key:3},Z5={key:1,class:"rating-row"},X5={class:"rating-text"},eS={key:2,class:"tags-row"},tS={key:3,class:"director"},sS={key:4,class:"actors"},nS={key:0},oS={class:"stats"},aS={key:0},lS={key:1},iS={key:5,class:"action-buttons"},rS=["disabled"],uS={key:0,class:"like-count"},cS=["disabled"],dS={key:0,class:"summary"},vS={key:1,class:"trailer-section"},fS=["src"],pS={key:2,class:"photos-section"},gS={class:"photos-grid"},mS=["src"],hS={key:3,class:"seasons-section"},yS={class:"seasons-grid"},_S={class:"season-number"},bS={key:0,class:"season-info"},$S={key:1,class:"season-info"},wS={key:4,class:"awards-section"},kS={class:"awards"},CS={key:0},SS={key:1},PS={key:2},xS={key:5,class:"rating-section"},TS={class:"rating-form"},AS={class:"rating-input-group"},ES={key:0,class:"rating-value"},IS={class:"comment-input-group"},MS={class:"comment-count"},DS={class:"rating-actions"},VS=["disabled"],RS={class:"reviews-section"},US={key:0,class:"reviews-loading"},LS={key:1,class:"reviews-empty"},OS={key:2},FS={class:"reviews-list"},zS={class:"review-header"},NS=["src","alt"],jS={class:"review-meta"},qS={class:"review-author"},HS={class:"review-time"},BS={class:"review-score"},KS={class:"score-text"},WS={class:"review-content"},GS={key:0,class:"reviews-pagination-container"},YS={class:"reviews-pagination-info"},QS={key:0,class:"reviews-pagination"},JS=["disabled"],ZS=["disabled"],XS={class:"page-numbers"},e8=["onClick"],t8={key:1,class:"page-ellipsis"},s8=["disabled"],n8=["disabled"],o8=Ne({__name:"TvDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=M(!1),i=M(!1),r=M(""),l=M(null),c=M(!1),f=M(!1),p=M(!1),u=M(!1),m=M(!1),g=M({score:0,comment:""}),S=M([]),V=M(!1),F=M(0),q=M(1),K=M(10),B=_e(()=>l.value?.isLiked??!1),N=_e(()=>l.value?.isFavorited??!1),H=_e(()=>n.user?.role==="ADMIN"),P=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||l.value.original_title||"",year:l.value.year,tags:l.value.tags||l.value.genre||[],director:l.value.director?.id||l.value.director||0,actors:(l.value.actors||[]).map(w=>({id:w.id,role:w.role||"",description:w.description||""})),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(w=>({id:w.id||0,year:w.year||new Date().getFullYear(),status:w.status||"awarded",note:w.note||w.category||w.name||""})),seasons:(l.value.seasons||[]).map(w=>({id:w.id||0,number:w.number||"1"})),episodes:l.value.episodes||1,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function ee(){i.value=!0,r.value="";try{l.value=await db(o),a.value=!0,await O()}catch(w){console.error("Failed to load TV show detail:",w),w?.code===404?r.value="":w?.message?r.value=w.message:r.value="",a.value=!0}finally{i.value=!1}}const A=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const w=[],h=q.value,Z=A.value;if(Z<=7)for(let k=1;k<=Z;k++)w.push(k);else if(h<=4){for(let k=1;k<=5;k++)w.push(k);w.push("..."),w.push(Z)}else if(h>=Z-3){w.push(1),w.push("...");for(let k=Z-4;k<=Z;k++)w.push(k)}else{w.push(1),w.push("...");for(let k=h-2;k<=h+2;k++)w.push(k);w.push("..."),w.push(Z)}return w});async function O(){if(o){V.value=!0;try{const w=await _b(o,{page:q.value,size:K.value});S.value=w.reviews||[],F.value=w.total||0,q.value=w.page||q.value,K.value=w.size||K.value}catch(w){console.error("Failed to load reviews:",w),S.value=[],F.value=0}finally{V.value=!1}}}function j(w){const h=Math.max(1,Math.min(w,A.value));if(h===q.value)return;q.value=h;const Z=document.querySelector(".reviews-section");Z&&Z.scrollIntoView({behavior:"smooth",block:"start"}),O()}function T(){q.value=1,O()}function x(w){if(!w)return"";const h=new Date,Z=new Date(w),k=h.getTime()-Z.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),ue=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:ue>0?`${ue}`:""}function I(w){const h=w.target;h.style.display="none"}function C(w){const h=w.target;h.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",P.value),c.value=!0,console.log("showEditForm :",c.value)}async function $(w){try{await ra(w),de.success(""),c.value=!1,await ee()}catch(h){console.error(":",h),de.error(h?.message||"")}}function Q(){c.value=!1}async function xe(){if(confirm("")){m.value=!0;try{await vb(o),window.location.href="/search?type=tv"}catch(w){console.error(":",w),de.error(w?.message||"")}finally{m.value=!1}}}async function re(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{B.value?(await gb(o),l.value.isLiked=!1,l.value.likes&&l.value.likes>0&&l.value.likes--):(await pb(o),l.value.isLiked=!0,l.value.likes=(l.value.likes||0)+1)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{f.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{N.value?(await hb(o),l.value.isFavorited=!1):(await mb(o),l.value.isFavorited=!0)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{p.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const w=g.value.score;if(!w||w<1||w>10){de.warning("1-10");return}const h=Math.round(w);if(h<1||h>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await yb(o,{score:h,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await O()}catch(Z){console.error(":",Z),de.error(Z?.message||"")}finally{u.value=!1}}return je(ee),(w,h)=>{const Z=dt("router-link");return a.value?(d(),v("div",D5,[i.value?(d(),v("div",V5,"...")):r.value?(d(),v("div",R5,y(r.value),1)):l.value?(d(),v("div",U5,[s("div",L5,[s("div",O5,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:I},null,40,F5)):(d(),v("div",z5))]),s("div",N5,[s("div",j5,[s("h1",null,y(l.value.title),1),H.value?(d(),v("div",q5,[s("button",{class:"edit-btn",onClick:W,disabled:m.value},"  ",8,H5),s("button",{class:"delete-btn",onClick:xe,disabled:m.value},y(m.value?"...":""),9,B5)])):D("",!0)]),l.value.originalTitle||l.value.original_title?(d(),v("div",K5,y(l.value.originalTitle||l.value.original_title),1)):D("",!0),s("div",W5,[l.value.year?(d(),v("span",G5,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",Y5,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",Q5,"  "+y(l.value.language),1)):D("",!0),l.value.episodes?(d(),v("span",J5,"  "+y(l.value.episodes)+"",1)):D("",!0)]),l.value.rating!==void 0&&l.value.rating>=0?(d(),v("div",Z5,[ge(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",X5,y((l.value.rating||0).toFixed(1))+"/10",1)])):D("",!0),(l.value.tags||l.value.genre)&&(l.value.tags&&l.value.tags.length>0||l.value.genre&&l.value.genre.length>0)?(d(),v("div",eS,[(d(!0),v(se,null,ve(l.value.tags||l.value.genre,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.director?(d(),v("div",tS,[h[8]||(h[8]=s("span",{class:"label"},"",-1)),ge(Z,{to:`/actor/${l.value.director.id}`,class:"person-link"},{default:Ce(()=>[oe(y(l.value.director.name),1)]),_:1},8,["to"])])):D("",!0),l.value.actors&&l.value.actors.length>0?(d(),v("div",sS,[h[9]||(h[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.actors,(k,U)=>(d(),v(se,{key:k.id},[ge(Z,{to:`/actor/${k.id}`,class:"person-link"},{default:Ce(()=>[oe(y(k.name),1)]),_:2},1032,["to"]),U<l.value.actors.length-1?(d(),v("span",nS,"")):D("",!0)],64))),128))])):D("",!0),s("div",oS,[l.value.views!==void 0?(d(),v("span",aS,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",lS,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",iS,[s("button",{class:fe(["like-btn",{active:B.value}]),onClick:re,disabled:f.value},[h[10]||(h[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(B.value?"":""),1),l.value.likes!==void 0?(d(),v("span",uS,"("+y(l.value.likes)+")",1)):D("",!0)],10,rS),s("button",{class:fe(["favorite-btn",{active:N.value}]),onClick:X,disabled:p.value},[h[11]||(h[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(N.value?"":""),1)],10,cS)])):D("",!0)])]),l.value.summary?(d(),v("div",dS,[h[12]||(h[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",vS,[h[13]||(h[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,fS)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",pS,[h[14]||(h[14]=s("h2",null,"",-1)),s("div",gS,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,mS)]))),128))])])):D("",!0),l.value.seasons&&l.value.seasons.length>0?(d(),v("div",hS,[h[15]||(h[15]=s("h2",null,"",-1)),s("div",yS,[(d(!0),v(se,null,ve(l.value.seasons,k=>(d(),v("div",{key:k.id||k.number,class:"season-card"},[s("div",_S,""+y(k.number)+"",1),k.episodes?(d(),v("div",bS,""+y(k.episodes),1)):D("",!0),k.startDate?(d(),v("div",$S,""+y(k.startDate),1)):D("",!0)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",wS,[h[16]||(h[16]=s("h2",null,"",-1)),s("ul",kS,[(d(!0),v(se,null,ve(l.value.awards,k=>(d(),v("li",{key:k.id},[k.year?(d(),v("span",CS,y(k.year),1)):D("",!0),k.category?(d(),v("span",SS,"  "+y(k.category),1)):D("",!0),k.name?(d(),v("span",PS,"  "+y(k.name),1)):D("",!0)]))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",xS,[h[19]||(h[19]=s("h2",null,"",-1)),s("div",TS,[s("div",AS,[h[17]||(h[17]=s("label",{class:"rating-label"},"",-1)),ge(Ct,{modelValue:g.value.score,"onUpdate:modelValue":h[0]||(h[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",ES,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",IS,[h[18]||(h[18]=s("label",{class:"comment-label"},"",-1)),J(s("textarea",{"onUpdate:modelValue":h[1]||(h[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",MS,y(g.value.comment.length)+"/1000 ",1)]),s("div",DS,[s("button",{class:"submit-rating-btn",onClick:ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,VS)])])])):D("",!0),s("div",RS,[s("h2",null," ("+y(F.value)+")",1),V.value?(d(),v("div",US,"...")):S.value.length===0?(d(),v("div",LS,"")):(d(),v("div",OS,[s("div",FS,[(d(!0),v(se,null,ve(S.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",zS,[ge(Z,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Ce(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:h[2]||(h[2]=U=>U.target.src="/avatar.png")},null,40,NS)]),_:2},1032,["to"]),s("div",jS,[ge(Z,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Ce(()=>[s("span",qS,y(k.user.username),1)]),_:2},1032,["to"]),s("span",HS,y(x(k.createdAt)),1)]),s("div",BS,[ge(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",KS,y(k.score)+"/10",1)])]),s("div",WS,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",GS,[s("div",YS,[s("span",null," "+y(F.value)+" ",1),h[21]||(h[21]=s("span",{class:"divider"},"|",-1)),h[22]||(h[22]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":h[3]||(h[3]=k=>K.value=k),onChange:T,class:"page-size-select"},[...h[20]||(h[20]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),h[23]||(h[23]=s("span",null,"",-1))]),F.value>0&&A.value>0?(d(),v("div",QS,[s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[4]||(h[4]=pe(k=>j(1),["stop"])),title:""},"  ",8,JS),s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[5]||(h[5]=pe(k=>j(q.value-1),["stop"])),title:""},"  ",8,ZS),s("div",XS,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:pe(ie=>j(k),["stop"])},y(k),11,e8)):(d(),v("span",t8,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[6]||(h[6]=pe(k=>j(q.value+1),["stop"])),title:""},"  ",8,s8),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[7]||(h[7]=pe(k=>j(A.value),["stop"])),title:""},"  ",8,n8)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&P.value?(d(),rt(gr,{key:3,isEdit:!0,initialData:P.value,onSubmit:$,onCancel:Q},null,8,["initialData"])):D("",!0)])):D("",!0)}}});const a8=Ie(o8,[["__scopeId","data-v-da0a452b"]]),l8={class:"variety-detail-page"},i8={key:0,class:"loading"},r8={key:1,class:"error"},u8={key:2},c8={class:"header"},d8={class:"poster-wrapper"},v8=["src","alt"],f8={key:1,class:"poster-placeholder"},p8={class:"info"},g8={class:"title-row"},m8={key:0,class:"admin-actions"},h8=["disabled"],y8=["disabled"],_8={key:0,class:"sub-title"},b8={class:"meta"},$8={key:0},w8={key:1},k8={key:2},C8={key:3},S8={key:1,class:"rating-row"},P8={class:"rating-text"},x8={key:2,class:"tags-row"},T8={key:3,class:"host"},A8={class:"person-text"},E8={key:4,class:"guests"},I8={key:0},M8={class:"stats"},D8={key:0},V8={key:1},R8={key:5,class:"action-buttons"},U8=["disabled"],L8={key:0,class:"like-count"},O8=["disabled"],F8={key:0,class:"summary"},z8={key:1,class:"trailer-section"},N8=["src"],j8={key:2,class:"photos-section"},q8={class:"photos-grid"},H8=["src"],B8={key:3,class:"awards-section"},K8={class:"awards"},W8={key:4,class:"rating-section"},G8={class:"rating-form"},Y8={class:"rating-input-group"},Q8={key:0,class:"rating-value"},J8={class:"comment-input-group"},Z8={class:"comment-count"},X8={class:"rating-actions"},e6=["disabled"],t6={class:"reviews-section"},s6={key:0,class:"reviews-loading"},n6={key:1,class:"reviews-empty"},o6={key:2},a6={class:"reviews-list"},l6={class:"review-header"},i6=["src","alt"],r6={class:"review-meta"},u6={class:"review-author"},c6={class:"review-time"},d6={class:"review-score"},v6={class:"score-text"},f6={class:"review-content"},p6={key:0,class:"reviews-pagination-container"},g6={class:"reviews-pagination-info"},m6={key:0,class:"reviews-pagination"},h6=["disabled"],y6=["disabled"],_6={class:"page-numbers"},b6=["onClick"],$6={key:1,class:"page-ellipsis"},w6=["disabled"],k6=["disabled"],C6=Ne({__name:"VarietyDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=M(!1),i=M(!1),r=M(""),l=M(null),c=M(!1),f=M(!1),p=M(!1),u=M(!1),m=M(!1),g=M({score:0,comment:""}),S=M([]),V=M(!1),F=M(0),q=M(1),K=M(10),B=_e(()=>l.value?.isLiked??!1),N=_e(()=>l.value?.isFavorited??!1),H=_e(()=>n.user?.role==="ADMIN"),P=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||"",year:l.value.year,tags:l.value.tags||[],hostId:l.value.hostId||0,host:l.value.host||"",guests:(l.value.guests||[]).map(w=>typeof w=="object"?{id:w.id||0,role:w.role||"",description:w.description||""}:{id:0,role:"",description:String(w)}),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(w=>typeof w=="object"?{id:w.id||0,year:w.year||new Date().getFullYear(),status:w.status||"nominated",note:w.note||""}:{id:0,year:new Date().getFullYear(),status:"nominated",note:String(w)}),episodes:l.value.episodes,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function ee(){const w=parseInt(o);if(isNaN(w)||w<=0){r.value="ID",a.value=!0,i.value=!1;return}i.value=!0,r.value="";try{l.value=await Cw(w),a.value=!0,await O()}catch(h){console.error("Failed to load variety show detail:",h),h?.code===404?r.value="":h?.message?r.value=h.message:r.value="",a.value=!0}finally{i.value=!1}}const A=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const w=[],h=q.value,Z=A.value;if(Z<=7)for(let k=1;k<=Z;k++)w.push(k);else if(h<=4){for(let k=1;k<=5;k++)w.push(k);w.push("..."),w.push(Z)}else if(h>=Z-3){w.push(1),w.push("...");for(let k=Z-4;k<=Z;k++)w.push(k)}else{w.push(1),w.push("...");for(let k=h-2;k<=h+2;k++)w.push(k);w.push("..."),w.push(Z)}return w});async function O(){if(o){V.value=!0;try{const w=await Iw(o,{page:q.value,size:K.value});S.value=w.reviews||[],F.value=w.total||0,q.value=w.page||q.value,K.value=w.size||K.value}catch(w){console.error("Failed to load reviews:",w),S.value=[],F.value=0}finally{V.value=!1}}}function j(w){const h=Math.max(1,Math.min(w,A.value));if(h===q.value)return;q.value=h;const Z=document.querySelector(".reviews-section");Z&&Z.scrollIntoView({behavior:"smooth",block:"start"}),O()}function T(){q.value=1,O()}function x(w){if(!w)return"";const h=new Date,Z=new Date(w),k=h.getTime()-Z.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),ue=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:ue>0?`${ue}`:""}function I(w){const h=w.target;h.style.display="none"}function C(w){const h=w.target;h.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",P.value),c.value=!0,console.log("showEditForm :",c.value)}async function $(w){try{await hr(w),de.success(""),c.value=!1,await ee()}catch(h){console.error(":",h),de.error(h?.message||"")}}function Q(){c.value=!1}async function xe(){if(confirm("")){m.value=!0;try{await Sw(parseInt(o)),de.success(""),window.location.href="/search?type=variety"}catch(w){console.error(":",w),de.error(w?.message||"")}finally{m.value=!1}}}async function re(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{B.value?(await Tw(parseInt(o)),l.value.isLiked=!1,l.value.likes>0&&l.value.likes--):(await xw(parseInt(o)),l.value.isLiked=!0,l.value.likes++)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{f.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{N.value?(await Ew(parseInt(o)),l.value.isFavorited=!1):(await Aw(parseInt(o)),l.value.isFavorited=!0)}catch(w){console.error(":",w),de.error(w?.message||"")}finally{p.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const w=g.value.score;if(!w||w<1||w>10){de.warning("1-10");return}const h=Math.round(w);if(h<1||h>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await Pw(o,{score:h,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await O()}catch(Z){console.error(":",Z),de.error(Z?.message||"")}finally{u.value=!1}}return je(ee),(w,h)=>{const Z=dt("router-link");return d(),v("div",l8,[i.value?(d(),v("div",i8,"...")):r.value?(d(),v("div",r8,y(r.value),1)):l.value?(d(),v("div",u8,[s("div",c8,[s("div",d8,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:I},null,40,v8)):(d(),v("div",f8))]),s("div",p8,[s("div",g8,[s("h1",null,y(l.value.title),1),H.value?(d(),v("div",m8,[s("button",{class:"edit-btn",onClick:W,disabled:m.value},"  ",8,h8),s("button",{class:"delete-btn",onClick:xe,disabled:m.value},y(m.value?"...":""),9,y8)])):D("",!0)]),l.value.originalTitle?(d(),v("div",_8,y(l.value.originalTitle),1)):D("",!0),s("div",b8,[l.value.year?(d(),v("span",$8,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",w8,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",k8,"  "+y(l.value.language),1)):D("",!0),l.value.episodes?(d(),v("span",C8,"  "+y(l.value.episodes)+"",1)):D("",!0)]),l.value.rating>=0?(d(),v("div",S8,[ge(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",P8,y(l.value.rating.toFixed(1))+"/10",1)])):D("",!0),l.value.tags&&l.value.tags.length>0?(d(),v("div",x8,[(d(!0),v(se,null,ve(l.value.tags,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.host?(d(),v("div",T8,[h[8]||(h[8]=s("span",{class:"label"},"",-1)),s("span",A8,y(l.value.host),1)])):D("",!0),l.value.guests&&l.value.guests.length>0?(d(),v("div",E8,[h[9]||(h[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.guests,(k,U)=>(d(),v("span",{key:U,class:"person-text"},[oe(y(k)+" ",1),U<l.value.guests.length-1?(d(),v("span",I8,"")):D("",!0)]))),128))])):D("",!0),s("div",M8,[l.value.views!==void 0?(d(),v("span",D8,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",V8,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",R8,[s("button",{class:fe(["like-btn",{active:B.value}]),onClick:re,disabled:f.value},[h[10]||(h[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(B.value?"":""),1),l.value.likes!==void 0?(d(),v("span",L8,"("+y(l.value.likes)+")",1)):D("",!0)],10,U8),s("button",{class:fe(["favorite-btn",{active:N.value}]),onClick:X,disabled:p.value},[h[11]||(h[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(N.value?"":""),1)],10,O8)])):D("",!0)])]),l.value.summary?(d(),v("div",F8,[h[12]||(h[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",z8,[h[13]||(h[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,N8)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",j8,[h[14]||(h[14]=s("h2",null,"",-1)),s("div",q8,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,H8)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",B8,[h[15]||(h[15]=s("h2",null,"",-1)),s("ul",K8,[(d(!0),v(se,null,ve(l.value.awards,(k,U)=>(d(),v("li",{key:U},y(k),1))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",W8,[h[18]||(h[18]=s("h2",null,"",-1)),s("div",G8,[s("div",Y8,[h[16]||(h[16]=s("label",{class:"rating-label"},"",-1)),ge(Ct,{modelValue:g.value.score,"onUpdate:modelValue":h[0]||(h[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",Q8,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",J8,[h[17]||(h[17]=s("label",{class:"comment-label"},"",-1)),J(s("textarea",{"onUpdate:modelValue":h[1]||(h[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",Z8,y(g.value.comment.length)+"/1000 ",1)]),s("div",X8,[s("button",{class:"submit-rating-btn",onClick:ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,e6)])])])):D("",!0),s("div",t6,[s("h2",null," ("+y(F.value)+")",1),V.value?(d(),v("div",s6,"...")):S.value.length===0?(d(),v("div",n6,"")):(d(),v("div",o6,[s("div",a6,[(d(!0),v(se,null,ve(S.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",l6,[ge(Z,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Ce(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:h[2]||(h[2]=U=>U.target.src="/avatar.png")},null,40,i6)]),_:2},1032,["to"]),s("div",r6,[ge(Z,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Ce(()=>[s("span",u6,y(k.user.username),1)]),_:2},1032,["to"]),s("span",c6,y(x(k.createdAt)),1)]),s("div",d6,[ge(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",v6,y(k.score)+"/10",1)])]),s("div",f6,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",p6,[s("div",g6,[s("span",null," "+y(F.value)+" ",1),h[20]||(h[20]=s("span",{class:"divider"},"|",-1)),h[21]||(h[21]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":h[3]||(h[3]=k=>K.value=k),onChange:T,class:"page-size-select"},[...h[19]||(h[19]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),h[22]||(h[22]=s("span",null,"",-1))]),F.value>0&&A.value>0?(d(),v("div",m6,[s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[4]||(h[4]=pe(k=>j(1),["stop"])),title:""},"  ",8,h6),s("button",{class:"pagination-btn",disabled:q.value<=1||A.value<=1,onClick:h[5]||(h[5]=pe(k=>j(q.value-1),["stop"])),title:""},"  ",8,y6),s("div",_6,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:pe(ie=>j(k),["stop"])},y(k),11,b6)):(d(),v("span",$6,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[6]||(h[6]=pe(k=>j(q.value+1),["stop"])),title:""},"  ",8,w6),s("button",{class:"pagination-btn",disabled:q.value>=A.value||A.value<=1,onClick:h[7]||(h[7]=pe(k=>j(A.value),["stop"])),title:""},"  ",8,k6)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&P.value?(d(),rt(mr,{key:3,isEdit:!0,initialData:P.value,onSubmit:$,onCancel:Q},null,8,["initialData"])):D("",!0)])}}});const S6=Ie(C6,[["__scopeId","data-v-7b3bda1f"]]),P6={class:"hot-movies-page"},x6={class:"page-header"},T6={class:"header-content"},A6={key:0,class:"header-stats"},E6={class:"stat-item"},I6={class:"stat-number"},M6={class:"movies-container"},D6={key:0,class:"grid"},V6={key:1,class:"grid"},R6={class:"rank-number"},U6={key:0,class:"rank-icon"},L6={key:0},O6={key:1},F6={key:2},z6={class:"poster-wrapper"},N6={class:"poster-overlay"},j6={key:0,class:"poster-rating"},q6={class:"meta"},H6={class:"movie-title"},B6={class:"movie-year"},K6={key:0,class:"tags"},W6={class:"rating-row"},G6={key:0,class:"rating-text"},Y6={key:1,class:"rating-text no-rating"},Q6={key:2,class:"empty"},J6={key:3,class:"pagination-container"},Z6={class:"pagination-info"},X6={key:0,class:"divider"},eP={key:0,class:"pagination"},tP=["disabled"],sP=["disabled"],nP={class:"page-numbers"},oP=["onClick"],aP={key:1,class:"page-ellipsis"},lP=["disabled"],iP=["disabled"],rP={class:"page-jump"},uP=["max"],cP=Ne({__name:"HotMovies",setup(e){const t=Ut(),n=xt(),o=M(!1),a=M([]),i=M(0),r=M(1),l=M(10),c=M(1),f=_e(()=>Math.max(1,Math.ceil(i.value/l.value))),p=_e(()=>{const B=[],N=r.value,H=f.value;if(H<=7)for(let P=1;P<=H;P++)B.push(P);else if(N<=4){for(let P=1;P<=5;P++)B.push(P);B.push("..."),B.push(H)}else if(N>=H-3){B.push(1),B.push("...");for(let P=H-4;P<=H;P++)B.push(P)}else{B.push(1),B.push("...");for(let P=N-2;P<=N+2;P++)B.push(P);B.push("..."),B.push(H)}return B});async function u(){o.value=!0;try{const B=await Cv({page:r.value,size:l.value});a.value=B.movies||[],i.value=B.total||0,r.value=B.page||1,l.value=B.size||10,c.value=r.value,n.replace({query:{page:r.value.toString(),size:l.value.toString()}})}catch(B){console.error(":",B),a.value=[],i.value=0}finally{o.value=!1}}function m(B){const N=Math.max(1,Math.min(B,f.value));N!==r.value&&(r.value=N,c.value=N,window.scrollTo({top:0,behavior:"smooth"}),u())}function g(){r.value=1,c.value=1,u()}function S(){const B=Math.max(1,Math.min(c.value,f.value));B!==r.value&&m(B)}function V(){const B=parseInt(t.query.page)||1,N=parseInt(t.query.size)||10;r.value=B,l.value=N,c.value=B}Ye(()=>r.value,B=>{c.value=B});function F(B){return(r.value-1)*l.value+B+1}function q(B){return B===0?"rank-first":B===1?"rank-second":B===2?"rank-third":""}function K(B){return B===0?"rank-badge-gold":B===1?"rank-badge-silver":B===2?"rank-badge-bronze":""}return je(()=>{V(),u()}),(B,N)=>{const H=dt("router-link");return d(),v("div",P6,[s("div",x6,[N[10]||(N[10]=s("div",{class:"header-background"},null,-1)),s("div",T6,[N[7]||(N[7]=s("div",{class:"header-icon"},"",-1)),N[8]||(N[8]=s("h1",{class:"page-title"},"",-1)),N[9]||(N[9]=s("p",{class:"page-subtitle"},"",-1)),!o.value&&i.value>0?(d(),v("div",A6,[s("span",E6,[s("span",I6,y(i.value),1),N[6]||(N[6]=s("span",{class:"stat-label"},"",-1))])])):D("",!0)])]),s("div",M6,[o.value?(d(),v("div",D6,[(d(),v(se,null,ve(12,P=>s("div",{key:P,class:"card skeleton"},[...N[11]||(N[11]=[s("div",{class:"skeleton-poster"},null,-1),s("div",{class:"skeleton-content"},[s("div",{class:"skeleton-title"}),s("div",{class:"skeleton-subtitle"})],-1)])])),64))])):a.value.length?(d(),v("div",V6,[(d(!0),v(se,null,ve(a.value,(P,ee)=>(d(),v("article",{key:P.id,class:fe(["card",q(ee)]),style:Rt({animationDelay:`${ee*.05}s`})},[ge(H,{to:`/movie/${P.id}`,class:"card-link"},{default:Ce(()=>[s("div",{class:fe(["rank-badge",K(ee)])},[s("span",R6,y(F(ee)),1),ee<3?(d(),v("div",U6,[ee===0?(d(),v("span",L6,"")):ee===1?(d(),v("span",O6,"")):ee===2?(d(),v("span",F6,"")):D("",!0)])):D("",!0)],2),s("div",z6,[s("div",{class:"poster",style:Rt({backgroundImage:P.poster?`url(${P.poster})`:void 0})},[s("div",N6,[P.rating?(d(),v("div",j6,[N[12]||(N[12]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(P.rating.toFixed(1)),1)])):D("",!0),N[13]||(N[13]=s("div",{class:"poster-play"},[s("i",{class:"icon-play"})],-1))])],4),N[14]||(N[14]=s("div",{class:"poster-shine"},null,-1))]),s("div",q6,[s("h3",H6,y(P.title),1),s("div",B6,y(P.year||"-"),1),P.tags&&P.tags.length>0?(d(),v("div",K6,[(d(!0),v(se,null,ve(P.tags.slice(0,3),(A,_)=>(d(),v("span",{key:A,class:fe(["tag",`tag-${_%6}`])},y(A),3))),128))])):D("",!0),s("div",W6,[ge(Ct,{readonly:!0,modelValue:P.rating||0,"tooltip-base":""},null,8,["modelValue"]),P.rating?(d(),v("span",G6,y(P.rating.toFixed(1))+"/10",1)):(d(),v("span",Y6,""))])])]),_:2},1032,["to"])],6))),128))])):(d(),v("div",Q6,[...N[15]||(N[15]=[s("div",{class:"empty-icon"},"",-1),s("p",{class:"empty-text"},"",-1),s("p",{class:"empty-hint"},"",-1)])])),!o.value&&a.value.length>0?(d(),v("div",J6,[s("div",Z6,[s("span",null," "+y(i.value)+" ",1),i.value>0?(d(),v("span",X6,"|")):D("",!0),i.value>0?(d(),v(se,{key:1},[N[17]||(N[17]=s("span",null,"",-1)),J(s("select",{"onUpdate:modelValue":N[0]||(N[0]=P=>l.value=P),onChange:g,class:"page-size-select"},[...N[16]||(N[16]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,l.value]]),N[18]||(N[18]=s("span",null,"",-1))],64)):D("",!0)]),i.value>0&&f.value>0?(d(),v("div",eP,[s("button",{class:"pagination-btn",disabled:r.value<=1||f.value<=1,onClick:N[1]||(N[1]=pe(P=>m(1),["stop"])),title:""},"  ",8,tP),s("button",{class:"pagination-btn",disabled:r.value<=1||f.value<=1,onClick:N[2]||(N[2]=pe(P=>m(r.value-1),["stop"])),title:""},"  ",8,sP),s("div",nP,[(d(!0),v(se,null,ve(p.value,(P,ee)=>(d(),v(se,{key:`page-${ee}-${P}`},[typeof P=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:P===r.value}]),onClick:pe(A=>m(P),["stop"])},y(P),11,oP)):(d(),v("span",aP,y(P),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:r.value>=f.value||f.value<=1,onClick:N[3]||(N[3]=pe(P=>m(r.value+1),["stop"])),title:""},"  ",8,lP),s("button",{class:"pagination-btn",disabled:r.value>=f.value||f.value<=1,onClick:N[4]||(N[4]=pe(P=>m(f.value),["stop"])),title:""},"  ",8,iP),s("div",rP,[N[19]||(N[19]=s("span",null,"",-1)),J(s("input",{type:"number","onUpdate:modelValue":N[5]||(N[5]=P=>c.value=P),min:1,max:f.value,onKeyup:Qe(S,["enter"]),class:"jump-input"},null,40,uP),[[ae,c.value,void 0,{number:!0}]]),N[20]||(N[20]=s("span",null,"",-1)),s("button",{onClick:pe(S,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])])}}});const dP=Ie(cP,[["__scopeId","data-v-bbb2081c"]]),vP=[{path:"/",name:"Home",component:Kf},{path:"/search",name:"Search",component:y2},{path:"/actors",name:"Actors",component:$k},{path:"/actor/:id",name:"ActorDetail",component:m3,props:!0},{path:"/awards",name:"AwardsList",component:R4},{path:"/award/:id",name:"AwardDetail",component:cC,props:!0},{path:"/movie/:id",name:"MovieDetail",component:M5,props:!0},{path:"/trending",name:"Trending",component:dP},{path:"/tv/:id",name:"TvDetail",component:a8,props:!0},{path:"/variety/:id",name:"VarietyDetail",component:S6,props:!0},{path:"/forum",name:"Forum",component:bl},{path:"/forum/:category",name:"ForumCategory",component:bl,props:!0},{path:"/post/:id",name:"PostDetail",component:rm,props:!0},{path:"/user/:id",name:"UserProfile",component:t1,props:!0},{path:"/user/settings",name:"UserSettings",component:iy},{path:"/login",name:"Login",component:ky},{path:"/register",name:"Register",component:t_},{path:"/test",name:"Test",component:ib},{path:"/login/qq/success",name:"QQLoginSuccess",component:cb}],fP=dv({history:zd(),routes:vP,scrollBehavior(e,t,n){return n||{top:0}}}),pP={class:"notification-container"},gP={class:"notification__content"},mP={class:"notification__icon"},hP={key:0,class:"icon-check-circle"},yP={key:1,class:"icon-error-circle"},_P={key:2,class:"icon-warning-circle"},bP={key:3,class:"icon-info-circle"},$P={class:"notification__message"},wP=["onClick"],kP=Ne({__name:"Notification",setup(e){const t=n=>{de.close(n)};return(n,o)=>(d(),v("div",pP,[ge(Nc,{name:"notification",tag:"div"},{default:Ce(()=>[(d(!0),v(se,null,ve($e(ps),a=>(d(),v("div",{key:a.id,class:fe(["notification",`notification--${a.type}`,{"notification--visible":a.visible}])},[s("div",gP,[s("div",mP,[a.type==="success"?(d(),v("i",hP)):a.type==="error"?(d(),v("i",yP)):a.type==="warning"?(d(),v("i",_P)):(d(),v("i",bP))]),s("div",$P,y(a.message),1)]),a.showClose?(d(),v("button",{key:0,class:"notification__close",onClick:i=>t(a.id),"aria-label":""},[...o[0]||(o[0]=[s("i",{class:"icon-close"},null,-1)])],8,wP)):D("",!0)],2))),128))]),_:1})]))}});const wr=Ie(kP,[["__scopeId","data-v-ea23afcc"]]),CP={class:"confirm-dialog__header"},SP={class:"confirm-dialog__icon"},PP={class:"confirm-dialog__title"},xP={class:"confirm-dialog__content"},TP={class:"confirm-dialog__actions"},AP=["disabled"],EP=["disabled"],IP={key:0,class:"icon-spinner icon-spin"},MP=Ne({__name:"ConfirmDialog",props:{visible:{type:Boolean},title:{default:""},message:{},confirmText:{default:""},cancelText:{default:""},type:{default:"warning"},isProcessing:{type:Boolean,default:!1}},emits:["confirm","cancel","close"],setup(e,{emit:t}){const n=e,o=t,a=_e(()=>{const c="confirm-dialog__icon-i";switch(n.type){case"danger":return`${c} icon-error-circle`;case"info":return`${c} icon-info-circle`;case"warning":default:return`${c} icon-warning-circle`}}),i=()=>{o("confirm")},r=()=>{o("cancel")},l=()=>{o("cancel")};return(c,f)=>(d(),rt(ai,{to:"body"},[ge(Ni,{name:"confirm-dialog"},{default:Ce(()=>[c.visible?(d(),v("div",{key:0,class:"confirm-dialog-overlay",onClick:l},[s("div",{class:"confirm-dialog",onClick:f[0]||(f[0]=pe(()=>{},["stop"]))},[s("div",CP,[s("div",SP,[s("i",{class:fe(a.value)},null,2)]),s("h3",PP,y(c.title),1)]),s("div",xP,y(c.message),1),s("div",TP,[s("button",{class:"btn btn-outline confirm-dialog__btn--cancel",onClick:r,disabled:c.isProcessing},y(c.cancelText),9,AP),s("button",{class:"btn btn-primary confirm-dialog__btn--confirm",onClick:i,disabled:c.isProcessing},[c.isProcessing?(d(),v("i",IP)):D("",!0),oe(" "+y(c.confirmText),1)],8,EP)])])])):D("",!0)]),_:1})]))}});const DP=Ie(MP,[["__scopeId","data-v-7a336aed"]]);const VP={id:"app"},RP={class:"main-content"},UP={class:"router-view-wrapper"},LP={__name:"App",setup(e){const t=Je();return je(async()=>{if(t.isLoggedIn)return;await t.autoLogin()||await t.loadUserFromStorage()}),(n,o)=>{const a=dt("router-view");return d(),v("div",VP,[ge(vr),s("main",RP,[s("div",UP,[ge(a)])]),ge(ab),ge(wr),ge(DP,{visible:$e(ot).visible,title:$e(ot).title,message:$e(ot).message,"confirm-text":$e(ot).confirmText,"cancel-text":$e(ot).cancelText,type:$e(ot).type,"is-processing":$e(ot).isProcessing,onConfirm:$e(xs).handleConfirm,onCancel:$e(xs).handleCancel,onClose:$e(xs).close},null,8,["visible","title","message","confirm-text","cancel-text","type","is-processing","onConfirm","onCancel","onClose"])])}}};const vn=ed(LP),OP=od();vn.component("Notification",wr);vn.config.globalProperties.$notification=de;vn.use(OP);vn.use(fP);vn.mount("#app");
//# sourceMappingURL=index-65826bda.js.map
