(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Le={},Cs=[],wt=()=>{},wl=()=>!1,Fn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Lo=e=>e.startsWith("onUpdate:"),Be=Object.assign,Fo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kr=Object.prototype.hasOwnProperty,De=(e,t)=>kr.call(e,t),ke=Array.isArray,Ss=e=>an(e)==="[object Map]",Is=e=>an(e)==="[object Set]",va=e=>an(e)==="[object Date]",Pe=e=>typeof e=="function",qe=e=>typeof e=="string",Vt=e=>typeof e=="symbol",Fe=e=>e!==null&&typeof e=="object",kl=e=>(Fe(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),Cl=Object.prototype.toString,an=e=>Cl.call(e),Cr=e=>an(e).slice(8,-1),Sl=e=>an(e)==="[object Object]",Oo=e=>qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Fs=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),On=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Sr=/-\w/g,bt=On(e=>e.replace(Sr,t=>t.slice(1).toUpperCase())),xr=/\B([A-Z])/g,rs=On(e=>e.replace(xr,"-$1").toLowerCase()),zn=On(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zn=On(e=>e?`on${zn(e)}`:""),ss=(e,t)=>!Object.is(e,t),_n=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},xl=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},xn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Pr=e=>{const t=qe(e)?Number(e):NaN;return isNaN(t)?e:t};let fa;const Nn=()=>fa||(fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Rt(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=qe(o)?Ir(o):Rt(o);if(a)for(const i in a)t[i]=a[i]}return t}else if(qe(e)||Fe(e))return e}const Tr=/;(?![^(]*\))/g,Ar=/:([^]+)/,Er=/\/\*[^]*?\*\//g;function Ir(e){const t={};return e.replace(Er,"").split(Tr).forEach(n=>{if(n){const o=n.split(Ar);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function fe(e){let t="";if(qe(e))t=e;else if(ke(e))for(let n=0;n<e.length;n++){const o=fe(e[n]);o&&(t+=o+" ")}else if(Fe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Mr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dr=Uo(Mr);function Pl(e){return!!e||e===""}function Vr(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ys(e[o],t[o]);return n}function ys(e,t){if(e===t)return!0;let n=va(e),o=va(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=Vt(e),o=Vt(t),n||o)return e===t;if(n=ke(e),o=ke(t),n||o)return n&&o?Vr(e,t):!1;if(n=Fe(e),o=Fe(t),n||o){if(!n||!o)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const r in e){const l=e.hasOwnProperty(r),c=t.hasOwnProperty(r);if(l&&!c||!l&&c||!ys(e[r],t[r]))return!1}}return String(e)===String(t)}function zo(e,t){return e.findIndex(n=>ys(n,t))}const Tl=e=>!!(e&&e.__v_isRef===!0),y=e=>qe(e)?e:e==null?"":ke(e)||Fe(e)&&(e.toString===Cl||!Pe(e.toString))?Tl(e)?y(e.value):JSON.stringify(e,Al,2):String(e),Al=(e,t)=>Tl(t)?Al(e,t.value):Ss(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,a],i)=>(n[Xn(o,i)+" =>"]=a,n),{})}:Is(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xn(n))}:Vt(t)?Xn(t):Fe(t)&&!ke(t)&&!Sl(t)?String(t):t,Xn=(e,t="")=>{var n;return Vt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class El{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Il(e){return new El(e)}function Ml(){return Xe}function Rr(e,t=!1){Xe&&Xe.cleanups.push(e)}let ze;const eo=new WeakSet;class Dl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eo.has(this)&&(eo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Rl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pa(this),Ul(this);const t=ze,n=kt;ze=this,kt=!0;try{return this.fn()}finally{Ll(this),ze=t,kt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qo(t);this.deps=this.depsTail=void 0,pa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_o(this)&&this.run()}get dirty(){return _o(this)}}let Vl=0,Os,zs;function Rl(e,t=!1){if(e.flags|=8,t){e.next=zs,zs=e;return}e.next=Os,Os=e}function No(){Vl++}function jo(){if(--Vl>0)return;if(zs){let t=zs;for(zs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Os;){let t=Os;for(Os=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Ul(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ll(e){let t,n=e.depsTail,o=n;for(;o;){const a=o.prevDep;o.version===-1?(o===n&&(n=a),qo(o),Ur(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=a}e.deps=t,e.depsTail=n}function _o(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Fl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Fl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js)||(e.globalVersion=Js,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!_o(e))))return;e.flags|=2;const t=e.dep,n=ze,o=kt;ze=e,kt=!0;try{Ul(e);const a=e.fn(e._value);(t.version===0||ss(a,e._value))&&(e.flags|=128,e._value=a,t.version++)}catch(a){throw t.version++,a}finally{ze=n,kt=o,Ll(e),e.flags&=-3}}function qo(e,t=!1){const{dep:n,prevSub:o,nextSub:a}=e;if(o&&(o.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)qo(i,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ur(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let kt=!0;const Ol=[];function Ht(){Ol.push(kt),kt=!1}function Bt(){const e=Ol.pop();kt=e===void 0?!0:e}function pa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ze;ze=void 0;try{t()}finally{ze=n}}}let Js=0;class Lr{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ho{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!kt||ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ze)n=this.activeLink=new Lr(ze,this),ze.deps?(n.prevDep=ze.depsTail,ze.depsTail.nextDep=n,ze.depsTail=n):ze.deps=ze.depsTail=n,zl(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ze.depsTail,n.nextDep=void 0,ze.depsTail.nextDep=n,ze.depsTail=n,ze.deps===n&&(ze.deps=o)}return n}trigger(t){this.version++,Js++,this.notify(t)}notify(t){No();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{jo()}}}function zl(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)zl(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Pn=new WeakMap,ms=Symbol(""),bo=Symbol(""),Zs=Symbol("");function et(e,t,n){if(kt&&ze){let o=Pn.get(e);o||Pn.set(e,o=new Map);let a=o.get(n);a||(o.set(n,a=new Ho),a.map=o,a.key=n),a.track()}}function Nt(e,t,n,o,a,i){const r=Pn.get(e);if(!r){Js++;return}const l=c=>{c&&c.trigger()};if(No(),t==="clear")r.forEach(l);else{const c=ke(e),f=c&&Oo(n);if(c&&n==="length"){const p=Number(o);r.forEach((u,h)=>{(h==="length"||h===Zs||!Vt(h)&&h>=p)&&l(u)})}else switch((n!==void 0||r.has(void 0))&&l(r.get(n)),f&&l(r.get(Zs)),t){case"add":c?f&&l(r.get("length")):(l(r.get(ms)),Ss(e)&&l(r.get(bo)));break;case"delete":c||(l(r.get(ms)),Ss(e)&&l(r.get(bo)));break;case"set":Ss(e)&&l(r.get(ms));break}}jo()}function Fr(e,t){const n=Pn.get(e);return n&&n.get(t)}function bs(e){const t=Ee(e);return t===e?t:(et(t,"iterate",Zs),ht(e)?t:t.map(We))}function jn(e){return et(e=Ee(e),"iterate",Zs),e}const Or={__proto__:null,[Symbol.iterator](){return to(this,Symbol.iterator,We)},concat(...e){return bs(this).concat(...e.map(t=>ke(t)?bs(t):t))},entries(){return to(this,"entries",e=>(e[1]=We(e[1]),e))},every(e,t){return Lt(this,"every",e,t,void 0,arguments)},filter(e,t){return Lt(this,"filter",e,t,n=>n.map(We),arguments)},find(e,t){return Lt(this,"find",e,t,We,arguments)},findIndex(e,t){return Lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Lt(this,"findLast",e,t,We,arguments)},findLastIndex(e,t){return Lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return so(this,"includes",e)},indexOf(...e){return so(this,"indexOf",e)},join(e){return bs(this).join(e)},lastIndexOf(...e){return so(this,"lastIndexOf",e)},map(e,t){return Lt(this,"map",e,t,void 0,arguments)},pop(){return Ds(this,"pop")},push(...e){return Ds(this,"push",e)},reduce(e,...t){return ga(this,"reduce",e,t)},reduceRight(e,...t){return ga(this,"reduceRight",e,t)},shift(){return Ds(this,"shift")},some(e,t){return Lt(this,"some",e,t,void 0,arguments)},splice(...e){return Ds(this,"splice",e)},toReversed(){return bs(this).toReversed()},toSorted(e){return bs(this).toSorted(e)},toSpliced(...e){return bs(this).toSpliced(...e)},unshift(...e){return Ds(this,"unshift",e)},values(){return to(this,"values",We)}};function to(e,t,n){const o=jn(e),a=o[t]();return o!==e&&!ht(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=n(i.value)),i}),a}const zr=Array.prototype;function Lt(e,t,n,o,a,i){const r=jn(e),l=r!==e&&!ht(e),c=r[t];if(c!==zr[t]){const u=c.apply(e,i);return l?We(u):u}let f=n;r!==e&&(l?f=function(u,h){return n.call(this,We(u),h,e)}:n.length>2&&(f=function(u,h){return n.call(this,u,h,e)}));const p=c.call(r,f,o);return l&&a?a(p):p}function ga(e,t,n,o){const a=jn(e);let i=n;return a!==e&&(ht(e)?n.length>3&&(i=function(r,l,c){return n.call(this,r,l,c,e)}):i=function(r,l,c){return n.call(this,r,We(l),c,e)}),a[t](i,...o)}function so(e,t,n){const o=Ee(e);et(o,"iterate",Zs);const a=o[t](...n);return(a===-1||a===!1)&&Wo(n[0])?(n[0]=Ee(n[0]),o[t](...n)):a}function Ds(e,t,n=[]){Ht(),No();const o=Ee(e)[t].apply(e,n);return jo(),Bt(),o}const Nr=Uo("__proto__,__v_isRef,__isVue"),Nl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function jr(e){Vt(e)||(e=String(e));const t=Ee(this);return et(t,"has",e),t.hasOwnProperty(e)}class jl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!a;if(n==="__v_isReadonly")return a;if(n==="__v_isShallow")return i;if(n==="__v_raw")return o===(a?i?Zr:Kl:i?Bl:Hl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=ke(t);if(!a){let c;if(r&&(c=Or[n]))return c;if(n==="hasOwnProperty")return jr}const l=Reflect.get(t,n,He(t)?t:o);return(Vt(n)?Nl.has(n):Nr(n))||(a||et(t,"get",n),i)?l:He(l)?r&&Oo(n)?l:l.value:Fe(l)?a?Gl(l):it(l):l}}class ql extends jl{constructor(t=!1){super(!1,t)}set(t,n,o,a){let i=t[n];if(!this._isShallow){const c=os(i);if(!ht(o)&&!os(o)&&(i=Ee(i),o=Ee(o)),!ke(t)&&He(i)&&!He(o))return c||(i.value=o),!0}const r=ke(t)&&Oo(n)?Number(n)<t.length:De(t,n),l=Reflect.set(t,n,o,He(t)?t:a);return t===Ee(a)&&(r?ss(o,i)&&Nt(t,"set",n,o):Nt(t,"add",n,o)),l}deleteProperty(t,n){const o=De(t,n);t[n];const a=Reflect.deleteProperty(t,n);return a&&o&&Nt(t,"delete",n,void 0),a}has(t,n){const o=Reflect.has(t,n);return(!Vt(n)||!Nl.has(n))&&et(t,"has",n),o}ownKeys(t){return et(t,"iterate",ke(t)?"length":ms),Reflect.ownKeys(t)}}class qr extends jl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Hr=new ql,Br=new qr,Kr=new ql(!0);const $o=e=>e,fn=e=>Reflect.getPrototypeOf(e);function Wr(e,t,n){return function(...o){const a=this.__v_raw,i=Ee(a),r=Ss(i),l=e==="entries"||e===Symbol.iterator&&r,c=e==="keys"&&r,f=a[e](...o),p=n?$o:t?Tn:We;return!t&&et(i,"iterate",c?bo:ms),{next(){const{value:u,done:h}=f.next();return h?{value:u,done:h}:{value:l?[p(u[0]),p(u[1])]:p(u),done:h}},[Symbol.iterator](){return this}}}}function pn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gr(e,t){const n={get(a){const i=this.__v_raw,r=Ee(i),l=Ee(a);e||(ss(a,l)&&et(r,"get",a),et(r,"get",l));const{has:c}=fn(r),f=t?$o:e?Tn:We;if(c.call(r,a))return f(i.get(a));if(c.call(r,l))return f(i.get(l));i!==r&&i.get(a)},get size(){const a=this.__v_raw;return!e&&et(Ee(a),"iterate",ms),a.size},has(a){const i=this.__v_raw,r=Ee(i),l=Ee(a);return e||(ss(a,l)&&et(r,"has",a),et(r,"has",l)),a===l?i.has(a):i.has(a)||i.has(l)},forEach(a,i){const r=this,l=r.__v_raw,c=Ee(l),f=t?$o:e?Tn:We;return!e&&et(c,"iterate",ms),l.forEach((p,u)=>a.call(i,f(p),f(u),r))}};return Be(n,e?{add:pn("add"),set:pn("set"),delete:pn("delete"),clear:pn("clear")}:{add(a){!t&&!ht(a)&&!os(a)&&(a=Ee(a));const i=Ee(this);return fn(i).has.call(i,a)||(i.add(a),Nt(i,"add",a,a)),this},set(a,i){!t&&!ht(i)&&!os(i)&&(i=Ee(i));const r=Ee(this),{has:l,get:c}=fn(r);let f=l.call(r,a);f||(a=Ee(a),f=l.call(r,a));const p=c.call(r,a);return r.set(a,i),f?ss(i,p)&&Nt(r,"set",a,i):Nt(r,"add",a,i),this},delete(a){const i=Ee(this),{has:r,get:l}=fn(i);let c=r.call(i,a);c||(a=Ee(a),c=r.call(i,a)),l&&l.call(i,a);const f=i.delete(a);return c&&Nt(i,"delete",a,void 0),f},clear(){const a=Ee(this),i=a.size!==0,r=a.clear();return i&&Nt(a,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Wr(a,e,t)}),n}function Bo(e,t){const n=Gr(e,t);return(o,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?o:Reflect.get(De(n,a)&&a in o?n:o,a,i)}const Yr={get:Bo(!1,!1)},Qr={get:Bo(!1,!0)},Jr={get:Bo(!0,!1)};const Hl=new WeakMap,Bl=new WeakMap,Kl=new WeakMap,Zr=new WeakMap;function Xr(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eu(e){return e.__v_skip||!Object.isExtensible(e)?0:Xr(Cr(e))}function it(e){return os(e)?e:Ko(e,!1,Hr,Yr,Hl)}function Wl(e){return Ko(e,!1,Kr,Qr,Bl)}function Gl(e){return Ko(e,!0,Br,Jr,Kl)}function Ko(e,t,n,o,a){if(!Fe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=eu(e);if(i===0)return e;const r=a.get(e);if(r)return r;const l=new Proxy(e,i===2?o:n);return a.set(e,l),l}function ns(e){return os(e)?ns(e.__v_raw):!!(e&&e.__v_isReactive)}function os(e){return!!(e&&e.__v_isReadonly)}function ht(e){return!!(e&&e.__v_isShallow)}function Wo(e){return e?!!e.__v_raw:!1}function Ee(e){const t=e&&e.__v_raw;return t?Ee(t):e}function Go(e){return!De(e,"__v_skip")&&Object.isExtensible(e)&&xl(e,"__v_skip",!0),e}const We=e=>Fe(e)?it(e):e,Tn=e=>Fe(e)?Gl(e):e;function He(e){return e?e.__v_isRef===!0:!1}function I(e){return Yl(e,!1)}function tu(e){return Yl(e,!0)}function Yl(e,t){return He(e)?e:new su(e,t)}class su{constructor(t,n){this.dep=new Ho,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ee(t),this._value=n?t:We(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||ht(t)||os(t);t=o?t:Ee(t),ss(t,n)&&(this._rawValue=t,this._value=o?t:We(t),this.dep.trigger())}}function $e(e){return He(e)?e.value:e}const nu={get:(e,t,n)=>t==="__v_raw"?e:$e(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return He(a)&&!He(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function Ql(e){return ns(e)?e:new Proxy(e,nu)}function ou(e){const t=ke(e)?new Array(e.length):{};for(const n in e)t[n]=lu(e,n);return t}class au{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fr(Ee(this._object),this._key)}}function lu(e,t,n){const o=e[t];return He(o)?o:new au(e,t,n)}class iu{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ho(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Rl(this,!0),!0}get value(){const t=this.dep.track();return Fl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ru(e,t,n=!1){let o,a;return Pe(e)?o=e:(o=e.get,a=e.set),new iu(o,a,n)}const gn={},An=new WeakMap;let fs;function uu(e,t=!1,n=fs){if(n){let o=An.get(n);o||An.set(n,o=[]),o.push(e)}}function cu(e,t,n=Le){const{immediate:o,deep:a,once:i,scheduler:r,augmentJob:l,call:c}=n,f=z=>a?z:ht(z)||a===!1||a===0?jt(z,1):jt(z);let p,u,h,g,M=!1,R=!1;if(He(e)?(u=()=>e.value,M=ht(e)):ns(e)?(u=()=>f(e),M=!0):ke(e)?(R=!0,M=e.some(z=>ns(z)||ht(z)),u=()=>e.map(z=>{if(He(z))return z.value;if(ns(z))return f(z);if(Pe(z))return c?c(z,2):z()})):Pe(e)?t?u=c?()=>c(e,2):e:u=()=>{if(h){Ht();try{h()}finally{Bt()}}const z=fs;fs=p;try{return c?c(e,3,[g]):e(g)}finally{fs=z}}:u=wt,t&&a){const z=u,j=a===!0?1/0:a;u=()=>jt(z(),j)}const F=Ml(),q=()=>{p.stop(),F&&F.active&&Fo(F.effects,p)};if(i&&t){const z=t;t=(...j)=>{z(...j),q()}}let K=R?new Array(e.length).fill(gn):gn;const H=z=>{if(!(!(p.flags&1)||!p.dirty&&!z))if(t){const j=p.run();if(a||M||(R?j.some((S,J)=>ss(S,K[J])):ss(j,K))){h&&h();const S=fs;fs=p;try{const J=[j,K===gn?void 0:R&&K[0]===gn?[]:K,g];K=j,c?c(t,3,J):t(...J)}finally{fs=S}}}else p.run()};return l&&l(H),p=new Dl(u),p.scheduler=r?()=>r(H,!1):H,g=z=>uu(z,!1,p),h=p.onStop=()=>{const z=An.get(p);if(z){if(c)c(z,4);else for(const j of z)j();An.delete(p)}},t?o?H(!0):K=p.run():r?r(H.bind(null,!0),!0):p.run(),q.pause=p.pause.bind(p),q.resume=p.resume.bind(p),q.stop=q,q}function jt(e,t=1/0,n){if(t<=0||!Fe(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,He(e))jt(e.value,t,n);else if(ke(e))for(let o=0;o<e.length;o++)jt(e[o],t,n);else if(Is(e)||Ss(e))e.forEach(o=>{jt(o,t,n)});else if(Sl(e)){for(const o in e)jt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&jt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ln(e,t,n,o){try{return o?e(...o):e()}catch(a){qn(a,t,n)}}function St(e,t,n,o){if(Pe(e)){const a=ln(e,t,n,o);return a&&kl(a)&&a.catch(i=>{qn(i,t,n)}),a}if(ke(e)){const a=[];for(let i=0;i<e.length;i++)a.push(St(e[i],t,n,o));return a}}function qn(e,t,n,o=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Le;if(t){let l=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let u=0;u<p.length;u++)if(p[u](e,c,f)===!1)return}l=l.parent}if(i){Ht(),ln(i,null,10,[e,c,f]),Bt();return}}du(e,n,a,o,r)}function du(e,t,n,o=!0,a=!1){if(a)throw e;console.error(e)}const at=[];let It=-1;const xs=[];let Zt=null,ws=0;const Jl=Promise.resolve();let En=null;function rn(e){const t=En||Jl;return e?t.then(this?e.bind(this):e):t}function vu(e){let t=It+1,n=at.length;for(;t<n;){const o=t+n>>>1,a=at[o],i=Xs(a);i<e||i===e&&a.flags&2?t=o+1:n=o}return t}function Yo(e){if(!(e.flags&1)){const t=Xs(e),n=at[at.length-1];!n||!(e.flags&2)&&t>=Xs(n)?at.push(e):at.splice(vu(t),0,e),e.flags|=1,Zl()}}function Zl(){En||(En=Jl.then(ei))}function fu(e){ke(e)?xs.push(...e):Zt&&e.id===-1?Zt.splice(ws+1,0,e):e.flags&1||(xs.push(e),e.flags|=1),Zl()}function ma(e,t,n=It+1){for(;n<at.length;n++){const o=at[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;at.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Xl(e){if(xs.length){const t=[...new Set(xs)].sort((n,o)=>Xs(n)-Xs(o));if(xs.length=0,Zt){Zt.push(...t);return}for(Zt=t,ws=0;ws<Zt.length;ws++){const n=Zt[ws];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zt=null,ws=0}}const Xs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ei(e){const t=wt;try{for(It=0;It<at.length;It++){const n=at[It];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),ln(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;It<at.length;It++){const n=at[It];n&&(n.flags&=-2)}It=-1,at.length=0,Xl(),En=null,(at.length||xs.length)&&ei()}}let pt=null,ti=null;function In(e){const t=pt;return pt=e,ti=e&&e.type.__scopeId||null,t}function Se(e,t=pt,n){if(!t||e._n)return e;const o=(...a)=>{o._d&&Vn(-1);const i=In(t);let r;try{r=e(...a)}finally{In(i),o._d&&Vn(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function Z(e,t){if(pt===null)return e;const n=Gn(pt),o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,r,l,c=Le]=t[a];i&&(Pe(i)&&(i={mounted:i,updated:i}),i.deep&&jt(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:l,modifiers:c}))}return e}function us(e,t,n,o){const a=e.dirs,i=t&&t.dirs;for(let r=0;r<a.length;r++){const l=a[r];i&&(l.oldValue=i[r].value);let c=l.dir[o];c&&(Ht(),St(c,n,8,[e.el,l,e,t]),Bt())}}const si=Symbol("_vte"),ni=e=>e.__isTeleport,Ns=e=>e&&(e.disabled||e.disabled===""),ha=e=>e&&(e.defer||e.defer===""),ya=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_a=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,wo=(e,t)=>{const n=e&&e.to;return qe(n)?t?t(n):null:n},oi={name:"Teleport",__isTeleport:!0,process(e,t,n,o,a,i,r,l,c,f){const{mc:p,pc:u,pbc:h,o:{insert:g,querySelector:M,createText:R,createComment:F}}=f,q=Ns(t.props);let{shapeFlag:K,children:H,dynamicChildren:z}=t;if(e==null){const j=t.el=R(""),S=t.anchor=R("");g(j,n,o),g(S,n,o);const J=(_,B)=>{K&16&&(a&&a.isCE&&(a.ce._teleportTarget=_),p(H,_,B,a,i,r,l,c))},b=()=>{const _=t.target=wo(t.props,M),B=li(_,t,R,g);_&&(r!=="svg"&&ya(_)?r="svg":r!=="mathml"&&_a(_)&&(r="mathml"),q||(J(_,B),bn(t,!1)))};q&&(J(n,S),bn(t,!0)),ha(t.props)?(t.el.__isMounted=!1,nt(()=>{b(),delete t.el.__isMounted},i)):b()}else{if(ha(t.props)&&e.el.__isMounted===!1){nt(()=>{oi.process(e,t,n,o,a,i,r,l,c,f)},i);return}t.el=e.el,t.targetStart=e.targetStart;const j=t.anchor=e.anchor,S=t.target=e.target,J=t.targetAnchor=e.targetAnchor,b=Ns(e.props),_=b?n:S,B=b?j:J;if(r==="svg"||ya(S)?r="svg":(r==="mathml"||_a(S))&&(r="mathml"),z?(h(e.dynamicChildren,z,_,a,i,r,l),ta(e,t,!0)):c||u(e,t,_,B,a,i,r,l,!1),q)b?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):mn(t,n,j,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const N=t.target=wo(t.props,M);N&&mn(t,N,null,f,0)}else b&&mn(t,S,J,f,1);bn(t,q)}},remove(e,t,n,{um:o,o:{remove:a}},i){const{shapeFlag:r,children:l,anchor:c,targetStart:f,targetAnchor:p,target:u,props:h}=e;if(u&&(a(f),a(p)),i&&a(c),r&16){const g=i||!Ns(h);for(let M=0;M<l.length;M++){const R=l[M];o(R,t,n,g,!!R.dynamicChildren)}}},move:mn,hydrate:pu};function mn(e,t,n,{o:{insert:o},m:a},i=2){i===0&&o(e.targetAnchor,t,n);const{el:r,anchor:l,shapeFlag:c,children:f,props:p}=e,u=i===2;if(u&&o(r,t,n),(!u||Ns(p))&&c&16)for(let h=0;h<f.length;h++)a(f[h],t,n,2);u&&o(l,t,n)}function pu(e,t,n,o,a,i,{o:{nextSibling:r,parentNode:l,querySelector:c,insert:f,createText:p}},u){function h(R,F,q,K){F.anchor=u(r(R),F,l(R),n,o,a,i),F.targetStart=q,F.targetAnchor=K}const g=t.target=wo(t.props,c),M=Ns(t.props);if(g){const R=g._lpa||g.firstChild;if(t.shapeFlag&16)if(M)h(e,t,R,R&&r(R));else{t.anchor=r(e);let F=R;for(;F;){if(F&&F.nodeType===8){if(F.data==="teleport start anchor")t.targetStart=F;else if(F.data==="teleport anchor"){t.targetAnchor=F,g._lpa=t.targetAnchor&&r(t.targetAnchor);break}}F=r(F)}t.targetAnchor||li(g,t,p,f),u(R&&r(R),t,g,n,o,a,i)}bn(t,M)}else M&&t.shapeFlag&16&&h(e,t,e,r(e));return t.anchor&&r(t.anchor)}const ai=oi;function bn(e,t){const n=e.ctx;if(n&&n.ut){let o,a;for(t?(o=e.el,a=e.anchor):(o=e.targetStart,a=e.targetAnchor);o&&o!==a;)o.nodeType===1&&o.setAttribute("data-v-owner",n.uid),o=o.nextSibling;n.ut()}}function li(e,t,n,o){const a=t.targetStart=n(""),i=t.targetAnchor=n("");return a[si]=i,e&&(o(a,e),o(i,e)),i}const zt=Symbol("_leaveCb"),hn=Symbol("_enterCb");function ii(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{e.isMounted=!0}),gi(()=>{e.isUnmounting=!0}),e}const mt=[Function,Array],ri={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mt,onEnter:mt,onAfterEnter:mt,onEnterCancelled:mt,onBeforeLeave:mt,onLeave:mt,onAfterLeave:mt,onLeaveCancelled:mt,onBeforeAppear:mt,onAppear:mt,onAfterAppear:mt,onAppearCancelled:mt},ui=e=>{const t=e.subTree;return t.component?ui(t.component):t},gu={name:"BaseTransition",props:ri,setup(e,{slots:t}){const n=un(),o=ii();return()=>{const a=t.default&&Qo(t.default(),!0);if(!a||!a.length)return;const i=ci(a),r=Ee(e),{mode:l}=r;if(o.isLeaving)return no(i);const c=ba(i);if(!c)return no(i);let f=en(c,r,o,n,u=>f=u);c.type!==lt&&_s(c,f);let p=n.subTree&&ba(n.subTree);if(p&&p.type!==lt&&!gs(p,c)&&ui(n).type!==lt){let u=en(p,r,o,n);if(_s(p,u),l==="out-in"&&c.type!==lt)return o.isLeaving=!0,u.afterLeave=()=>{o.isLeaving=!1,n.job.flags&8||n.update(),delete u.afterLeave,p=void 0},no(i);l==="in-out"&&c.type!==lt?u.delayLeave=(h,g,M)=>{const R=di(o,p);R[String(p.key)]=p,h[zt]=()=>{g(),h[zt]=void 0,delete f.delayedLeave,p=void 0},f.delayedLeave=()=>{M(),delete f.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return i}}};function ci(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==lt){t=n;break}}return t}const mu=gu;function di(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function en(e,t,n,o,a){const{appear:i,mode:r,persisted:l=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:p,onEnterCancelled:u,onBeforeLeave:h,onLeave:g,onAfterLeave:M,onLeaveCancelled:R,onBeforeAppear:F,onAppear:q,onAfterAppear:K,onAppearCancelled:H}=t,z=String(e.key),j=di(n,e),S=(_,B)=>{_&&St(_,o,9,B)},J=(_,B)=>{const N=B[1];S(_,B),ke(_)?_.every(P=>P.length<=1)&&N():_.length<=1&&N()},b={mode:r,persisted:l,beforeEnter(_){let B=c;if(!n.isMounted)if(i)B=F||c;else return;_[zt]&&_[zt](!0);const N=j[z];N&&gs(e,N)&&N.el[zt]&&N.el[zt](),S(B,[_])},enter(_){let B=f,N=p,P=u;if(!n.isMounted)if(i)B=q||f,N=K||p,P=H||u;else return;let x=!1;const E=_[hn]=C=>{x||(x=!0,C?S(P,[_]):S(N,[_]),b.delayedLeave&&b.delayedLeave(),_[hn]=void 0)};B?J(B,[_,E]):E()},leave(_,B){const N=String(e.key);if(_[hn]&&_[hn](!0),n.isUnmounting)return B();S(h,[_]);let P=!1;const x=_[zt]=E=>{P||(P=!0,B(),E?S(R,[_]):S(M,[_]),_[zt]=void 0,j[N]===e&&delete j[N])};j[N]=e,g?J(g,[_,x]):x()},clone(_){const B=en(_,t,n,o,a);return a&&a(B),B}};return b}function no(e){if(Hn(e))return e=as(e),e.children=null,e}function ba(e){if(!Hn(e))return ni(e.type)&&e.children?ci(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Pe(n.default))return n.default()}}function _s(e,t){e.shapeFlag&6&&e.component?(e.transition=t,_s(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qo(e,t=!1,n){let o=[],a=0;for(let i=0;i<e.length;i++){let r=e[i];const l=n==null?r.key:String(n)+String(r.key!=null?r.key:i);r.type===se?(r.patchFlag&128&&a++,o=o.concat(Qo(r.children,t,l))):(t||r.type!==lt)&&o.push(l!=null?as(r,{key:l}):r)}if(a>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}function Ne(e,t){return Pe(e)?(()=>Be({name:e.name},t,{setup:e}))():e}function vi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Mn=new WeakMap;function js(e,t,n,o,a=!1){if(ke(e)){e.forEach((M,R)=>js(M,t&&(ke(t)?t[R]:t),n,o,a));return}if(qs(o)&&!a){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&js(e,t,n,o.component.subTree);return}const i=o.shapeFlag&4?Gn(o.component):o.el,r=a?null:i,{i:l,r:c}=e,f=t&&t.r,p=l.refs===Le?l.refs={}:l.refs,u=l.setupState,h=Ee(u),g=u===Le?wl:M=>De(h,M);if(f!=null&&f!==c){if($a(t),qe(f))p[f]=null,g(f)&&(u[f]=null);else if(He(f)){f.value=null;const M=t;M.k&&(p[M.k]=null)}}if(Pe(c))ln(c,l,12,[r,p]);else{const M=qe(c),R=He(c);if(M||R){const F=()=>{if(e.f){const q=M?g(c)?u[c]:p[c]:c.value;if(a)ke(q)&&Fo(q,i);else if(ke(q))q.includes(i)||q.push(i);else if(M)p[c]=[i],g(c)&&(u[c]=p[c]);else{const K=[i];c.value=K,e.k&&(p[e.k]=K)}}else M?(p[c]=r,g(c)&&(u[c]=r)):R&&(c.value=r,e.k&&(p[e.k]=r))};if(r){const q=()=>{F(),Mn.delete(e)};q.id=-1,Mn.set(e,q),nt(q,n)}else $a(e),F()}}}function $a(e){const t=Mn.get(e);t&&(t.flags|=8,Mn.delete(e))}Nn().requestIdleCallback;Nn().cancelIdleCallback;const qs=e=>!!e.type.__asyncLoader,Hn=e=>e.type.__isKeepAlive;function hu(e,t){fi(e,"a",t)}function yu(e,t){fi(e,"da",t)}function fi(e,t,n=tt){const o=e.__wdc||(e.__wdc=()=>{let a=n;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Bn(t,o,n),n){let a=n.parent;for(;a&&a.parent;)Hn(a.parent.vnode)&&_u(o,t,n,a),a=a.parent}}function _u(e,t,n,o){const a=Bn(t,e,o,!0);Jo(()=>{Fo(o[t],a)},n)}function Bn(e,t,n=tt,o=!1){if(n){const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{Ht();const l=cn(n),c=St(t,n,e,r);return l(),Bt(),c});return o?a.unshift(i):a.push(i),i}}const Wt=e=>(t,n=tt)=>{(!sn||e==="sp")&&Bn(e,(...o)=>t(...o),n)},bu=Wt("bm"),je=Wt("m"),$u=Wt("bu"),pi=Wt("u"),gi=Wt("bum"),Jo=Wt("um"),wu=Wt("sp"),ku=Wt("rtg"),Cu=Wt("rtc");function Su(e,t=tt){Bn("ec",e,t)}const mi="components",xu="directives";function dt(e,t){return yi(mi,e,!0,t)||e}const Pu=Symbol.for("v-ndc");function hi(e){return yi(xu,e)}function yi(e,t,n=!0,o=!1){const a=pt||tt;if(a){const i=a.type;if(e===mi){const l=gc(i,!1);if(l&&(l===t||l===bt(t)||l===zn(bt(t))))return i}const r=wa(a[e]||i[e],t)||wa(a.appContext[e],t);return!r&&o?i:r}}function wa(e,t){return e&&(e[t]||e[bt(t)]||e[zn(bt(t))])}function ve(e,t,n,o){let a;const i=n&&n[o],r=ke(e);if(r||qe(e)){const l=r&&ns(e);let c=!1,f=!1;l&&(c=!ht(e),f=os(e),e=jn(e)),a=new Array(e.length);for(let p=0,u=e.length;p<u;p++)a[p]=t(c?f?Tn(We(e[p])):We(e[p]):e[p],p,void 0,i&&i[p])}else if(typeof e=="number"){a=new Array(e);for(let l=0;l<e;l++)a[l]=t(l+1,l,void 0,i&&i[l])}else if(Fe(e))if(e[Symbol.iterator])a=Array.from(e,(l,c)=>t(l,c,void 0,i&&i[c]));else{const l=Object.keys(e);a=new Array(l.length);for(let c=0,f=l.length;c<f;c++){const p=l[c];a[c]=t(e[p],p,c,i&&i[c])}}else a=[];return n&&(n[o]=a),a}const ko=e=>e?Ui(e)?Gn(e):ko(e.parent):null,Hs=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ko(e.parent),$root:e=>ko(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Zo(e),$forceUpdate:e=>e.f||(e.f=()=>{Yo(e.update)}),$nextTick:e=>e.n||(e.n=rn.bind(e.proxy)),$watch:e=>Yu.bind(e)}),oo=(e,t)=>e!==Le&&!e.__isScriptSetup&&De(e,t),Tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:a,props:i,accessCache:r,type:l,appContext:c}=e;let f;if(t[0]!=="$"){const g=r[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(oo(o,t))return r[t]=1,o[t];if(a!==Le&&De(a,t))return r[t]=2,a[t];if((f=e.propsOptions[0])&&De(f,t))return r[t]=3,i[t];if(n!==Le&&De(n,t))return r[t]=4,n[t];Co&&(r[t]=0)}}const p=Hs[t];let u,h;if(p)return t==="$attrs"&&et(e.attrs,"get",""),p(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(n!==Le&&De(n,t))return r[t]=4,n[t];if(h=c.config.globalProperties,De(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:a,ctx:i}=e;return oo(a,t)?(a[t]=n,!0):o!==Le&&De(o,t)?(o[t]=n,!0):De(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:i,type:r}},l){let c,f;return!!(n[l]||e!==Le&&l[0]!=="$"&&De(e,l)||oo(t,l)||(c=i[0])&&De(c,l)||De(o,l)||De(Hs,l)||De(a.config.globalProperties,l)||(f=r.__cssModules)&&f[l])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:De(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ka(e){return ke(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Co=!0;function Au(e){const t=Zo(e),n=e.proxy,o=e.ctx;Co=!1,t.beforeCreate&&Ca(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:r,watch:l,provide:c,inject:f,created:p,beforeMount:u,mounted:h,beforeUpdate:g,updated:M,activated:R,deactivated:F,beforeDestroy:q,beforeUnmount:K,destroyed:H,unmounted:z,render:j,renderTracked:S,renderTriggered:J,errorCaptured:b,serverPrefetch:_,expose:B,inheritAttrs:N,components:P,directives:x,filters:E}=t;if(f&&Eu(f,o,null),r)for(const w in r){const Q=r[w];Pe(Q)&&(o[w]=Q.bind(n))}if(a){const w=a.call(n,n);Fe(w)&&(e.data=it(w))}if(Co=!0,i)for(const w in i){const Q=i[w],ue=Pe(Q)?Q.bind(n,n):Pe(Q.get)?Q.get.bind(n,n):wt,X=!Pe(Q)&&Pe(Q.set)?Q.set.bind(n):wt,ce=_e({get:ue,set:X});Object.defineProperty(o,w,{enumerable:!0,configurable:!0,get:()=>ce.value,set:Ce=>ce.value=Ce})}if(l)for(const w in l)_i(l[w],o,n,w);if(c){const w=Pe(c)?c.call(n):c;Reflect.ownKeys(w).forEach(Q=>{$n(Q,w[Q])})}p&&Ca(p,e,"c");function W(w,Q){ke(Q)?Q.forEach(ue=>w(ue.bind(n))):Q&&w(Q.bind(n))}if(W(bu,u),W(je,h),W($u,g),W(pi,M),W(hu,R),W(yu,F),W(Su,b),W(Cu,S),W(ku,J),W(gi,K),W(Jo,z),W(wu,_),ke(B))if(B.length){const w=e.exposed||(e.exposed={});B.forEach(Q=>{Object.defineProperty(w,Q,{get:()=>n[Q],set:ue=>n[Q]=ue,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===wt&&(e.render=j),N!=null&&(e.inheritAttrs=N),P&&(e.components=P),x&&(e.directives=x),_&&vi(e)}function Eu(e,t,n=wt){ke(e)&&(e=So(e));for(const o in e){const a=e[o];let i;Fe(a)?"default"in a?i=yt(a.from||o,a.default,!0):i=yt(a.from||o):i=yt(a),He(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:r=>i.value=r}):t[o]=i}}function Ca(e,t,n){St(ke(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function _i(e,t,n,o){let a=o.includes(".")?Ii(n,o):()=>n[o];if(qe(e)){const i=t[e];Pe(i)&&Ye(a,i)}else if(Pe(e))Ye(a,e.bind(n));else if(Fe(e))if(ke(e))e.forEach(i=>_i(i,t,n,o));else{const i=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(i)&&Ye(a,i,e)}}function Zo(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:r}}=e.appContext,l=i.get(t);let c;return l?c=l:!a.length&&!n&&!o?c=t:(c={},a.length&&a.forEach(f=>Dn(c,f,r,!0)),Dn(c,t,r)),Fe(t)&&i.set(t,c),c}function Dn(e,t,n,o=!1){const{mixins:a,extends:i}=t;i&&Dn(e,i,n,!0),a&&a.forEach(r=>Dn(e,r,n,!0));for(const r in t)if(!(o&&r==="expose")){const l=Iu[r]||n&&n[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const Iu={data:Sa,props:xa,emits:xa,methods:Ls,computed:Ls,beforeCreate:st,created:st,beforeMount:st,mounted:st,beforeUpdate:st,updated:st,beforeDestroy:st,beforeUnmount:st,destroyed:st,unmounted:st,activated:st,deactivated:st,errorCaptured:st,serverPrefetch:st,components:Ls,directives:Ls,watch:Du,provide:Sa,inject:Mu};function Sa(e,t){return t?e?function(){return Be(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function Mu(e,t){return Ls(So(e),So(t))}function So(e){if(ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function st(e,t){return e?[...new Set([].concat(e,t))]:t}function Ls(e,t){return e?Be(Object.create(null),e,t):t}function xa(e,t){return e?ke(e)&&ke(t)?[...new Set([...e,...t])]:Be(Object.create(null),ka(e),ka(t??{})):t}function Du(e,t){if(!e)return t;if(!t)return e;const n=Be(Object.create(null),e);for(const o in t)n[o]=st(e[o],t[o]);return n}function bi(){return{app:null,config:{isNativeTag:wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vu=0;function Ru(e,t){return function(o,a=null){Pe(o)||(o=Be({},o)),a!=null&&!Fe(a)&&(a=null);const i=bi(),r=new WeakSet,l=[];let c=!1;const f=i.app={_uid:Vu++,_component:o,_props:a,_container:null,_context:i,_instance:null,version:hc,get config(){return i.config},set config(p){},use(p,...u){return r.has(p)||(p&&Pe(p.install)?(r.add(p),p.install(f,...u)):Pe(p)&&(r.add(p),p(f,...u))),f},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),f},component(p,u){return u?(i.components[p]=u,f):i.components[p]},directive(p,u){return u?(i.directives[p]=u,f):i.directives[p]},mount(p,u,h){if(!c){const g=f._ceVNode||pe(o,a);return g.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(g,p):e(g,p,h),c=!0,f._container=p,p.__vue_app__=f,Gn(g.component)}},onUnmount(p){l.push(p)},unmount(){c&&(St(l,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(p,u){return i.provides[p]=u,f},runWithContext(p){const u=hs;hs=f;try{return p()}finally{hs=u}}};return f}}let hs=null;function $n(e,t){if(tt){let n=tt.provides;const o=tt.parent&&tt.parent.provides;o===n&&(n=tt.provides=Object.create(o)),n[e]=t}}function yt(e,t,n=!1){const o=un();if(o||hs){let a=hs?hs._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Pe(t)?t.call(o&&o.proxy):t}}function Uu(){return!!(un()||hs)}const $i={},wi=()=>Object.create($i),ki=e=>Object.getPrototypeOf(e)===$i;function Lu(e,t,n,o=!1){const a={},i=wi();e.propsDefaults=Object.create(null),Ci(e,t,a,i);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:Wl(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function Fu(e,t,n,o){const{props:a,attrs:i,vnode:{patchFlag:r}}=e,l=Ee(a),[c]=e.propsOptions;let f=!1;if((o||r>0)&&!(r&16)){if(r&8){const p=e.vnode.dynamicProps;for(let u=0;u<p.length;u++){let h=p[u];if(Kn(e.emitsOptions,h))continue;const g=t[h];if(c)if(De(i,h))g!==i[h]&&(i[h]=g,f=!0);else{const M=bt(h);a[M]=xo(c,l,M,g,e,!1)}else g!==i[h]&&(i[h]=g,f=!0)}}}else{Ci(e,t,a,i)&&(f=!0);let p;for(const u in l)(!t||!De(t,u)&&((p=rs(u))===u||!De(t,p)))&&(c?n&&(n[u]!==void 0||n[p]!==void 0)&&(a[u]=xo(c,l,u,void 0,e,!0)):delete a[u]);if(i!==l)for(const u in i)(!t||!De(t,u))&&(delete i[u],f=!0)}f&&Nt(e.attrs,"set","")}function Ci(e,t,n,o){const[a,i]=e.propsOptions;let r=!1,l;if(t)for(let c in t){if(Fs(c))continue;const f=t[c];let p;a&&De(a,p=bt(c))?!i||!i.includes(p)?n[p]=f:(l||(l={}))[p]=f:Kn(e.emitsOptions,c)||(!(c in o)||f!==o[c])&&(o[c]=f,r=!0)}if(i){const c=Ee(n),f=l||Le;for(let p=0;p<i.length;p++){const u=i[p];n[u]=xo(a,c,u,f[u],e,!De(f,u))}}return r}function xo(e,t,n,o,a,i){const r=e[n];if(r!=null){const l=De(r,"default");if(l&&o===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&Pe(c)){const{propsDefaults:f}=a;if(n in f)o=f[n];else{const p=cn(a);o=f[n]=c.call(null,t),p()}}else o=c;a.ce&&a.ce._setProp(n,o)}r[0]&&(i&&!l?o=!1:r[1]&&(o===""||o===rs(n))&&(o=!0))}return o}const Ou=new WeakMap;function Si(e,t,n=!1){const o=n?Ou:t.propsCache,a=o.get(e);if(a)return a;const i=e.props,r={},l=[];let c=!1;if(!Pe(e)){const p=u=>{c=!0;const[h,g]=Si(u,t,!0);Be(r,h),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!i&&!c)return Fe(e)&&o.set(e,Cs),Cs;if(ke(i))for(let p=0;p<i.length;p++){const u=bt(i[p]);Pa(u)&&(r[u]=Le)}else if(i)for(const p in i){const u=bt(p);if(Pa(u)){const h=i[p],g=r[u]=ke(h)||Pe(h)?{type:h}:Be({},h),M=g.type;let R=!1,F=!0;if(ke(M))for(let q=0;q<M.length;++q){const K=M[q],H=Pe(K)&&K.name;if(H==="Boolean"){R=!0;break}else H==="String"&&(F=!1)}else R=Pe(M)&&M.name==="Boolean";g[0]=R,g[1]=F,(R||De(g,"default"))&&l.push(u)}}const f=[r,l];return Fe(e)&&o.set(e,f),f}function Pa(e){return e[0]!=="$"&&!Fs(e)}const Xo=e=>e==="_"||e==="_ctx"||e==="$stable",ea=e=>ke(e)?e.map(Mt):[Mt(e)],zu=(e,t,n)=>{if(t._n)return t;const o=Se((...a)=>ea(t(...a)),n);return o._c=!1,o},xi=(e,t,n)=>{const o=e._ctx;for(const a in e){if(Xo(a))continue;const i=e[a];if(Pe(i))t[a]=zu(a,i,o);else if(i!=null){const r=ea(i);t[a]=()=>r}}},Pi=(e,t)=>{const n=ea(t);e.slots.default=()=>n},Ti=(e,t,n)=>{for(const o in t)(n||!Xo(o))&&(e[o]=t[o])},Nu=(e,t,n)=>{const o=e.slots=wi();if(e.vnode.shapeFlag&32){const a=t._;a?(Ti(o,t,n),n&&xl(o,"_",a,!0)):xi(t,o)}else t&&Pi(e,t)},ju=(e,t,n)=>{const{vnode:o,slots:a}=e;let i=!0,r=Le;if(o.shapeFlag&32){const l=t._;l?n&&l===1?i=!1:Ti(a,t,n):(i=!t.$stable,xi(t,a)),r=t}else t&&(Pi(e,t),r={default:1});if(i)for(const l in a)!Xo(l)&&r[l]==null&&delete a[l]},nt=nc;function qu(e){return Hu(e)}function Hu(e,t){const n=Nn();n.__VUE__=!0;const{insert:o,remove:a,patchProp:i,createElement:r,createText:l,createComment:c,setText:f,setElementText:p,parentNode:u,nextSibling:h,setScopeId:g=wt,insertStaticContent:M}=e,R=(T,V,G,le=null,te=null,L=null,$=void 0,ne=null,Y=!!V.dynamicChildren)=>{if(T===V)return;T&&!gs(T,V)&&(le=U(T),Ce(T,te,L,!0),T=null),V.patchFlag===-2&&(Y=!1,V.dynamicChildren=null);const{type:O,ref:ye,shapeFlag:me}=V;switch(O){case Wn:F(T,V,G,le);break;case lt:q(T,V,G,le);break;case wn:T==null&&K(V,G,le,$);break;case se:P(T,V,G,le,te,L,$,ne,Y);break;default:me&1?j(T,V,G,le,te,L,$,ne,Y):me&6?x(T,V,G,le,te,L,$,ne,Y):(me&64||me&128)&&O.process(T,V,G,le,te,L,$,ne,Y,be)}ye!=null&&te?js(ye,T&&T.ref,L,V||T,!V):ye==null&&T&&T.ref!=null&&js(T.ref,null,L,T,!0)},F=(T,V,G,le)=>{if(T==null)o(V.el=l(V.children),G,le);else{const te=V.el=T.el;V.children!==T.children&&f(te,V.children)}},q=(T,V,G,le)=>{T==null?o(V.el=c(V.children||""),G,le):V.el=T.el},K=(T,V,G,le)=>{[T.el,T.anchor]=M(T.children,V,G,le,T.el,T.anchor)},H=({el:T,anchor:V},G,le)=>{let te;for(;T&&T!==V;)te=h(T),o(T,G,le),T=te;o(V,G,le)},z=({el:T,anchor:V})=>{let G;for(;T&&T!==V;)G=h(T),a(T),T=G;a(V)},j=(T,V,G,le,te,L,$,ne,Y)=>{V.type==="svg"?$="svg":V.type==="math"&&($="mathml"),T==null?S(V,G,le,te,L,$,ne,Y):_(T,V,te,L,$,ne,Y)},S=(T,V,G,le,te,L,$,ne)=>{let Y,O;const{props:ye,shapeFlag:me,transition:we,dirs:xe}=T;if(Y=T.el=r(T.type,L,ye&&ye.is,ye),me&8?p(Y,T.children):me&16&&b(T.children,Y,null,le,te,ao(T,L),$,ne),xe&&us(T,null,le,"created"),J(Y,T,T.scopeId,$,le),ye){for(const Oe in ye)Oe!=="value"&&!Fs(Oe)&&i(Y,Oe,null,ye[Oe],L,le);"value"in ye&&i(Y,"value",null,ye.value,L),(O=ye.onVnodeBeforeMount)&&At(O,le,T)}xe&&us(T,null,le,"beforeMount");const Ae=Bu(te,we);Ae&&we.beforeEnter(Y),o(Y,V,G),((O=ye&&ye.onVnodeMounted)||Ae||xe)&&nt(()=>{O&&At(O,le,T),Ae&&we.enter(Y),xe&&us(T,null,le,"mounted")},te)},J=(T,V,G,le,te)=>{if(G&&g(T,G),le)for(let L=0;L<le.length;L++)g(T,le[L]);if(te){let L=te.subTree;if(V===L||Di(L.type)&&(L.ssContent===V||L.ssFallback===V)){const $=te.vnode;J(T,$,$.scopeId,$.slotScopeIds,te.parent)}}},b=(T,V,G,le,te,L,$,ne,Y=0)=>{for(let O=Y;O<T.length;O++){const ye=T[O]=ne?Xt(T[O]):Mt(T[O]);R(null,ye,V,G,le,te,L,$,ne)}},_=(T,V,G,le,te,L,$)=>{const ne=V.el=T.el;let{patchFlag:Y,dynamicChildren:O,dirs:ye}=V;Y|=T.patchFlag&16;const me=T.props||Le,we=V.props||Le;let xe;if(G&&cs(G,!1),(xe=we.onVnodeBeforeUpdate)&&At(xe,G,V,T),ye&&us(V,T,G,"beforeUpdate"),G&&cs(G,!0),(me.innerHTML&&we.innerHTML==null||me.textContent&&we.textContent==null)&&p(ne,""),O?B(T.dynamicChildren,O,ne,G,le,ao(V,te),L):$||Q(T,V,ne,null,G,le,ao(V,te),L,!1),Y>0){if(Y&16)N(ne,me,we,G,te);else if(Y&2&&me.class!==we.class&&i(ne,"class",null,we.class,te),Y&4&&i(ne,"style",me.style,we.style,te),Y&8){const Ae=V.dynamicProps;for(let Oe=0;Oe<Ae.length;Oe++){const Re=Ae[Oe],ut=me[Re],Ze=we[Re];(Ze!==ut||Re==="value")&&i(ne,Re,ut,Ze,te,G)}}Y&1&&T.children!==V.children&&p(ne,V.children)}else!$&&O==null&&N(ne,me,we,G,te);((xe=we.onVnodeUpdated)||ye)&&nt(()=>{xe&&At(xe,G,V,T),ye&&us(V,T,G,"updated")},le)},B=(T,V,G,le,te,L,$)=>{for(let ne=0;ne<V.length;ne++){const Y=T[ne],O=V[ne],ye=Y.el&&(Y.type===se||!gs(Y,O)||Y.shapeFlag&198)?u(Y.el):G;R(Y,O,ye,null,le,te,L,$,!0)}},N=(T,V,G,le,te)=>{if(V!==G){if(V!==Le)for(const L in V)!Fs(L)&&!(L in G)&&i(T,L,V[L],null,te,le);for(const L in G){if(Fs(L))continue;const $=G[L],ne=V[L];$!==ne&&L!=="value"&&i(T,L,ne,$,te,le)}"value"in G&&i(T,"value",V.value,G.value,te)}},P=(T,V,G,le,te,L,$,ne,Y)=>{const O=V.el=T?T.el:l(""),ye=V.anchor=T?T.anchor:l("");let{patchFlag:me,dynamicChildren:we,slotScopeIds:xe}=V;xe&&(ne=ne?ne.concat(xe):xe),T==null?(o(O,G,le),o(ye,G,le),b(V.children||[],G,ye,te,L,$,ne,Y)):me>0&&me&64&&we&&T.dynamicChildren?(B(T.dynamicChildren,we,G,te,L,$,ne),(V.key!=null||te&&V===te.subTree)&&ta(T,V,!0)):Q(T,V,G,ye,te,L,$,ne,Y)},x=(T,V,G,le,te,L,$,ne,Y)=>{V.slotScopeIds=ne,T==null?V.shapeFlag&512?te.ctx.activate(V,G,le,$,Y):E(V,G,le,te,L,$,Y):C(T,V,Y)},E=(T,V,G,le,te,L,$)=>{const ne=T.component=cc(T,le,te);if(Hn(T)&&(ne.ctx.renderer=be),dc(ne,!1,$),ne.asyncDep){if(te&&te.registerDep(ne,W,$),!T.el){const Y=ne.subTree=pe(lt);q(null,Y,V,G),T.placeholder=Y.el}}else W(ne,T,V,G,te,L,$)},C=(T,V,G)=>{const le=V.component=T.component;if(tc(T,V,G))if(le.asyncDep&&!le.asyncResolved){w(le,V,G);return}else le.next=V,le.update();else V.el=T.el,le.vnode=V},W=(T,V,G,le,te,L,$)=>{const ne=()=>{if(T.isMounted){let{next:me,bu:we,u:xe,parent:Ae,vnode:Oe}=T;{const vt=Ai(T);if(vt){me&&(me.el=Oe.el,w(T,me,$)),vt.asyncDep.then(()=>{T.isUnmounted||ne()});return}}let Re=me,ut;cs(T,!1),me?(me.el=Oe.el,w(T,me,$)):me=Oe,we&&_n(we),(ut=me.props&&me.props.onVnodeBeforeUpdate)&&At(ut,Ae,me,Oe),cs(T,!0);const Ze=lo(T),$t=T.subTree;T.subTree=Ze,R($t,Ze,u($t.el),U($t),T,te,L),me.el=Ze.el,Re===null&&sc(T,Ze.el),xe&&nt(xe,te),(ut=me.props&&me.props.onVnodeUpdated)&&nt(()=>At(ut,Ae,me,Oe),te)}else{let me;const{el:we,props:xe}=V,{bm:Ae,m:Oe,parent:Re,root:ut,type:Ze}=T,$t=qs(V);if(cs(T,!1),Ae&&_n(Ae),!$t&&(me=xe&&xe.onVnodeBeforeMount)&&At(me,Re,V),cs(T,!0),we&&Ve){const vt=()=>{T.subTree=lo(T),Ve(we,T.subTree,T,te,null)};$t&&Ze.__asyncHydrate?Ze.__asyncHydrate(we,T,vt):vt()}else{ut.ce&&ut.ce._def.shadowRoot!==!1&&ut.ce._injectChildStyle(Ze);const vt=T.subTree=lo(T);R(null,vt,G,le,T,te,L),V.el=vt.el}if(Oe&&nt(Oe,te),!$t&&(me=xe&&xe.onVnodeMounted)){const vt=V;nt(()=>At(me,Re,vt),te)}(V.shapeFlag&256||Re&&qs(Re.vnode)&&Re.vnode.shapeFlag&256)&&T.a&&nt(T.a,te),T.isMounted=!0,V=G=le=null}};T.scope.on();const Y=T.effect=new Dl(ne);T.scope.off();const O=T.update=Y.run.bind(Y),ye=T.job=Y.runIfDirty.bind(Y);ye.i=T,ye.id=T.uid,Y.scheduler=()=>Yo(ye),cs(T,!0),O()},w=(T,V,G)=>{V.component=T;const le=T.vnode.props;T.vnode=V,T.next=null,Fu(T,V.props,le,G),ju(T,V.children,G),Ht(),ma(T),Bt()},Q=(T,V,G,le,te,L,$,ne,Y=!1)=>{const O=T&&T.children,ye=T?T.shapeFlag:0,me=V.children,{patchFlag:we,shapeFlag:xe}=V;if(we>0){if(we&128){X(O,me,G,le,te,L,$,ne,Y);return}else if(we&256){ue(O,me,G,le,te,L,$,ne,Y);return}}xe&8?(ye&16&&k(O,te,L),me!==O&&p(G,me)):ye&16?xe&16?X(O,me,G,le,te,L,$,ne,Y):k(O,te,L,!0):(ye&8&&p(G,""),xe&16&&b(me,G,le,te,L,$,ne,Y))},ue=(T,V,G,le,te,L,$,ne,Y)=>{T=T||Cs,V=V||Cs;const O=T.length,ye=V.length,me=Math.min(O,ye);let we;for(we=0;we<me;we++){const xe=V[we]=Y?Xt(V[we]):Mt(V[we]);R(T[we],xe,G,null,te,L,$,ne,Y)}O>ye?k(T,te,L,!0,!1,me):b(V,G,le,te,L,$,ne,Y,me)},X=(T,V,G,le,te,L,$,ne,Y)=>{let O=0;const ye=V.length;let me=T.length-1,we=ye-1;for(;O<=me&&O<=we;){const xe=T[O],Ae=V[O]=Y?Xt(V[O]):Mt(V[O]);if(gs(xe,Ae))R(xe,Ae,G,null,te,L,$,ne,Y);else break;O++}for(;O<=me&&O<=we;){const xe=T[me],Ae=V[we]=Y?Xt(V[we]):Mt(V[we]);if(gs(xe,Ae))R(xe,Ae,G,null,te,L,$,ne,Y);else break;me--,we--}if(O>me){if(O<=we){const xe=we+1,Ae=xe<ye?V[xe].el:le;for(;O<=we;)R(null,V[O]=Y?Xt(V[O]):Mt(V[O]),G,Ae,te,L,$,ne,Y),O++}}else if(O>we)for(;O<=me;)Ce(T[O],te,L,!0),O++;else{const xe=O,Ae=O,Oe=new Map;for(O=Ae;O<=we;O++){const ft=V[O]=Y?Xt(V[O]):Mt(V[O]);ft.key!=null&&Oe.set(ft.key,O)}let Re,ut=0;const Ze=we-Ae+1;let $t=!1,vt=0;const Ms=new Array(Ze);for(O=0;O<Ze;O++)Ms[O]=0;for(O=xe;O<=me;O++){const ft=T[O];if(ut>=Ze){Ce(ft,te,L,!0);continue}let Tt;if(ft.key!=null)Tt=Oe.get(ft.key);else for(Re=Ae;Re<=we;Re++)if(Ms[Re-Ae]===0&&gs(ft,V[Re])){Tt=Re;break}Tt===void 0?Ce(ft,te,L,!0):(Ms[Tt-Ae]=O+1,Tt>=vt?vt=Tt:$t=!0,R(ft,V[Tt],G,null,te,L,$,ne,Y),ut++)}const ua=$t?Ku(Ms):Cs;for(Re=ua.length-1,O=Ze-1;O>=0;O--){const ft=Ae+O,Tt=V[ft],ca=V[ft+1],da=ft+1<ye?ca.el||ca.placeholder:le;Ms[O]===0?R(null,Tt,G,da,te,L,$,ne,Y):$t&&(Re<0||O!==ua[Re]?ce(Tt,G,da,2):Re--)}}},ce=(T,V,G,le,te=null)=>{const{el:L,type:$,transition:ne,children:Y,shapeFlag:O}=T;if(O&6){ce(T.component.subTree,V,G,le);return}if(O&128){T.suspense.move(V,G,le);return}if(O&64){$.move(T,V,G,be);return}if($===se){o(L,V,G);for(let me=0;me<Y.length;me++)ce(Y[me],V,G,le);o(T.anchor,V,G);return}if($===wn){H(T,V,G);return}if(le!==2&&O&1&&ne)if(le===0)ne.beforeEnter(L),o(L,V,G),nt(()=>ne.enter(L),te);else{const{leave:me,delayLeave:we,afterLeave:xe}=ne,Ae=()=>{T.ctx.isUnmounted?a(L):o(L,V,G)},Oe=()=>{L._isLeaving&&L[zt](!0),me(L,()=>{Ae(),xe&&xe()})};we?we(L,Ae,Oe):Oe()}else o(L,V,G)},Ce=(T,V,G,le=!1,te=!1)=>{const{type:L,props:$,ref:ne,children:Y,dynamicChildren:O,shapeFlag:ye,patchFlag:me,dirs:we,cacheIndex:xe}=T;if(me===-2&&(te=!1),ne!=null&&(Ht(),js(ne,null,G,T,!0),Bt()),xe!=null&&(V.renderCache[xe]=void 0),ye&256){V.ctx.deactivate(T);return}const Ae=ye&1&&we,Oe=!qs(T);let Re;if(Oe&&(Re=$&&$.onVnodeBeforeUnmount)&&At(Re,V,T),ye&6)ee(T.component,G,le);else{if(ye&128){T.suspense.unmount(G,le);return}Ae&&us(T,null,V,"beforeUnmount"),ye&64?T.type.remove(T,V,G,be,le):O&&!O.hasOnce&&(L!==se||me>0&&me&64)?k(O,V,G,!1,!0):(L===se&&me&384||!te&&ye&16)&&k(Y,V,G),le&&A(T)}(Oe&&(Re=$&&$.onVnodeUnmounted)||Ae)&&nt(()=>{Re&&At(Re,V,T),Ae&&us(T,null,V,"unmounted")},G)},A=T=>{const{type:V,el:G,anchor:le,transition:te}=T;if(V===se){m(G,le);return}if(V===wn){z(T);return}const L=()=>{a(G),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(T.shapeFlag&1&&te&&!te.persisted){const{leave:$,delayLeave:ne}=te,Y=()=>$(G,L);ne?ne(T.el,L,Y):Y()}else L()},m=(T,V)=>{let G;for(;T!==V;)G=h(T),a(T),T=G;a(V)},ee=(T,V,G)=>{const{bum:le,scope:te,job:L,subTree:$,um:ne,m:Y,a:O}=T;Ta(Y),Ta(O),le&&_n(le),te.stop(),L&&(L.flags|=8,Ce($,T,V,G)),ne&&nt(ne,V),nt(()=>{T.isUnmounted=!0},V)},k=(T,V,G,le=!1,te=!1,L=0)=>{for(let $=L;$<T.length;$++)Ce(T[$],V,G,le,te)},U=T=>{if(T.shapeFlag&6)return U(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const V=h(T.anchor||T.el),G=V&&V[si];return G?h(G):V};let ie=!1;const re=(T,V,G)=>{T==null?V._vnode&&Ce(V._vnode,null,null,!0):R(V._vnode||null,T,V,null,null,null,G),V._vnode=T,ie||(ie=!0,ma(),Xl(),ie=!1)},be={p:R,um:Ce,m:ce,r:A,mt:E,mc:b,pc:Q,pbc:B,n:U,o:e};let Te,Ve;return t&&([Te,Ve]=t(be)),{render:re,hydrate:Te,createApp:Ru(re,Te)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function cs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ta(e,t,n=!1){const o=e.children,a=t.children;if(ke(o)&&ke(a))for(let i=0;i<o.length;i++){const r=o[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Xt(a[i]),l.el=r.el),!n&&l.patchFlag!==-2&&ta(r,l)),l.type===Wn&&l.patchFlag!==-1&&(l.el=r.el),l.type===lt&&!l.el&&(l.el=r.el)}}function Ku(e){const t=e.slice(),n=[0];let o,a,i,r,l;const c=e.length;for(o=0;o<c;o++){const f=e[o];if(f!==0){if(a=n[n.length-1],e[a]<f){t[o]=a,n.push(o);continue}for(i=0,r=n.length-1;i<r;)l=i+r>>1,e[n[l]]<f?i=l+1:r=l;f<e[n[i]]&&(i>0&&(t[o]=n[i-1]),n[i]=o)}}for(i=n.length,r=n[i-1];i-- >0;)n[i]=r,r=t[r];return n}function Ai(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ai(t)}function Ta(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Wu=Symbol.for("v-scx"),Gu=()=>yt(Wu);function Ye(e,t,n){return Ei(e,t,n)}function Ei(e,t,n=Le){const{immediate:o,deep:a,flush:i,once:r}=n,l=Be({},n),c=t&&o||!t&&i!=="post";let f;if(sn){if(i==="sync"){const g=Gu();f=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=wt,g.resume=wt,g.pause=wt,g}}const p=tt;l.call=(g,M,R)=>St(g,p,M,R);let u=!1;i==="post"?l.scheduler=g=>{nt(g,p&&p.suspense)}:i!=="sync"&&(u=!0,l.scheduler=(g,M)=>{M?g():Yo(g)}),l.augmentJob=g=>{t&&(g.flags|=4),u&&(g.flags|=2,p&&(g.id=p.uid,g.i=p))};const h=cu(e,t,l);return sn&&(f?f.push(h):c&&h()),h}function Yu(e,t,n){const o=this.proxy,a=qe(e)?e.includes(".")?Ii(o,e):()=>o[e]:e.bind(o,o);let i;Pe(t)?i=t:(i=t.handler,n=t);const r=cn(this),l=Ei(a,i.bind(o),n);return r(),l}function Ii(e,t){const n=t.split(".");return()=>{let o=e;for(let a=0;a<n.length&&o;a++)o=o[n[a]];return o}}const Qu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bt(t)}Modifiers`]||e[`${rs(t)}Modifiers`];function Ju(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Le;let a=n;const i=t.startsWith("update:"),r=i&&Qu(o,t.slice(7));r&&(r.trim&&(a=n.map(p=>qe(p)?p.trim():p)),r.number&&(a=n.map(xn)));let l,c=o[l=Zn(t)]||o[l=Zn(bt(t))];!c&&i&&(c=o[l=Zn(rs(t))]),c&&St(c,e,6,a);const f=o[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,St(f,e,6,a)}}const Zu=new WeakMap;function Mi(e,t,n=!1){const o=n?Zu:t.emitsCache,a=o.get(e);if(a!==void 0)return a;const i=e.emits;let r={},l=!1;if(!Pe(e)){const c=f=>{const p=Mi(f,t,!0);p&&(l=!0,Be(r,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(Fe(e)&&o.set(e,null),null):(ke(i)?i.forEach(c=>r[c]=null):Be(r,i),Fe(e)&&o.set(e,r),r)}function Kn(e,t){return!e||!Fn(t)?!1:(t=t.slice(2).replace(/Once$/,""),De(e,t[0].toLowerCase()+t.slice(1))||De(e,rs(t))||De(e,t))}function lo(e){const{type:t,vnode:n,proxy:o,withProxy:a,propsOptions:[i],slots:r,attrs:l,emit:c,render:f,renderCache:p,props:u,data:h,setupState:g,ctx:M,inheritAttrs:R}=e,F=In(e);let q,K;try{if(n.shapeFlag&4){const z=a||o,j=z;q=Mt(f.call(j,z,p,u,g,h,M)),K=l}else{const z=t;q=Mt(z.length>1?z(u,{attrs:l,slots:r,emit:c}):z(u,null)),K=t.props?l:Xu(l)}}catch(z){Bs.length=0,qn(z,e,1),q=pe(lt)}let H=q;if(K&&R!==!1){const z=Object.keys(K),{shapeFlag:j}=H;z.length&&j&7&&(i&&z.some(Lo)&&(K=ec(K,i)),H=as(H,K,!1,!0))}return n.dirs&&(H=as(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&_s(H,n.transition),q=H,In(F),q}const Xu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Fn(n))&&((t||(t={}))[n]=e[n]);return t},ec=(e,t)=>{const n={};for(const o in e)(!Lo(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function tc(e,t,n){const{props:o,children:a,component:i}=e,{props:r,children:l,patchFlag:c}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return o?Aa(o,r,f):!!r;if(c&8){const p=t.dynamicProps;for(let u=0;u<p.length;u++){const h=p[u];if(r[h]!==o[h]&&!Kn(f,h))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:o===r?!1:o?r?Aa(o,r,f):!0:!!r;return!1}function Aa(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const i=o[a];if(t[i]!==e[i]&&!Kn(n,i))return!0}return!1}function sc({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Di=e=>e.__isSuspense;function nc(e,t){t&&t.pendingBranch?ke(e)?t.effects.push(...e):t.effects.push(e):fu(e)}const se=Symbol.for("v-fgt"),Wn=Symbol.for("v-txt"),lt=Symbol.for("v-cmt"),wn=Symbol.for("v-stc"),Bs=[];let gt=null;function d(e=!1){Bs.push(gt=e?null:[])}function oc(){Bs.pop(),gt=Bs[Bs.length-1]||null}let tn=1;function Vn(e,t=!1){tn+=e,e<0&&gt&&t&&(gt.hasOnce=!0)}function Vi(e){return e.dynamicChildren=tn>0?gt||Cs:null,oc(),tn>0&&gt&&gt.push(e),e}function v(e,t,n,o,a,i){return Vi(s(e,t,n,o,a,i,!0))}function rt(e,t,n,o,a){return Vi(pe(e,t,n,o,a,!0))}function Rn(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Ri=({key:e})=>e??null,kn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qe(e)||He(e)||Pe(e)?{i:pt,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,o=0,a=null,i=e===se?0:1,r=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ri(t),ref:t&&kn(t),scopeId:ti,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:pt};return l?(sa(c,n),i&128&&e.normalize(c)):n&&(c.shapeFlag|=qe(n)?8:16),tn>0&&!r&&gt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&gt.push(c),c}const pe=ac;function ac(e,t=null,n=null,o=0,a=null,i=!1){if((!e||e===Pu)&&(e=lt),Rn(e)){const l=as(e,t,!0);return n&&sa(l,n),tn>0&&!i&&gt&&(l.shapeFlag&6?gt[gt.indexOf(e)]=l:gt.push(l)),l.patchFlag=-2,l}if(mc(e)&&(e=e.__vccOpts),t){t=lc(t);let{class:l,style:c}=t;l&&!qe(l)&&(t.class=fe(l)),Fe(c)&&(Wo(c)&&!ke(c)&&(c=Be({},c)),t.style=Rt(c))}const r=qe(e)?1:Di(e)?128:ni(e)?64:Fe(e)?4:Pe(e)?2:0;return s(e,t,n,o,a,r,i,!0)}function lc(e){return e?Wo(e)||ki(e)?Be({},e):e:null}function as(e,t,n=!1,o=!1){const{props:a,ref:i,patchFlag:r,children:l,transition:c}=e,f=t?ic(a||{},t):a,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Ri(f),ref:t&&t.ref?n&&i?ke(i)?i.concat(kn(t)):[i,kn(t)]:kn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&as(e.ssContent),ssFallback:e.ssFallback&&as(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&_s(p,c.clone(p)),p}function oe(e=" ",t=0){return pe(Wn,null,e,t)}function Kt(e,t){const n=pe(wn,null,e);return n.staticCount=t,n}function D(e="",t=!1){return t?(d(),rt(lt,null,e)):pe(lt,null,e)}function Mt(e){return e==null||typeof e=="boolean"?pe(lt):ke(e)?pe(se,null,e.slice()):Rn(e)?Xt(e):pe(Wn,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:as(e)}function sa(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ke(t))n=16;else if(typeof t=="object")if(o&65){const a=t.default;a&&(a._c&&(a._d=!1),sa(e,a()),a._c&&(a._d=!0));return}else{n=32;const a=t._;!a&&!ki(t)?t._ctx=pt:a===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:pt},n=32):(t=String(t),o&64?(n=16,t=[oe(t)]):n=8);e.children=t,e.shapeFlag|=n}function ic(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const a in o)if(a==="class")t.class!==o.class&&(t.class=fe([t.class,o.class]));else if(a==="style")t.style=Rt([t.style,o.style]);else if(Fn(a)){const i=t[a],r=o[a];r&&i!==r&&!(ke(i)&&i.includes(r))&&(t[a]=i?[].concat(i,r):r)}else a!==""&&(t[a]=o[a])}return t}function At(e,t,n,o=null){St(e,t,7,[n,o])}const rc=bi();let uc=0;function cc(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||rc,i={uid:uc++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new El(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Si(o,a),emitsOptions:Mi(o,a),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:o.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ju.bind(null,i),e.ce&&e.ce(i),i}let tt=null;const un=()=>tt||pt;let Un,Po;{const e=Nn(),t=(n,o)=>{let a;return(a=e[n])||(a=e[n]=[]),a.push(o),i=>{a.length>1?a.forEach(r=>r(i)):a[0](i)}};Un=t("__VUE_INSTANCE_SETTERS__",n=>tt=n),Po=t("__VUE_SSR_SETTERS__",n=>sn=n)}const cn=e=>{const t=tt;return Un(e),e.scope.on(),()=>{e.scope.off(),Un(t)}},Ea=()=>{tt&&tt.scope.off(),Un(null)};function Ui(e){return e.vnode.shapeFlag&4}let sn=!1;function dc(e,t=!1,n=!1){t&&Po(t);const{props:o,children:a}=e.vnode,i=Ui(e);Lu(e,o,i,t),Nu(e,a,n||t);const r=i?vc(e,t):void 0;return t&&Po(!1),r}function vc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Tu);const{setup:o}=n;if(o){Ht();const a=e.setupContext=o.length>1?pc(e):null,i=cn(e),r=ln(o,e,0,[e.props,a]),l=kl(r);if(Bt(),i(),(l||e.sp)&&!qs(e)&&vi(e),l){if(r.then(Ea,Ea),t)return r.then(c=>{Ia(e,c,t)}).catch(c=>{qn(c,e,0)});e.asyncDep=r}else Ia(e,r,t)}else Li(e,t)}function Ia(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fe(t)&&(e.setupState=Ql(t)),Li(e,n)}let Ma;function Li(e,t,n){const o=e.type;if(!e.render){if(!t&&Ma&&!o.render){const a=o.template||Zo(e).template;if(a){const{isCustomElement:i,compilerOptions:r}=e.appContext.config,{delimiters:l,compilerOptions:c}=o,f=Be(Be({isCustomElement:i,delimiters:l},r),c);o.render=Ma(a,f)}}e.render=o.render||wt}{const a=cn(e);Ht();try{Au(e)}finally{Bt(),a()}}}const fc={get(e,t){return et(e,"get",""),e[t]}};function pc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,fc),slots:e.slots,emit:e.emit,expose:t}}function Gn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ql(Go(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Hs)return Hs[n](e)},has(t,n){return n in t||n in Hs}})):e.proxy}function gc(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function mc(e){return Pe(e)&&"__vccOpts"in e}const _e=(e,t)=>ru(e,t,sn);function na(e,t,n){const o=(i,r,l)=>{Vn(-1);try{return pe(i,r,l)}finally{Vn(1)}},a=arguments.length;return a===2?Fe(t)&&!ke(t)?Rn(t)?o(e,null,[t]):o(e,t):o(e,null,t):(a>3?n=Array.prototype.slice.call(arguments,2):a===3&&Rn(n)&&(n=[n]),o(e,t,n))}const hc="3.5.21";/**
* @vue/runtime-dom v3.5.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let To;const Da=typeof window<"u"&&window.trustedTypes;if(Da)try{To=Da.createPolicy("vue",{createHTML:e=>e})}catch{}const Fi=To?e=>To.createHTML(e):e=>e,yc="http://www.w3.org/2000/svg",_c="http://www.w3.org/1998/Math/MathML",Ot=typeof document<"u"?document:null,Va=Ot&&Ot.createElement("template"),bc={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a=t==="svg"?Ot.createElementNS(yc,e):t==="mathml"?Ot.createElementNS(_c,e):n?Ot.createElement(e,{is:n}):Ot.createElement(e);return e==="select"&&o&&o.multiple!=null&&a.setAttribute("multiple",o.multiple),a},createText:e=>Ot.createTextNode(e),createComment:e=>Ot.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ot.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,i){const r=n?n.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),!(a===i||!(a=a.nextSibling)););else{Va.innerHTML=Fi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=Va.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gt="transition",Vs="animation",Ps=Symbol("_vtc"),Oi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},zi=Be({},ri,Oi),$c=e=>(e.displayName="Transition",e.props=zi,e),Ni=$c((e,{slots:t})=>na(mu,ji(e),t)),ds=(e,t=[])=>{ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ra=e=>e?ke(e)?e.some(t=>t.length>1):e.length>1:!1;function ji(e){const t={};for(const P in e)P in Oi||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:o,duration:a,enterFromClass:i=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:f=r,appearToClass:p=l,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,M=wc(a),R=M&&M[0],F=M&&M[1],{onBeforeEnter:q,onEnter:K,onEnterCancelled:H,onLeave:z,onLeaveCancelled:j,onBeforeAppear:S=q,onAppear:J=K,onAppearCancelled:b=H}=t,_=(P,x,E,C)=>{P._enterCancelled=C,Qt(P,x?p:l),Qt(P,x?f:r),E&&E()},B=(P,x)=>{P._isLeaving=!1,Qt(P,u),Qt(P,g),Qt(P,h),x&&x()},N=P=>(x,E)=>{const C=P?J:K,W=()=>_(x,P,E);ds(C,[x,W]),Ua(()=>{Qt(x,P?c:i),Et(x,P?p:l),Ra(C)||La(x,o,R,W)})};return Be(t,{onBeforeEnter(P){ds(q,[P]),Et(P,i),Et(P,r)},onBeforeAppear(P){ds(S,[P]),Et(P,c),Et(P,f)},onEnter:N(!1),onAppear:N(!0),onLeave(P,x){P._isLeaving=!0;const E=()=>B(P,x);Et(P,u),P._enterCancelled?(Et(P,h),Ao()):(Ao(),Et(P,h)),Ua(()=>{P._isLeaving&&(Qt(P,u),Et(P,g),Ra(z)||La(P,o,F,E))}),ds(z,[P,E])},onEnterCancelled(P){_(P,!1,void 0,!0),ds(H,[P])},onAppearCancelled(P){_(P,!0,void 0,!0),ds(b,[P])},onLeaveCancelled(P){B(P),ds(j,[P])}})}function wc(e){if(e==null)return null;if(Fe(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return Pr(e)}function Et(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ps]||(e[Ps]=new Set)).add(t)}function Qt(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[Ps];n&&(n.delete(t),n.size||(e[Ps]=void 0))}function Ua(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let kc=0;function La(e,t,n,o){const a=e._endId=++kc,i=()=>{a===e._endId&&o()};if(n!=null)return setTimeout(i,n);const{type:r,timeout:l,propCount:c}=qi(e,t);if(!r)return o();const f=r+"end";let p=0;const u=()=>{e.removeEventListener(f,h),i()},h=g=>{g.target===e&&++p>=c&&u()};setTimeout(()=>{p<c&&u()},l+1),e.addEventListener(f,h)}function qi(e,t){const n=window.getComputedStyle(e),o=M=>(n[M]||"").split(", "),a=o(`${Gt}Delay`),i=o(`${Gt}Duration`),r=Fa(a,i),l=o(`${Vs}Delay`),c=o(`${Vs}Duration`),f=Fa(l,c);let p=null,u=0,h=0;t===Gt?r>0&&(p=Gt,u=r,h=i.length):t===Vs?f>0&&(p=Vs,u=f,h=c.length):(u=Math.max(r,f),p=u>0?r>f?Gt:Vs:null,h=p?p===Gt?i.length:c.length:0);const g=p===Gt&&/\b(?:transform|all)(?:,|$)/.test(o(`${Gt}Property`).toString());return{type:p,timeout:u,propCount:h,hasTransform:g}}function Fa(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>Oa(n)+Oa(e[o])))}function Oa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(){return document.body.offsetHeight}function Cc(e,t,n){const o=e[Ps];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const za=Symbol("_vod"),Sc=Symbol("_vsh"),xc=Symbol(""),Pc=/(?:^|;)\s*display\s*:/;function Tc(e,t,n){const o=e.style,a=qe(n);let i=!1;if(n&&!a){if(t)if(qe(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();n[l]==null&&Cn(o,l,"")}else for(const r in t)n[r]==null&&Cn(o,r,"");for(const r in n)r==="display"&&(i=!0),Cn(o,r,n[r])}else if(a){if(t!==n){const r=o[xc];r&&(n+=";"+r),o.cssText=n,i=Pc.test(n)}}else t&&e.removeAttribute("style");za in e&&(e[za]=i?o.display:"",e[Sc]&&(o.display="none"))}const Na=/\s*!important$/;function Cn(e,t,n){if(ke(n))n.forEach(o=>Cn(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Ac(e,t);Na.test(n)?e.setProperty(rs(o),n.replace(Na,""),"important"):e[o]=n}}const ja=["Webkit","Moz","ms"],ro={};function Ac(e,t){const n=ro[t];if(n)return n;let o=bt(t);if(o!=="filter"&&o in e)return ro[t]=o;o=zn(o);for(let a=0;a<ja.length;a++){const i=ja[a]+o;if(i in e)return ro[t]=i}return t}const qa="http://www.w3.org/1999/xlink";function Ha(e,t,n,o,a,i=Dr(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qa,t.slice(6,t.length)):e.setAttributeNS(qa,t,n):n==null||i&&!Pl(n)?e.removeAttribute(t):e.setAttribute(t,i?"":Vt(n)?String(n):n)}function Ba(e,t,n,o,a){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Fi(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let r=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Pl(n):n==null&&l==="string"?(n="",r=!0):l==="number"&&(n=0,r=!0)}try{e[t]=n}catch{}r&&e.removeAttribute(a||t)}function qt(e,t,n,o){e.addEventListener(t,n,o)}function Ec(e,t,n,o){e.removeEventListener(t,n,o)}const Ka=Symbol("_vei");function Ic(e,t,n,o,a=null){const i=e[Ka]||(e[Ka]={}),r=i[t];if(o&&r)r.value=o;else{const[l,c]=Mc(t);if(o){const f=i[t]=Rc(o,a);qt(e,l,f,c)}else r&&(Ec(e,l,r,c),i[t]=void 0)}}const Wa=/(?:Once|Passive|Capture)$/;function Mc(e){let t;if(Wa.test(e)){t={};let o;for(;o=e.match(Wa);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rs(e.slice(2)),t]}let uo=0;const Dc=Promise.resolve(),Vc=()=>uo||(Dc.then(()=>uo=0),uo=Date.now());function Rc(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;St(Uc(o,n.value),t,5,[o])};return n.value=e,n.attached=Vc(),n}function Uc(e,t){if(ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>a=>!a._stopped&&o&&o(a))}else return t}const Ga=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Lc=(e,t,n,o,a,i)=>{const r=a==="svg";t==="class"?Cc(e,o,r):t==="style"?Tc(e,n,o):Fn(t)?Lo(t)||Ic(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Fc(e,t,o,r))?(Ba(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ha(e,t,o,r,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!qe(o))?Ba(e,bt(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ha(e,t,o,r))};function Fc(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ga(t)&&Pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Ga(t)&&qe(n)?!1:t in e}const Hi=new WeakMap,Bi=new WeakMap,Ln=Symbol("_moveCb"),Ya=Symbol("_enterCb"),Oc=e=>(delete e.props.mode,e),zc=Oc({name:"TransitionGroup",props:Be({},zi,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=un(),o=ii();let a,i;return pi(()=>{if(!a.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!Bc(a[0].el,n.vnode.el,r)){a=[];return}a.forEach(jc),a.forEach(qc);const l=a.filter(Hc);Ao(),l.forEach(c=>{const f=c.el,p=f.style;Et(f,r),p.transform=p.webkitTransform=p.transitionDuration="";const u=f[Ln]=h=>{h&&h.target!==f||(!h||h.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",u),f[Ln]=null,Qt(f,r))};f.addEventListener("transitionend",u)}),a=[]}),()=>{const r=Ee(e),l=ji(r);let c=r.tag||se;if(a=[],i)for(let f=0;f<i.length;f++){const p=i[f];p.el&&p.el instanceof Element&&(a.push(p),_s(p,en(p,l,o,n)),Hi.set(p,p.el.getBoundingClientRect()))}i=t.default?Qo(t.default()):[];for(let f=0;f<i.length;f++){const p=i[f];p.key!=null&&_s(p,en(p,l,o,n))}return pe(c,null,i)}}}),Nc=zc;function jc(e){const t=e.el;t[Ln]&&t[Ln](),t[Ya]&&t[Ya]()}function qc(e){Bi.set(e,e.el.getBoundingClientRect())}function Hc(e){const t=Hi.get(e),n=Bi.get(e),o=t.left-n.left,a=t.top-n.top;if(o||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${a}px)`,i.transitionDuration="0s",e}}function Bc(e,t,n){const o=e.cloneNode(),a=e[Ps];a&&a.forEach(l=>{l.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(o);const{hasTransform:r}=qi(o);return i.removeChild(o),r}const ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ke(t)?n=>_n(t,n):t};function Kc(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _t=Symbol("_assign"),ae={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[_t]=ls(a);const i=o||a.props&&a.props.type==="number";qt(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;n&&(l=l.trim()),i&&(l=xn(l)),e[_t](l)}),n&&qt(e,"change",()=>{e.value=e.value.trim()}),t||(qt(e,"compositionstart",Kc),qt(e,"compositionend",Qa),qt(e,"change",Qa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:a,number:i}},r){if(e[_t]=ls(r),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?xn(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||a&&e.value.trim()===c)||(e.value=c))}},Ks={deep:!0,created(e,t,n){e[_t]=ls(n),qt(e,"change",()=>{const o=e._modelValue,a=Ts(e),i=e.checked,r=e[_t];if(ke(o)){const l=zo(o,a),c=l!==-1;if(i&&!c)r(o.concat(a));else if(!i&&c){const f=[...o];f.splice(l,1),r(f)}}else if(Is(o)){const l=new Set(o);i?l.add(a):l.delete(a),r(l)}else r(Ki(e,i))})},mounted:Ja,beforeUpdate(e,t,n){e[_t]=ls(n),Ja(e,t,n)}};function Ja(e,{value:t,oldValue:n},o){e._modelValue=t;let a;if(ke(t))a=zo(t,o.props.value)>-1;else if(Is(t))a=t.has(o.props.value);else{if(t===n)return;a=ys(t,Ki(e,!0))}e.checked!==a&&(e.checked=a)}const Wc={created(e,{value:t},n){e.checked=ys(t,n.props.value),e[_t]=ls(n),qt(e,"change",()=>{e[_t](Ts(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e[_t]=ls(o),t!==n&&(e.checked=ys(t,o.props.value))}},Ue={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=Is(t);qt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>n?xn(Ts(r)):Ts(r));e[_t](e.multiple?a?new Set(i):i:i[0]),e._assigning=!0,rn(()=>{e._assigning=!1})}),e[_t]=ls(o)},mounted(e,{value:t}){Za(e,t)},beforeUpdate(e,t,n){e[_t]=ls(n)},updated(e,{value:t}){e._assigning||Za(e,t)}};function Za(e,t){const n=e.multiple,o=ke(t);if(!(n&&!o&&!Is(t))){for(let a=0,i=e.options.length;a<i;a++){const r=e.options[a],l=Ts(r);if(n)if(o){const c=typeof l;c==="string"||c==="number"?r.selected=t.some(f=>String(f)===String(l)):r.selected=zo(t,l)>-1}else r.selected=t.has(l);else if(ys(Ts(r),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ts(e){return"_value"in e?e._value:e.value}function Ki(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Eo={created(e,t,n){yn(e,t,n,null,"created")},mounted(e,t,n){yn(e,t,n,null,"mounted")},beforeUpdate(e,t,n,o){yn(e,t,n,o,"beforeUpdate")},updated(e,t,n,o){yn(e,t,n,o,"updated")}};function Gc(e,t){switch(e){case"SELECT":return Ue;case"TEXTAREA":return ae;default:switch(t){case"checkbox":return Ks;case"radio":return Wc;default:return ae}}}function yn(e,t,n,o,a){const r=Gc(e.tagName,n.props&&n.props.type)[a];r&&r(e,t,n,o)}const Yc=["ctrl","shift","alt","meta"],Qc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yc.some(n=>e[`${n}Key`]&&!t.includes(n))},ge=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(a,...i)=>{for(let r=0;r<t.length;r++){const l=Qc[t[r]];if(l&&l(a,t))return}return e(a,...i)})},Jc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qe=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=a=>{if(!("key"in a))return;const i=rs(a.key);if(t.some(r=>r===i||Jc[r]===i))return e(a)})},Zc=Be({patchProp:Lc},bc);let Xa;function Xc(){return Xa||(Xa=qu(Zc))}const ed=(...e)=>{const t=Xc().createApp(...e),{mount:n}=t;return t.mount=o=>{const a=sd(o);if(!a)return;const i=t._component;!Pe(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const r=n(a,!1,td(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t};function td(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sd(e){return qe(e)?document.querySelector(e):e}var nd=!1;/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Wi;const Yn=e=>Wi=e,Gi=Symbol();function Io(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ws;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ws||(Ws={}));function od(){const e=Il(!0),t=e.run(()=>I({}));let n=[],o=[];const a=Go({install(i){Yn(a),a._a=i,i.provide(Gi,a),i.config.globalProperties.$pinia=a,o.forEach(r=>n.push(r)),o=[]},use(i){return!this._a&&!nd?o.push(i):n.push(i),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return a}const Yi=()=>{};function el(e,t,n,o=Yi){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),o())};return!n&&Ml()&&Rr(a),a}function $s(e,...t){e.slice().forEach(n=>{n(...t)})}const ad=e=>e(),tl=Symbol(),co=Symbol();function Mo(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],a=e[n];Io(a)&&Io(o)&&e.hasOwnProperty(n)&&!He(o)&&!ns(o)?e[n]=Mo(a,o):e[n]=o}return e}const ld=Symbol();function id(e){return!Io(e)||!e.hasOwnProperty(ld)}const{assign:Jt}=Object;function rd(e){return!!(He(e)&&e.effect)}function ud(e,t,n,o){const{state:a,actions:i,getters:r}=t,l=n.state.value[e];let c;function f(){l||(n.state.value[e]=a?a():{});const p=ou(n.state.value[e]);return Jt(p,i,Object.keys(r||{}).reduce((u,h)=>(u[h]=Go(_e(()=>{Yn(n);const g=n._s.get(e);return r[h].call(g,g)})),u),{}))}return c=Qi(e,f,t,n,o,!0),c}function Qi(e,t,n={},o,a,i){let r;const l=Jt({actions:{}},n),c={deep:!0};let f,p,u=[],h=[],g;const M=o.state.value[e];!i&&!M&&(o.state.value[e]={}),I({});let R;function F(b){let _;f=p=!1,typeof b=="function"?(b(o.state.value[e]),_={type:Ws.patchFunction,storeId:e,events:g}):(Mo(o.state.value[e],b),_={type:Ws.patchObject,payload:b,storeId:e,events:g});const B=R=Symbol();rn().then(()=>{R===B&&(f=!0)}),p=!0,$s(u,_,o.state.value[e])}const q=i?function(){const{state:_}=n,B=_?_():{};this.$patch(N=>{Jt(N,B)})}:Yi;function K(){r.stop(),u=[],h=[],o._s.delete(e)}const H=(b,_="")=>{if(tl in b)return b[co]=_,b;const B=function(){Yn(o);const N=Array.from(arguments),P=[],x=[];function E(w){P.push(w)}function C(w){x.push(w)}$s(h,{args:N,name:B[co],store:j,after:E,onError:C});let W;try{W=b.apply(this&&this.$id===e?this:j,N)}catch(w){throw $s(x,w),w}return W instanceof Promise?W.then(w=>($s(P,w),w)).catch(w=>($s(x,w),Promise.reject(w))):($s(P,W),W)};return B[tl]=!0,B[co]=_,B},z={_p:o,$id:e,$onAction:el.bind(null,h),$patch:F,$reset:q,$subscribe(b,_={}){const B=el(u,b,_.detached,()=>N()),N=r.run(()=>Ye(()=>o.state.value[e],P=>{(_.flush==="sync"?p:f)&&b({storeId:e,type:Ws.direct,events:g},P)},Jt({},c,_)));return B},$dispose:K},j=it(z);o._s.set(e,j);const J=(o._a&&o._a.runWithContext||ad)(()=>o._e.run(()=>(r=Il()).run(()=>t({action:H}))));for(const b in J){const _=J[b];if(He(_)&&!rd(_)||ns(_))i||(M&&id(_)&&(He(_)?_.value=M[b]:Mo(_,M[b])),o.state.value[e][b]=_);else if(typeof _=="function"){const B=H(_,b);J[b]=B,l.actions[b]=_}}return Jt(j,J),Jt(Ee(j),J),Object.defineProperty(j,"$state",{get:()=>o.state.value[e],set:b=>{F(_=>{Jt(_,b)})}}),o._p.forEach(b=>{Jt(j,r.run(()=>b({store:j,app:o._a,pinia:o,options:l})))}),M&&i&&n.hydrate&&n.hydrate(j.$state,M),f=!0,p=!0,j}/*! #__NO_SIDE_EFFECTS__ */function Ji(e,t,n){let o,a;const i=typeof t=="function";typeof e=="string"?(o=e,a=i?n:t):(a=e,o=e.id);function r(l,c){const f=Uu();return l=l||(f?yt(Gi,null):null),l&&Yn(l),l=Wi,l._s.has(o)||(i?Qi(o,t,a,l):ud(o,a,l)),l._s.get(o)}return r.$id=o,r}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function Zi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Zi(e.default)}const Me=Object.assign;function vo(e,t){const n={};for(const o in t){const a=t[o];n[o]=xt(a)?a.map(e):e(a)}return n}const Gs=()=>{},xt=Array.isArray,Xi=/#/g,dd=/&/g,vd=/\//g,fd=/=/g,pd=/\?/g,er=/\+/g,gd=/%5B/g,md=/%5D/g,tr=/%5E/g,hd=/%60/g,sr=/%7B/g,yd=/%7C/g,nr=/%7D/g,_d=/%20/g;function oa(e){return encodeURI(""+e).replace(yd,"|").replace(gd,"[").replace(md,"]")}function bd(e){return oa(e).replace(sr,"{").replace(nr,"}").replace(tr,"^")}function Do(e){return oa(e).replace(er,"%2B").replace(_d,"+").replace(Xi,"%23").replace(dd,"%26").replace(hd,"`").replace(sr,"{").replace(nr,"}").replace(tr,"^")}function $d(e){return Do(e).replace(fd,"%3D")}function wd(e){return oa(e).replace(Xi,"%23").replace(pd,"%3F")}function kd(e){return e==null?"":wd(e).replace(vd,"%2F")}function nn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Cd=/\/$/,Sd=e=>e.replace(Cd,"");function fo(e,t,n="/"){let o,a={},i="",r="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),a=e(i)),l>-1&&(o=o||t.slice(0,l),r=t.slice(l,t.length)),o=Ad(o??t,n),{fullPath:o+(i&&"?")+i+r,path:o,query:a,hash:nn(r)}}function xd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function sl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Pd(e,t,n){const o=t.matched.length-1,a=n.matched.length-1;return o>-1&&o===a&&As(t.matched[o],n.matched[a])&&or(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function As(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function or(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Td(e[n],t[n]))return!1;return!0}function Td(e,t){return xt(e)?nl(e,t):xt(t)?nl(t,e):e===t}function nl(e,t){return xt(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function Ad(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),a=o[o.length-1];(a===".."||a===".")&&o.push("");let i=n.length-1,r,l;for(r=0;r<o.length;r++)if(l=o[r],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+o.slice(r).join("/")}const Yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var on;(function(e){e.pop="pop",e.push="push"})(on||(on={}));var Ys;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ys||(Ys={}));function Ed(e){if(!e)if(ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Sd(e)}const Id=/^[^#]+#/;function Md(e,t){return e.replace(Id,"#")+t}function Dd(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const Qn=()=>({left:window.scrollX,top:window.scrollY});function Vd(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),a=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=Dd(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ol(e,t){return(history.state?history.state.position-t:-1)+e}const Vo=new Map;function Rd(e,t){Vo.set(e,t)}function Ud(e){const t=Vo.get(e);return Vo.delete(e),t}let Ld=()=>location.protocol+"//"+location.host;function ar(e,t){const{pathname:n,search:o,hash:a}=t,i=e.indexOf("#");if(i>-1){let l=a.includes(e.slice(i))?e.slice(i).length:1,c=a.slice(l);return c[0]!=="/"&&(c="/"+c),sl(c,"")}return sl(n,e)+o+a}function Fd(e,t,n,o){let a=[],i=[],r=null;const l=({state:h})=>{const g=ar(e,location),M=n.value,R=t.value;let F=0;if(h){if(n.value=g,t.value=h,r&&r===M){r=null;return}F=R?h.position-R.position:0}else o(g);a.forEach(q=>{q(n.value,M,{delta:F,type:on.pop,direction:F?F>0?Ys.forward:Ys.back:Ys.unknown})})};function c(){r=n.value}function f(h){a.push(h);const g=()=>{const M=a.indexOf(h);M>-1&&a.splice(M,1)};return i.push(g),g}function p(){const{history:h}=window;h.state&&h.replaceState(Me({},h.state,{scroll:Qn()}),"")}function u(){for(const h of i)h();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:c,listen:f,destroy:u}}function al(e,t,n,o=!1,a=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:a?Qn():null}}function Od(e){const{history:t,location:n}=window,o={value:ar(e,n)},a={value:t.state};a.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,f,p){const u=e.indexOf("#"),h=u>-1?(n.host&&document.querySelector("base")?e:e.slice(u))+c:Ld()+e+c;try{t[p?"replaceState":"pushState"](f,"",h),a.value=f}catch(g){console.error(g),n[p?"replace":"assign"](h)}}function r(c,f){const p=Me({},t.state,al(a.value.back,c,a.value.forward,!0),f,{position:a.value.position});i(c,p,!0),o.value=c}function l(c,f){const p=Me({},a.value,t.state,{forward:c,scroll:Qn()});i(p.current,p,!0);const u=Me({},al(o.value,c,null),{position:p.position+1},f);i(c,u,!1),o.value=c}return{location:o,state:a,push:l,replace:r}}function zd(e){e=Ed(e);const t=Od(e),n=Fd(e,t.state,t.location,t.replace);function o(i,r=!0){r||n.pauseListeners(),history.go(i)}const a=Me({location:"",base:e,go:o,createHref:Md.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Nd(e){return typeof e=="string"||e&&typeof e=="object"}function lr(e){return typeof e=="string"||typeof e=="symbol"}const ir=Symbol("");var ll;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ll||(ll={}));function Es(e,t){return Me(new Error,{type:e,[ir]:!0},t)}function Ft(e,t){return e instanceof Error&&ir in e&&(t==null||!!(e.type&t))}const il="[^/]+?",jd={sensitive:!1,strict:!1,start:!0,end:!0},qd=/[.+*?^${}()[\]/\\]/g;function Hd(e,t){const n=Me({},jd,t),o=[];let a=n.start?"^":"";const i=[];for(const f of e){const p=f.length?[]:[90];n.strict&&!f.length&&(a+="/");for(let u=0;u<f.length;u++){const h=f[u];let g=40+(n.sensitive?.25:0);if(h.type===0)u||(a+="/"),a+=h.value.replace(qd,"\\$&"),g+=40;else if(h.type===1){const{value:M,repeatable:R,optional:F,regexp:q}=h;i.push({name:M,repeatable:R,optional:F});const K=q||il;if(K!==il){g+=10;try{new RegExp(`(${K})`)}catch(z){throw new Error(`Invalid custom RegExp for param "${M}" (${K}): `+z.message)}}let H=R?`((?:${K})(?:/(?:${K}))*)`:`(${K})`;u||(H=F&&f.length<2?`(?:/${H})`:"/"+H),F&&(H+="?"),a+=H,g+=20,F&&(g+=-8),R&&(g+=-20),K===".*"&&(g+=-50)}p.push(g)}o.push(p)}if(n.strict&&n.end){const f=o.length-1;o[f][o[f].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const r=new RegExp(a,n.sensitive?"":"i");function l(f){const p=f.match(r),u={};if(!p)return null;for(let h=1;h<p.length;h++){const g=p[h]||"",M=i[h-1];u[M.name]=g&&M.repeatable?g.split("/"):g}return u}function c(f){let p="",u=!1;for(const h of e){(!u||!p.endsWith("/"))&&(p+="/"),u=!1;for(const g of h)if(g.type===0)p+=g.value;else if(g.type===1){const{value:M,repeatable:R,optional:F}=g,q=M in f?f[M]:"";if(xt(q)&&!R)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const K=xt(q)?q.join("/"):q;if(!K)if(F)h.length<2&&(p.endsWith("/")?p=p.slice(0,-1):u=!0);else throw new Error(`Missing required param "${M}"`);p+=K}}return p||"/"}return{re:r,score:o,keys:i,parse:l,stringify:c}}function Bd(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function rr(e,t){let n=0;const o=e.score,a=t.score;for(;n<o.length&&n<a.length;){const i=Bd(o[n],a[n]);if(i)return i;n++}if(Math.abs(a.length-o.length)===1){if(rl(o))return 1;if(rl(a))return-1}return a.length-o.length}function rl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kd={type:0,value:""},Wd=/[a-zA-Z0-9_]/;function Gd(e){if(!e)return[[]];if(e==="/")return[[Kd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${f}": ${g}`)}let n=0,o=n;const a=[];let i;function r(){i&&a.push(i),i=[]}let l=0,c,f="",p="";function u(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:p,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),f="")}function h(){f+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:c==="/"?(f&&u(),r()):c===":"?(u(),n=1):h();break;case 4:h(),n=o;break;case 1:c==="("?n=2:Wd.test(c)?h():(u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+c:n=3:p+=c;break;case 3:u(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${f}"`),u(),r(),a}function Yd(e,t,n){const o=Hd(Gd(e.path),n),a=Me(o,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Qd(e,t){const n=[],o=new Map;t=vl({strict:!1,end:!0,sensitive:!1},t);function a(u){return o.get(u)}function i(u,h,g){const M=!g,R=cl(u);R.aliasOf=g&&g.record;const F=vl(t,u),q=[R];if("alias"in u){const z=typeof u.alias=="string"?[u.alias]:u.alias;for(const j of z)q.push(cl(Me({},R,{components:g?g.record.components:R.components,path:j,aliasOf:g?g.record:R})))}let K,H;for(const z of q){const{path:j}=z;if(h&&j[0]!=="/"){const S=h.record.path,J=S[S.length-1]==="/"?"":"/";z.path=h.record.path+(j&&J+j)}if(K=Yd(z,h,F),g?g.alias.push(K):(H=H||K,H!==K&&H.alias.push(K),M&&u.name&&!dl(K)&&r(u.name)),ur(K)&&c(K),R.children){const S=R.children;for(let J=0;J<S.length;J++)i(S[J],K,g&&g.children[J])}g=g||K}return H?()=>{r(H)}:Gs}function r(u){if(lr(u)){const h=o.get(u);h&&(o.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(r),h.alias.forEach(r))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&o.delete(u.record.name),u.children.forEach(r),u.alias.forEach(r))}}function l(){return n}function c(u){const h=Xd(u,n);n.splice(h,0,u),u.record.name&&!dl(u)&&o.set(u.record.name,u)}function f(u,h){let g,M={},R,F;if("name"in u&&u.name){if(g=o.get(u.name),!g)throw Es(1,{location:u});F=g.record.name,M=Me(ul(h.params,g.keys.filter(H=>!H.optional).concat(g.parent?g.parent.keys.filter(H=>H.optional):[]).map(H=>H.name)),u.params&&ul(u.params,g.keys.map(H=>H.name))),R=g.stringify(M)}else if(u.path!=null)R=u.path,g=n.find(H=>H.re.test(R)),g&&(M=g.parse(R),F=g.record.name);else{if(g=h.name?o.get(h.name):n.find(H=>H.re.test(h.path)),!g)throw Es(1,{location:u,currentLocation:h});F=g.record.name,M=Me({},h.params,u.params),R=g.stringify(M)}const q=[];let K=g;for(;K;)q.unshift(K.record),K=K.parent;return{name:F,path:R,params:M,matched:q,meta:Zd(q)}}e.forEach(u=>i(u));function p(){n.length=0,o.clear()}return{addRoute:i,resolve:f,removeRoute:r,clearRoutes:p,getRoutes:l,getRecordMatcher:a}}function ul(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function cl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Jd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Jd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function dl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Zd(e){return e.reduce((t,n)=>Me(t,n.meta),{})}function vl(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function Xd(e,t){let n=0,o=t.length;for(;n!==o;){const i=n+o>>1;rr(e,t[i])<0?o=i:n=i+1}const a=ev(e);return a&&(o=t.lastIndexOf(a,o-1)),o}function ev(e){let t=e;for(;t=t.parent;)if(ur(t)&&rr(e,t)===0)return t}function ur({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tv(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<o.length;++a){const i=o[a].replace(er," "),r=i.indexOf("="),l=nn(r<0?i:i.slice(0,r)),c=r<0?null:nn(i.slice(r+1));if(l in t){let f=t[l];xt(f)||(f=t[l]=[f]),f.push(c)}else t[l]=c}return t}function fl(e){let t="";for(let n in e){const o=e[n];if(n=$d(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(xt(o)?o.map(i=>i&&Do(i)):[o&&Do(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function sv(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=xt(o)?o.map(a=>a==null?null:""+a):o==null?o:""+o)}return t}const nv=Symbol(""),pl=Symbol(""),Jn=Symbol(""),aa=Symbol(""),Ro=Symbol("");function Rs(){let e=[];function t(o){return e.push(o),()=>{const a=e.indexOf(o);a>-1&&e.splice(a,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function es(e,t,n,o,a,i=r=>r()){const r=o&&(o.enterCallbacks[a]=o.enterCallbacks[a]||[]);return()=>new Promise((l,c)=>{const f=h=>{h===!1?c(Es(4,{from:n,to:t})):h instanceof Error?c(h):Nd(h)?c(Es(2,{from:t,to:h})):(r&&o.enterCallbacks[a]===r&&typeof h=="function"&&r.push(h),l())},p=i(()=>e.call(o&&o.instances[a],t,n,f));let u=Promise.resolve(p);e.length<3&&(u=u.then(f)),u.catch(h=>c(h))})}function po(e,t,n,o,a=i=>i()){const i=[];for(const r of e)for(const l in r.components){let c=r.components[l];if(!(t!=="beforeRouteEnter"&&!r.instances[l]))if(Zi(c)){const p=(c.__vccOpts||c)[t];p&&i.push(es(p,n,o,r,l,a))}else{let f=c();i.push(()=>f.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${r.path}"`);const u=cd(p)?p.default:p;r.mods[l]=p,r.components[l]=u;const g=(u.__vccOpts||u)[t];return g&&es(g,n,o,r,l,a)()}))}}return i}function gl(e){const t=yt(Jn),n=yt(aa),o=_e(()=>{const c=$e(e.to);return t.resolve(c)}),a=_e(()=>{const{matched:c}=o.value,{length:f}=c,p=c[f-1],u=n.matched;if(!p||!u.length)return-1;const h=u.findIndex(As.bind(null,p));if(h>-1)return h;const g=ml(c[f-2]);return f>1&&ml(p)===g&&u[u.length-1].path!==g?u.findIndex(As.bind(null,c[f-2])):h}),i=_e(()=>a.value>-1&&rv(n.params,o.value.params)),r=_e(()=>a.value>-1&&a.value===n.matched.length-1&&or(n.params,o.value.params));function l(c={}){if(iv(c)){const f=t[$e(e.replace)?"replace":"push"]($e(e.to)).catch(Gs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>f),f}return Promise.resolve()}return{route:o,href:_e(()=>o.value.href),isActive:i,isExactActive:r,navigate:l}}function ov(e){return e.length===1?e[0]:e}const av=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:gl,setup(e,{slots:t}){const n=it(gl(e)),{options:o}=yt(Jn),a=_e(()=>({[hl(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[hl(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&ov(t.default(n));return e.custom?i:na("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),lv=av;function iv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function rv(e,t){for(const n in t){const o=t[n],a=e[n];if(typeof o=="string"){if(o!==a)return!1}else if(!xt(a)||a.length!==o.length||o.some((i,r)=>i!==a[r]))return!1}return!0}function ml(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hl=(e,t,n)=>e??t??n,uv=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=yt(Ro),a=_e(()=>e.route||o.value),i=yt(pl,0),r=_e(()=>{let f=$e(i);const{matched:p}=a.value;let u;for(;(u=p[f])&&!u.components;)f++;return f}),l=_e(()=>a.value.matched[r.value]);$n(pl,_e(()=>r.value+1)),$n(nv,l),$n(Ro,a);const c=I();return Ye(()=>[c.value,l.value,e.name],([f,p,u],[h,g,M])=>{p&&(p.instances[u]=f,g&&g!==p&&f&&f===h&&(p.leaveGuards.size||(p.leaveGuards=g.leaveGuards),p.updateGuards.size||(p.updateGuards=g.updateGuards))),f&&p&&(!g||!As(p,g)||!h)&&(p.enterCallbacks[u]||[]).forEach(R=>R(f))},{flush:"post"}),()=>{const f=a.value,p=e.name,u=l.value,h=u&&u.components[p];if(!h)return yl(n.default,{Component:h,route:f});const g=u.props[p],M=g?g===!0?f.params:typeof g=="function"?g(f):g:null,F=na(h,Me({},M,t,{onVnodeUnmounted:q=>{q.component.isUnmounted&&(u.instances[p]=null)},ref:c}));return yl(n.default,{Component:F,route:f})||F}}});function yl(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cv=uv;function dv(e){const t=Qd(e.routes,e),n=e.parseQuery||tv,o=e.stringifyQuery||fl,a=e.history,i=Rs(),r=Rs(),l=Rs(),c=tu(Yt);let f=Yt;ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=vo.bind(null,U=>""+U),u=vo.bind(null,kd),h=vo.bind(null,nn);function g(U,ie){let re,be;return lr(U)?(re=t.getRecordMatcher(U),be=ie):be=U,t.addRoute(be,re)}function M(U){const ie=t.getRecordMatcher(U);ie&&t.removeRoute(ie)}function R(){return t.getRoutes().map(U=>U.record)}function F(U){return!!t.getRecordMatcher(U)}function q(U,ie){if(ie=Me({},ie||c.value),typeof U=="string"){const V=fo(n,U,ie.path),G=t.resolve({path:V.path},ie),le=a.createHref(V.fullPath);return Me(V,G,{params:h(G.params),hash:nn(V.hash),redirectedFrom:void 0,href:le})}let re;if(U.path!=null)re=Me({},U,{path:fo(n,U.path,ie.path).path});else{const V=Me({},U.params);for(const G in V)V[G]==null&&delete V[G];re=Me({},U,{params:u(V)}),ie.params=u(ie.params)}const be=t.resolve(re,ie),Te=U.hash||"";be.params=p(h(be.params));const Ve=xd(o,Me({},U,{hash:bd(Te),path:be.path})),T=a.createHref(Ve);return Me({fullPath:Ve,hash:Te,query:o===fl?sv(U.query):U.query||{}},be,{redirectedFrom:void 0,href:T})}function K(U){return typeof U=="string"?fo(n,U,c.value.path):Me({},U)}function H(U,ie){if(f!==U)return Es(8,{from:ie,to:U})}function z(U){return J(U)}function j(U){return z(Me(K(U),{replace:!0}))}function S(U){const ie=U.matched[U.matched.length-1];if(ie&&ie.redirect){const{redirect:re}=ie;let be=typeof re=="function"?re(U):re;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=K(be):{path:be},be.params={}),Me({query:U.query,hash:U.hash,params:be.path!=null?{}:U.params},be)}}function J(U,ie){const re=f=q(U),be=c.value,Te=U.state,Ve=U.force,T=U.replace===!0,V=S(re);if(V)return J(Me(K(V),{state:typeof V=="object"?Me({},Te,V.state):Te,force:Ve,replace:T}),ie||re);const G=re;G.redirectedFrom=ie;let le;return!Ve&&Pd(o,be,re)&&(le=Es(16,{to:G,from:be}),ce(be,be,!0,!1)),(le?Promise.resolve(le):B(G,be)).catch(te=>Ft(te)?Ft(te,2)?te:X(te):Q(te,G,be)).then(te=>{if(te){if(Ft(te,2))return J(Me({replace:T},K(te.to),{state:typeof te.to=="object"?Me({},Te,te.to.state):Te,force:Ve}),ie||G)}else te=P(G,be,!0,T,Te);return N(G,be,te),te})}function b(U,ie){const re=H(U,ie);return re?Promise.reject(re):Promise.resolve()}function _(U){const ie=m.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(U):U()}function B(U,ie){let re;const[be,Te,Ve]=vv(U,ie);re=po(be.reverse(),"beforeRouteLeave",U,ie);for(const V of be)V.leaveGuards.forEach(G=>{re.push(es(G,U,ie))});const T=b.bind(null,U,ie);return re.push(T),k(re).then(()=>{re=[];for(const V of i.list())re.push(es(V,U,ie));return re.push(T),k(re)}).then(()=>{re=po(Te,"beforeRouteUpdate",U,ie);for(const V of Te)V.updateGuards.forEach(G=>{re.push(es(G,U,ie))});return re.push(T),k(re)}).then(()=>{re=[];for(const V of Ve)if(V.beforeEnter)if(xt(V.beforeEnter))for(const G of V.beforeEnter)re.push(es(G,U,ie));else re.push(es(V.beforeEnter,U,ie));return re.push(T),k(re)}).then(()=>(U.matched.forEach(V=>V.enterCallbacks={}),re=po(Ve,"beforeRouteEnter",U,ie,_),re.push(T),k(re))).then(()=>{re=[];for(const V of r.list())re.push(es(V,U,ie));return re.push(T),k(re)}).catch(V=>Ft(V,8)?V:Promise.reject(V))}function N(U,ie,re){l.list().forEach(be=>_(()=>be(U,ie,re)))}function P(U,ie,re,be,Te){const Ve=H(U,ie);if(Ve)return Ve;const T=ie===Yt,V=ks?history.state:{};re&&(be||T?a.replace(U.fullPath,Me({scroll:T&&V&&V.scroll},Te)):a.push(U.fullPath,Te)),c.value=U,ce(U,ie,re,T),X()}let x;function E(){x||(x=a.listen((U,ie,re)=>{if(!ee.listening)return;const be=q(U),Te=S(be);if(Te){J(Me(Te,{replace:!0,force:!0}),be).catch(Gs);return}f=be;const Ve=c.value;ks&&Rd(ol(Ve.fullPath,re.delta),Qn()),B(be,Ve).catch(T=>Ft(T,12)?T:Ft(T,2)?(J(Me(K(T.to),{force:!0}),be).then(V=>{Ft(V,20)&&!re.delta&&re.type===on.pop&&a.go(-1,!1)}).catch(Gs),Promise.reject()):(re.delta&&a.go(-re.delta,!1),Q(T,be,Ve))).then(T=>{T=T||P(be,Ve,!1),T&&(re.delta&&!Ft(T,8)?a.go(-re.delta,!1):re.type===on.pop&&Ft(T,20)&&a.go(-1,!1)),N(be,Ve,T)}).catch(Gs)}))}let C=Rs(),W=Rs(),w;function Q(U,ie,re){X(U);const be=W.list();return be.length?be.forEach(Te=>Te(U,ie,re)):console.error(U),Promise.reject(U)}function ue(){return w&&c.value!==Yt?Promise.resolve():new Promise((U,ie)=>{C.add([U,ie])})}function X(U){return w||(w=!U,E(),C.list().forEach(([ie,re])=>U?re(U):ie()),C.reset()),U}function ce(U,ie,re,be){const{scrollBehavior:Te}=e;if(!ks||!Te)return Promise.resolve();const Ve=!re&&Ud(ol(U.fullPath,0))||(be||!re)&&history.state&&history.state.scroll||null;return rn().then(()=>Te(U,ie,Ve)).then(T=>T&&Vd(T)).catch(T=>Q(T,U,ie))}const Ce=U=>a.go(U);let A;const m=new Set,ee={currentRoute:c,listening:!0,addRoute:g,removeRoute:M,clearRoutes:t.clearRoutes,hasRoute:F,getRoutes:R,resolve:q,options:e,push:z,replace:j,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:r.add,afterEach:l.add,onError:W.add,isReady:ue,install(U){const ie=this;U.component("RouterLink",lv),U.component("RouterView",cv),U.config.globalProperties.$router=ie,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(c)}),ks&&!A&&c.value===Yt&&(A=!0,z(a.location).catch(Te=>{}));const re={};for(const Te in Yt)Object.defineProperty(re,Te,{get:()=>c.value[Te],enumerable:!0});U.provide(Jn,ie),U.provide(aa,Wl(re)),U.provide(Ro,c);const be=U.unmount;m.add(U),U.unmount=function(){m.delete(U),m.size<1&&(f=Yt,x&&x(),x=null,c.value=Yt,A=!1,w=!1),be()}}};function k(U){return U.reduce((ie,re)=>ie.then(()=>_(re)),Promise.resolve())}return ee}function vv(e,t){const n=[],o=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let r=0;r<i;r++){const l=t.matched[r];l&&(e.matched.find(f=>As(f,l))?o.push(l):n.push(l));const c=e.matched[r];c&&(t.matched.find(f=>As(f,c))||a.push(c))}return[n,o,a]}function Pt(){return yt(Jn)}function Ut(e){return yt(aa)}const la="https://filmforum.billadom.top/api";function fv(){const e=document.cookie.match(/(?:^|; )XSRF-TOKEN=([^;]+)/);return e?decodeURIComponent(e[1]):void 0}async function he(e,t={}){const n=fv(),o=new Headers(t.headers||{});n&&!o.has("X-CSRF-TOKEN")&&o.set("X-CSRF-TOKEN",n),!o.has("Content-Type")&&t.body&&!(t.body instanceof FormData)&&o.set("Content-Type","application/json");const a=await fetch(`${la}${e}`,{...t,headers:o,credentials:"include"});if(a.status===401)throw new Error("UNAUTHORIZED");if(!a.ok)throw new Error(`HTTP ${a.status}`);if((a.headers.get("content-type")||"").includes("application/json")){const r=await a.json();if(r&&typeof r.code=="number"&&r.code!==200){const l=r.message||"",c=new Error(l);throw c.code=r.code,c}return r}return a.text()}function Ge(e){return JSON.stringify(e)}function dn(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||t.set(n,String(o))}),t.toString()}async function _l(e={},t){const n=dn({page:e.page,size:e.size,tag:e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await he(`/movies${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10}}async function pv(e={},t){const n=dn({page:e.page,size:e.size,tag:e.tag||e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await he(`/movies/list${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next||!1}}async function cr(e,t){return(await he("/movies/add",{method:"POST",body:Ge(e),signal:t})).data}async function gv(e,t){const n=await he(`/movies/${e}`,{signal:t}),o=n.data.data||n.data;return{...o,isLiked:o.isLiked||!1,isFavorited:o.isFavorited||!1}}async function mv(e,t){await he(`/movies/${e}/like`,{method:"POST",signal:t})}async function hv(e,t){await he(`/movies/${e}/unlike`,{method:"POST",signal:t})}async function yv(e,t,n){await he(`/movies/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function _v(e,t){await he(`/movies/${e}/favorite`,{method:"POST",signal:t})}async function bv(e,t){await he(`/movies/${e}/unfavorite`,{method:"POST",signal:t})}async function $v(e={},t){if(!e.keyword||!e.keyword.trim())throw new Error("keyword ");const n=dn({page:e.page,size:e.size,keyword:e.keyword.trim(),tag:e.tag||e.genre,year:e.year,rating:e.rating,actor:e.actor,award:e.award}),a=(await he(`/movies/search${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next!==!1}}async function wv(e,t){await he(`/movies/${e}/delete`,{method:"POST",signal:t})}async function kv(e){const t=await fetch("https://apis.netstart.cn/maoyan/index/topRatedMovies",{signal:e,headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP ${t.status}`);return await t.json()}async function Cv(e={},t){const n=dn({page:e.page||1,size:e.size||10}),a=(await he(`/movies/hot${n?`?${n}`:""}`,{signal:t})).data;return{movies:a.movies||[],total:a.pagination?.total||0,page:a.pagination?.page||e.page||1,size:a.pagination?.size||e.size||10,hasMore:a.pagination?.has_next||!1}}async function Sv(e,t={},n){const o=dn({page:t.page||1,size:t.size||10}),i=(await he(`/movies/${e}/reviews${o?`?${o}`:""}`,{signal:n})).data;return{reviews:(i.reviews||[]).map(l=>({...l,createdAt:l.createTime||l.createdAt,user:l.user||{id:l.userId,username:l.username||"",avatar:l.avatar}})),total:i.total||i.pagination?.total||0,page:i.pagination?.page||t.page||1,size:i.pagination?.size||t.size||10}}const Ie=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n},xv={class:"carousel-container"},Pv={class:"carousel-wrapper"},Tv=["onClick"],Av={class:"card-poster"},Ev=["src","alt"],Iv={class:"card-overlay"},Mv={class:"card-content-overlay"},Dv={class:"card-header-overlay"},Vv={class:"card-title-overlay"},Rv={class:"card-rating-badge"},Uv={class:"card-description-overlay"},Lv={class:"carousel-dots"},Fv=["onClick"],Ov={key:0,class:"autoplay-indicator"},zv={class:"progress-bar"},Nv={__name:"Carousel",setup(e){const t=I(0),n=I(!0),o=I(0),a=I(null),i=I(null),r=I(!1);I(!0);const l=I(600),c=I(3);un()?.proxy;const p=[{id:1,title:"",subtitle:"",description:"",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1920&h=1080&fit=crop&q=80",link:"/forum",buttonText:"",trailer:"https://example.com/trailer1",icon:""}],u=I([...p]),h=async()=>{r.value=!0;try{const S=await kv();if(S&&S.movieList&&S.movieList.length>0){const J=S.movieList.map(b=>({id:b.movieId,title:b.name,subtitle:` ${b.score}`,image:b.poster,link:`/movie/${b.movieId}`}));u.value=J,t.value=0}}catch(S){console.error(":",S),u.value=[...p],t.value=0}finally{r.value=!1}},g=()=>{u.value.length<=1||(t.value++,H(),t.value>=u.value.length&&(t.value=0))},M=()=>{u.value.length<=1||(t.value--,H(),t.value<0&&(t.value=u.value.length-1))},R=S=>{},F=S=>{t.value=S,H()},q=()=>{n.value&&(a.value=setInterval(()=>{g()},5e3),z())},K=()=>{a.value&&(clearInterval(a.value),a.value=null),i.value&&(clearInterval(i.value),i.value=null)},H=()=>{K(),o.value=0,q()},z=()=>{o.value=0,i.value=setInterval(()=>{o.value+=2,o.value>=100&&(o.value=0)},100)},j=()=>{const S=window.innerWidth;S<=480?(c.value=1,l.value=420):S<=768?(c.value=2,l.value=500):(c.value=3,l.value=600)};return je(async()=>{j(),window.addEventListener("resize",j),await h(),u.value.length>0&&q()}),Jo(()=>{K(),window.removeEventListener("resize",j)}),(S,J)=>(d(),v("div",xv,[s("div",Pv,[s("div",{class:"carousel-track",style:Rt({transform:`translateX(-${t.value*l.value}px)`,transition:"transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)"})},[(d(!0),v(se,null,ve(u.value,(b,_)=>(d(),v("div",{key:b.id||_,class:fe(["movie-card",{active:_===t.value}]),onClick:B=>R()},[s("div",Av,[s("img",{src:b.image,alt:b.title},null,8,Ev),s("div",Iv,[s("div",Mv,[s("div",Dv,[s("h3",Vv,y(b.title),1),s("div",Rv,[J[0]||(J[0]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(b.subtitle?.replace(" ","")||"0.0"),1)])]),s("p",Uv,y(b.description),1)])]),J[1]||(J[1]=s("div",{class:"card-shine"},null,-1))])],10,Tv))),128))],4)]),s("div",Lv,[(d(!0),v(se,null,ve(u.value,(b,_)=>(d(),v("button",{key:_,class:fe(["dot",{active:t.value===_}]),onClick:B=>F(_)},null,10,Fv))),128))]),s("button",{class:"carousel-nav prev",onClick:M},[...J[2]||(J[2]=[s("i",{class:"icon-arrow-left"},null,-1)])]),s("button",{class:"carousel-nav next",onClick:g},[...J[3]||(J[3]=[s("i",{class:"icon-arrow-right"},null,-1)])]),n.value?(d(),v("div",Ov,[s("div",zv,[s("div",{class:"progress",style:Rt({width:`${o.value}%`})},null,4)])])):D("",!0)]))}},jv=Ie(Nv,[["__scopeId","data-v-d71da7af"]]);const qv={class:"home"},Hv={class:"hero"},Bv={class:"hero-content"},Kv={class:"hero-actions"},Wv={class:"hero-image"},Gv={class:"floating-cards"},Yv=["src","alt"],Qv={class:"card-overlay"},Jv={class:"categories"},Zv={class:"container"},Xv={class:"categories-grid"},ef={class:"category-icon"},tf={class:"category-stats"},sf={class:"count"},nf={class:"hot-posts"},of={class:"container"},af={class:"section-header"},lf={class:"posts-grid"},rf={class:"post-header"},uf={class:"post-meta"},cf=["src","alt"],df={class:"author-info"},vf={class:"author-name"},ff={class:"post-time"},pf={class:"post-category"},gf={class:"post-content"},mf={class:"post-title"},hf={class:"post-excerpt"},yf={class:"post-footer"},_f={class:"post-stats"},bf={class:"stat"},$f={class:"stat"},wf={class:"stat"},kf={class:"movie-recommendations"},Cf={class:"container"},Sf={class:"movies-slider"},xf={class:"movie-poster"},Pf=["src","alt"],Tf={class:"movie-overlay"},Af={class:"movie-rating"},Ef={class:"movie-info"},If={class:"movie-title"},Mf={class:"movie-genre"},Df={class:"movie-year"},Vf={class:"stats"},Rf={class:"container"},Uf={class:"stats-grid"},Lf={class:"stat-item"},Ff={class:"stat-number"},Of={class:"stat-item"},zf={class:"stat-number"},Nf={class:"stat-item"},jf={class:"stat-number"},qf={class:"stat-item"},Hf={class:"stat-number"},Bf={__name:"Home",setup(e){const t=I([]),n=I([{id:1,name:"",slug:"movie",icon:"icon-film",description:"",postsCount:1234},{id:2,name:"",slug:"tv",icon:"icon-tv",description:"",postsCount:856},{id:3,name:"",slug:"variety",icon:"icon-variety",description:"",postsCount:432}]),o=I([{id:1,title:"2",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face"},category:"movie",categoryName:"",views:1234,comments:89,likes:156,createdAt:new Date(Date.now()-2*60*60*1e3)},{id:2,title:"",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=40&h=40&fit=crop&crop=face"},category:"tv",categoryName:"",views:2156,comments:134,likes:289,createdAt:new Date(Date.now()-4*60*60*1e3)},{id:3,title:"",excerpt:"...",author:{username:"",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face"},category:"anime",categoryName:"",views:987,comments:67,likes:123,createdAt:new Date(Date.now()-6*60*60*1e3)}]),a=I([]),i=I({totalUsers:125678,totalPosts:45678,totalComments:234567,onlineUsers:1234}),r=c=>{const p=new Date-c,u=Math.floor(p/(1e3*60*60)),h=Math.floor(p/(1e3*60));return u>24?`${Math.floor(u/24)}`:u>0?`${u}`:`${h}`};async function l(){const c=await _l({page:1,size:6}),f=Array.isArray(c?.movies)?c.movies:[];t.value=f.map(h=>({id:h.id,title:h.title,poster:h.poster,rating:h.rating||0}));const p=await _l({page:1,size:12}),u=Array.isArray(p?.movies)?p.movies:[];a.value=u.map(h=>({id:h.id,title:h.title,poster:h.poster,genre:Array.isArray(h.tag)?h.tag.join(","):h.tag||"",year:String(h.year||""),rating:h.rating||0}))}return je(l),(c,f)=>{const p=dt("router-link");return d(),v("div",qv,[pe(jv),s("section",Hv,[s("div",Bv,[f[3]||(f[3]=Kt('<div class="hero-header" data-v-20f6966b><span class="hero-icon" data-v-20f6966b></span><h1 class="hero-title" data-v-20f6966b></h1></div><h2 class="hero-subtitle" data-v-20f6966b></h2><p class="hero-description" data-v-20f6966b>  </p>',3)),s("div",Kv,[pe(p,{to:"/forum",class:"btn btn-primary btn-lg"},{default:Se(()=>[...f[1]||(f[1]=[s("span",{class:"btn-icon"},"",-1),oe("  ",-1)])]),_:1}),pe(p,{to:"/register",class:"btn btn-outline btn-lg"},{default:Se(()=>[...f[2]||(f[2]=[s("span",{class:"btn-icon"},"",-1),oe("  ",-1)])]),_:1})])]),s("div",Wv,[s("div",Gv,[(d(!0),v(se,null,ve(t.value,(u,h)=>(d(),v("div",{class:"movie-card",key:u.id,style:Rt({animationDelay:`${h*.2}s`})},[s("img",{src:u.poster,alt:u.title},null,8,Yv),s("div",Qv,[s("h4",null,y(u.title),1),s("p",null,y(u.rating)+"",1)])],4))),128))])])]),s("section",Jv,[s("div",Zv,[f[5]||(f[5]=s("h2",{class:"section-title"},"",-1)),f[6]||(f[6]=s("p",{class:"section-subtitle"},"",-1)),s("div",Xv,[(d(!0),v(se,null,ve(n.value,u=>(d(),rt(p,{key:u.id,to:{name:"Search",query:{type:u.slug}},class:"category-card"},{default:Se(()=>[s("div",ef,[s("i",{class:fe(u.icon)},null,2)]),s("h3",null,y(u.name),1),s("p",null,y(u.description),1),s("div",tf,[s("span",sf,y(u.postsCount),1),f[4]||(f[4]=s("span",{class:"suffix"},"",-1))])]),_:2},1032,["to"]))),128))])])]),s("section",nf,[s("div",of,[s("div",af,[f[8]||(f[8]=s("h2",{class:"section-title"},"",-1)),pe(p,{to:"/forum",class:"view-all-link"},{default:Se(()=>[...f[7]||(f[7]=[oe("",-1)])]),_:1})]),s("div",lf,[(d(!0),v(se,null,ve(o.value,u=>(d(),v("div",{key:u.id,class:"post-card"},[s("div",rf,[s("div",uf,[s("img",{src:u.author.avatar||"/avatar.png",alt:u.author.username,class:"author-avatar",onError:f[0]||(f[0]=h=>h.target.src="/avatar.png")},null,40,cf),s("div",df,[s("span",vf,y(u.author.username),1),s("span",ff,y(r(u.createTime)),1)])]),s("div",pf,[s("span",{class:fe(`category-tag category-${u.category}`)},y(u.categoryName),3)])]),s("div",gf,[s("h3",mf,y(u.title),1),s("p",hf,y(u.excerpt),1)]),s("div",yf,[s("div",_f,[s("span",bf,[f[9]||(f[9]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y(u.views),1)]),s("span",$f,[f[10]||(f[10]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y(u.comments),1)]),s("span",wf,[f[11]||(f[11]=s("i",{class:"icon-like"},null,-1)),oe(" "+y(u.likes),1)])]),pe(p,{to:`/post/${u.id}`,class:"read-more"},{default:Se(()=>[...f[12]||(f[12]=[oe("  ",-1)])]),_:1},8,["to"])])]))),128))])])]),s("section",kf,[s("div",Cf,[f[15]||(f[15]=s("h2",{class:"section-title"},"",-1)),s("div",Sf,[(d(!0),v(se,null,ve(a.value,u=>(d(),v("div",{class:"movie-item",key:u.id},[s("div",xf,[s("img",{src:u.poster,alt:u.title},null,8,Pf),s("div",Tf,[f[14]||(f[14]=s("button",{class:"play-btn"},[s("i",{class:"icon-play"})],-1)),s("div",Af,[f[13]||(f[13]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(u.rating),1)])])]),s("div",Ef,[s("h4",If,y(u.title),1),s("p",Mf,y(u.genre),1),s("p",Df,y(u.year),1)])]))),128))])])]),s("section",Vf,[s("div",Rf,[s("div",Uf,[s("div",Lf,[s("div",Ff,y(i.value.totalUsers.toLocaleString()),1),f[16]||(f[16]=s("div",{class:"stat-label"},"",-1))]),s("div",Of,[s("div",zf,y(i.value.totalPosts.toLocaleString()),1),f[17]||(f[17]=s("div",{class:"stat-label"},"",-1))]),s("div",Nf,[s("div",jf,y(i.value.totalComments.toLocaleString()),1),f[18]||(f[18]=s("div",{class:"stat-label"},"",-1))]),s("div",qf,[s("div",Hf,y(i.value.onlineUsers.toLocaleString()),1),f[19]||(f[19]=s("div",{class:"stat-label"},"",-1))])])])])])}}},Kf=Ie(Bf,[["__scopeId","data-v-20f6966b"]]),ct={getPosts:async(e=1,t=10,n,o)=>{const a=new URLSearchParams;return a.append("page",e.toString()),a.append("size",t.toString()),n&&a.append("category",n),o&&a.append("keyword",o),await he(`/posts/list?${a.toString()}`)},getPostDetail:async e=>await he(`/posts/${e}`),createPost:async e=>await he("/posts/create",{method:"POST",body:Ge(e)}),updatePost:async(e,t)=>await he(`/posts/${e}/edit`,{method:"POST",body:Ge(t)}),deletePost:async e=>await he(`/posts/${e}/delete`,{method:"POST"}),likePost:async e=>await he(`/posts/${e}/like`,{method:"POST",body:Ge({action:"like"})}),unlikePost:async e=>await he(`/posts/${e}/unlike`,{method:"POST"}),getComments:async e=>await he(`/posts/${e}/comments`),createComment:async e=>await he("/comments/create",{method:"POST",body:Ge(e)}),updateComment:async e=>{const{id:t,...n}=e;return await he(`/comments/${t}/edit`,{method:"POST",body:Ge(n)})},deleteComment:async e=>{console.log("deleteComment APIID:",e);try{const t=await he(`/comments/${e}/delete`,{method:"POST"});return console.log("deleteComment API:",t),t}catch(t){throw console.error("deleteComment API:",t),t}},getUserPosts:async(e,t=1,n=10)=>{const o=new URLSearchParams;return o.append("page",t.toString()),o.append("size",n.toString()),await he(`/user/${e}/posts?${o.toString()}`)},getPostPermission:async e=>await he(`/posts/${e}/permission`)},ps=I([]);let Wf=0;class Gf{notify(t,n={}){const o=++Wf,a={id:o,message:t,type:n.type||"info",duration:n.duration??3e3,showClose:n.showClose??!0,onClose:n.onClose,visible:!0};return ps.value.push(a),a.duration>0&&setTimeout(()=>{this.close(o)},a.duration),o}success(t,n={}){return this.notify(t,{...n,type:"success"})}error(t,n={}){return this.notify(t,{...n,type:"error"})}warning(t,n={}){return this.notify(t,{...n,type:"warning"})}info(t,n={}){return this.notify(t,{...n,type:"info"})}close(t){const n=ps.value.findIndex(o=>o.id===t);if(n!==-1){const o=ps.value[n];o.visible=!1,o.onClose&&o.onClose(),setTimeout(()=>{ps.value.splice(n,1)},300)}}closeAll(){ps.value.forEach(t=>{t.visible=!1,t.onClose&&t.onClose()}),setTimeout(()=>{ps.value=[]},300)}}const de=new Gf,Yf={class:"forum"},Qf={class:"container"},Jf={class:"forum-header"},Zf={class:"header-content"},Xf={class:"page-title"},ep={class:"page-subtitle"},tp={class:"header-actions"},sp={class:"forum-filters"},np={class:"search-box"},op={class:"filter-group"},ap={class:"posts-container"},lp={key:0,class:"loading"},ip={key:1,class:"empty-state"},rp={key:2,class:"posts-list"},up={class:"post-content"},cp={class:"post-header"},dp={class:"post-meta"},vp=["src","alt"],fp={class:"author-info"},pp={class:"post-time"},gp={class:"post-category"},mp={class:"post-excerpt"},hp={key:0,class:"post-tags"},yp={class:"post-footer"},_p={class:"post-stats"},bp={class:"stat"},$p={class:"stat"},wp={class:"post-actions"},kp=["onClick"],Cp={key:3,class:"pagination-container"},Sp={class:"pagination-info"},xp={key:0,class:"divider"},Pp={key:0,class:"pagination"},Tp=["disabled"],Ap=["disabled"],Ep={key:0,class:"page-numbers"},Ip=["onClick"],Mp={key:1,class:"page-ellipsis"},Dp=["disabled"],Vp=["disabled"],Rp={key:1,class:"page-jump"},Up=["max"],Lp={class:"modal-body"},Fp={class:"form-group"},Op={class:"form-group"},zp={class:"form-group"},Np={class:"form-group"},jp={class:"form-actions"},qp=["disabled"],Hp=Ne({__name:"Forum",setup(e){const t=Ut(),n=Pt(),o=I(!1),a=I([]),i=I("latest"),r=I(""),l=I(""),c=I(1),f=I(10),p=I(!1),u=I(!1),h=I(1),g=I({total:0,page:1,size:10,has_next:!1}),M=I({title:"",category:"",tagsInput:"",content:""}),R=_e(()=>{if(!a.value||!Array.isArray(a.value))return[];let E=[...a.value];return E.sort((C,W)=>{switch(i.value){case"hot":return(W.commentsCount||0)*2-(C.commentsCount||0)*2;case"views":return(W.views||0)-(C.views||0);case"comments":return(W.commentsCount||0)-(C.commentsCount||0);case"latest":default:const w=C.createdAt||C.createTime?new Date(C.createdAt||C.createTime).getTime():0;return(W.createdAt||W.createTime?new Date(W.createdAt||W.createTime).getTime():0)-w}}),E}),F=_e(()=>{if(!g.value)return 0;const E=g.value.total||0;if(E===0)return 0;const C=f.value||g.value.size||10,W=Math.ceil(E/C);return W>0?W:1}),q=_e(()=>{const E=[],C=F.value,W=c.value;if(C<=7)for(let w=1;w<=C;w++)E.push(w);else if(W<=4){for(let w=1;w<=5;w++)E.push(w);E.push("..."),E.push(C)}else if(W>=C-3){E.push(1),E.push("...");for(let w=C-4;w<=C;w++)E.push(w)}else{E.push(1),E.push("...");for(let w=W-2;w<=W+2;w++)E.push(w);E.push("..."),E.push(C)}return E}),K=()=>{const E={movie:"",tv:"",variety:""},C=Array.isArray(t.params.category)?t.params.category[0]:t.params.category;return E[C]||""},H=()=>{const E={movie:"",tv:"",variety:""},C=Array.isArray(t.params.category)?t.params.category[0]:t.params.category;return E[C]||""},z=E=>{if(!E)return"";const C=new Date,W=new Date(E),w=C.getTime()-W.getTime(),Q=Math.floor(w/(1e3*60*60*24)),ue=Math.floor(w/(1e3*60*60)),X=Math.floor(w/(1e3*60));return Q>0?`${Q}`:ue>0?`${ue}`:X>0?`${X}`:""},j=async()=>{o.value=!0;try{const E=l.value||t.params.category||"",C=await ct.getPosts(c.value,f.value,E||void 0,r.value||void 0);if(C.code===200){const W={movie:"",tv:"",variety:""};if(a.value=C.data.posts.map(w=>({...w,createdAt:w.createTime,categoryName:W[w.category]||""})),C.data.pagination)g.value={total:C.data.pagination.total||0,page:C.data.pagination.page||c.value,size:C.data.pagination.size||f.value,has_next:C.data.pagination.has_next||!1},c.value=g.value.page,h.value=g.value.page;else{const w=C.data.posts.length===f.value?c.value*f.value+1:(c.value-1)*f.value+C.data.posts.length;g.value={total:w,page:c.value,size:f.value,has_next:C.data.posts.length===f.value}}}else throw new Error(C.message||"")}catch(E){console.error(":",E),a.value=[],g.value={total:0,page:1,size:f.value,has_next:!1}}finally{o.value=!1}},S=()=>{c.value=1,h.value=1,l.value?n.push(`/forum/${l.value}`):n.push("/forum"),j()},J=()=>{c.value=1,h.value=1,j()},b=E=>{if(E==="...")return;const C=typeof E=="string"?parseInt(E,10):E;C>=1&&C<=F.value&&C!==c.value&&(c.value=C,h.value=C,j(),window.scrollTo({top:0,behavior:"smooth"}))},_=()=>{c.value=1,h.value=1,j()},B=()=>{const E=Math.max(1,Math.min(h.value,F.value));E!==c.value&&(c.value=E,h.value=E,j(),window.scrollTo({top:0,behavior:"smooth"}))},N=E=>{navigator.share?navigator.share({title:E.title,text:E.excerpt||"",url:window.location.origin+`/post/${E.id}`}):(navigator.clipboard.writeText(window.location.origin+`/post/${E.id}`),de.success(""))},P=()=>{p.value=!1,M.value={title:"",category:"",tagsInput:"",content:""}},x=async()=>{u.value=!0;try{const E=M.value.tagsInput.split(",").map(w=>w.trim()).filter(w=>w),C={title:M.value.title,content:M.value.content,category:M.value.category,tags:E},W=await ct.createPost(C);W.code===200?(P(),await j(),n.push(`/post/${W.data.id}`)):de.error(W.message||"")}catch(E){console.error(":",E),de.error("")}finally{u.value=!1}};return Ye(()=>t.params.category,E=>{E?l.value=E:l.value="",c.value=1,h.value=1,j()}),Ye(()=>t.query.search,E=>{if(E){const C=Array.isArray(E)?E[0]:E;C&&typeof C=="string"&&(r.value=C)}}),je(()=>{if(t.params.category&&(l.value=t.params.category),t.query.search){const E=Array.isArray(t.query.search)?t.query.search[0]:t.query.search;E&&typeof E=="string"&&(r.value=E)}j(),sessionStorage.removeItem("isEditMode"),sessionStorage.removeItem("editPostData")}),(E,C)=>{const W=dt("router-link");return d(),v("div",Yf,[s("div",Qf,[s("div",Jf,[s("div",Zf,[s("h1",Xf,[C[16]||(C[16]=s("i",{class:"icon-forum"},null,-1)),oe(" "+y(K()),1)]),s("p",ep,y(H()),1)]),s("div",tp,[s("button",{class:"btn btn-primary",onClick:C[0]||(C[0]=w=>p.value=!0)},[...C[17]||(C[17]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])])]),s("div",sp,[s("div",np,[C[19]||(C[19]=s("div",{class:"search-icon-wrapper"},[s("i",{class:"icon-search"})],-1)),Z(s("input",{type:"text",placeholder:"...","onUpdate:modelValue":C[1]||(C[1]=w=>r.value=w),onKeyup:Qe(J,["enter"]),class:"search-input"},null,544),[[ae,r.value]]),s("button",{onClick:J,class:"search-btn"},[...C[18]||(C[18]=[s("span",null,"",-1)])])]),s("div",op,[C[21]||(C[21]=s("div",{class:"filter-label"},[s("i",{class:"icon-filter"})],-1)),Z(s("select",{"onUpdate:modelValue":C[2]||(C[2]=w=>l.value=w),onChange:S,class:"filter-select"},[...C[20]||(C[20]=[s("option",{value:""},"",-1),s("option",{value:"movie"}," ",-1),s("option",{value:"tv"}," ",-1),s("option",{value:"variety"}," ",-1)])],544),[[Ue,l.value]])])]),s("div",ap,[o.value?(d(),v("div",lp,[...C[22]||(C[22]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):!a.value||a.value.length===0?(d(),v("div",ip,[C[23]||(C[23]=s("i",{class:"icon-empty"},null,-1)),C[24]||(C[24]=s("h3",null,"",-1)),C[25]||(C[25]=s("p",null,"",-1)),s("button",{class:"btn btn-primary",onClick:C[3]||(C[3]=w=>p.value=!0)},"  ")])):(d(),v("div",rp,[(d(!0),v(se,null,ve(R.value,w=>(d(),v("div",{key:w.id,class:"post-item"},[s("div",up,[s("div",cp,[s("div",dp,[s("img",{src:w.author.avatar||"/avatar.png",alt:w.author.username,class:"author-avatar",onError:C[4]||(C[4]=Q=>{const ue=Q.target;ue&&(ue.src="/avatar.png")})},null,40,vp),s("div",fp,[pe(W,{to:`/user/${w.author.id}`,class:"author-name"},{default:Se(()=>[oe(y(w.author.username),1)]),_:2},1032,["to"]),s("span",pp,y(z(w.createdAt||w.createTime)),1)])]),s("div",gp,[s("span",{class:fe(`category-tag category-${w.category}`)},y(w.categoryName||""),3)])]),pe(W,{to:`/post/${w.id}`,class:"post-title"},{default:Se(()=>[oe(y(w.title),1)]),_:2},1032,["to"]),s("p",mp,y(w.excerpt),1),w.tags&&w.tags.length>0?(d(),v("div",hp,[(d(!0),v(se,null,ve(w.tags,Q=>(d(),v("span",{key:Q,class:"tag"},y(Q),1))),128))])):D("",!0),s("div",yp,[s("div",_p,[s("span",bp,[C[26]||(C[26]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y(w.views),1)]),s("span",$p,[C[27]||(C[27]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y(w.commentsCount||0),1)])]),s("div",wp,[s("button",{class:"action-btn",onClick:Q=>N(w)},[...C[28]||(C[28]=[s("i",{class:"icon-share"},null,-1)])],8,kp)])])])]))),128))])),g.value.total>0?(d(),v("div",Cp,[s("div",Sp,[s("span",null," "+y(g.value.total)+" ",1),g.value.total>0?(d(),v("span",xp,"|")):D("",!0),g.value.total>0?(d(),v(se,{key:1},[C[30]||(C[30]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":C[5]||(C[5]=w=>f.value=w),onChange:_,class:"page-size-select"},[...C[29]||(C[29]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,f.value]]),C[31]||(C[31]=s("span",null,"",-1))],64)):D("",!0)]),F.value>=1?(d(),v("div",Pp,[s("button",{class:"pagination-btn",disabled:c.value<=1,onClick:C[6]||(C[6]=w=>b(1)),title:""},"  ",8,Tp),s("button",{class:"pagination-btn",disabled:c.value===1,onClick:C[7]||(C[7]=w=>b(c.value-1)),title:""},"  ",8,Ap),F.value>1?(d(),v("div",Ep,[(d(!0),v(se,null,ve(q.value,w=>(d(),v(se,{key:w},[typeof w=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:w===c.value}]),onClick:Q=>b(w)},y(w),11,Ip)):(d(),v("span",Mp,y(w),1))],64))),128))])):D("",!0),s("button",{class:"pagination-btn",disabled:c.value>=F.value,onClick:C[8]||(C[8]=w=>b(c.value+1)),title:""},"  ",8,Dp),s("button",{class:"pagination-btn",disabled:c.value>=F.value,onClick:C[9]||(C[9]=w=>b(F.value)),title:""},"  ",8,Vp),F.value>1?(d(),v("div",Rp,[C[32]||(C[32]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":C[10]||(C[10]=w=>h.value=w),min:1,max:F.value,onKeyup:Qe(B,["enter"]),class:"jump-input"},null,40,Up),[[ae,h.value,void 0,{number:!0}]]),C[33]||(C[33]=s("span",null,"",-1)),s("button",{onClick:B,class:"jump-btn"},"")])):D("",!0)])):D("",!0)])):D("",!0)])]),p.value?(d(),v("div",{key:0,class:"modal-overlay",onClick:P},[s("div",{class:"modal-content",onClick:C[15]||(C[15]=ge(()=>{},["stop"]))},[s("div",{class:"modal-header"},[C[35]||(C[35]=s("h3",null,"",-1)),s("button",{class:"close-btn",onClick:P},[...C[34]||(C[34]=[s("i",{class:"icon-close"},null,-1)])])]),s("div",Lp,[s("form",{onSubmit:ge(x,["prevent"])},[s("div",Fp,[C[36]||(C[36]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":C[11]||(C[11]=w=>M.value.title=w),placeholder:"...",required:"",class:"form-input"},null,512),[[ae,M.value.title]])]),s("div",Op,[C[38]||(C[38]=s("label",null,"",-1)),Z(s("select",{"onUpdate:modelValue":C[12]||(C[12]=w=>M.value.category=w),required:"",class:"form-select"},[...C[37]||(C[37]=[s("option",{value:""},"",-1),s("option",{value:"movie"},"",-1),s("option",{value:"tv"},"",-1),s("option",{value:"variety"},"",-1)])],512),[[Ue,M.value.category]])]),s("div",zp,[C[39]||(C[39]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":C[13]||(C[13]=w=>M.value.tagsInput=w),placeholder:"...",class:"form-input"},null,512),[[ae,M.value.tagsInput]])]),s("div",Np,[C[40]||(C[40]=s("label",null,"",-1)),Z(s("textarea",{"onUpdate:modelValue":C[14]||(C[14]=w=>M.value.content=w),placeholder:"...",rows:"8",required:"",class:"form-textarea"},null,512),[[ae,M.value.content]])]),s("div",jp,[s("button",{type:"button",class:"btn btn-outline",onClick:P},"  "),s("button",{type:"submit",class:"btn btn-primary",disabled:u.value},y(u.value?"...":""),9,qp)])],32)])])])):D("",!0)])}}});const bl=Ie(Hp,[["__scopeId","data-v-d74d0279"]]),ot=I({visible:!1,title:"",message:"",confirmText:"",cancelText:"",type:"warning",isProcessing:!1});class Bp{confirm(t,n={}){return new Promise((o,a)=>{ot.value={visible:!0,title:n.title||"",message:t,confirmText:n.confirmText||"",cancelText:n.cancelText||"",type:n.type||"warning",resolve:o,reject:a,isProcessing:!1}})}warning(t,n={}){return this.confirm(t,{...n,type:"warning"})}danger(t,n={}){return this.confirm(t,{...n,type:"danger"})}info(t,n={}){return this.confirm(t,{...n,type:"info"})}handleConfirm=()=>{ot.value.isProcessing=!0,setTimeout(()=>{ot.value.resolve&&ot.value.resolve(!0),this.close()},100)};handleCancel=()=>{ot.value.resolve&&ot.value.resolve(!1),this.close()};close(){ot.value={visible:!1,title:"",message:"",confirmText:"",cancelText:"",type:"warning",isProcessing:!1}}setProcessing(t){ot.value.isProcessing=t}}const Qs=new Bp,ia="remembered_credentials";function Kp(e,t){try{const n={username:e,password:t};localStorage.setItem(ia,JSON.stringify(n))}catch(n){console.error(":",n)}}function $l(){try{const e=localStorage.getItem(ia);if(e)return JSON.parse(e)}catch(e){console.error(":",e)}return null}function Wp(){try{localStorage.removeItem(ia)}catch(e){console.error(":",e)}}const Je=Ji("user",()=>{const e=I(null),t=I(null),n=_e(()=>!!e.value),o=async p=>{try{const u=new FormData;u.append("username",p.username),u.append("password",p.password),p.remember&&u.append("remember-me","1");const h=await he("/user/login",{method:"POST",body:u});if(h&&(h.code===200||h.code==="200")&&h.data){e.value=h.data,t.value=h.data.id;try{localStorage.setItem("current_user_id",h.data.id.toString())}catch(g){console.error("id:",g)}return p.remember?Kp(p.username,p.password):Wp(),{success:!0}}return{success:!1,message:h&&h.message||""}}catch{return{success:!1,message:""}}};return{user:e,userId:t,isLoggedIn:n,login:o,register:async p=>{try{const u=await he("/user/register",{method:"POST",body:Ge({username:p.username,nickname:p.nickname,password:p.password,email:p.email,favors:p.favors})});return u&&(u.code===200||u.code==="200")?{success:!0}:{success:!1,message:u&&u.message||""}}catch{return{success:!1,message:""}}},logout:async()=>{try{await he("/user/logout",{method:"POST"})}catch{}e.value=null,t.value=null;try{localStorage.removeItem("remembered_credentials"),localStorage.removeItem("autoLogin"),localStorage.removeItem("user_token"),localStorage.removeItem("user_info"),localStorage.removeItem("current_user_id"),sessionStorage.removeItem("user_token"),sessionStorage.removeItem("user_info")}catch(p){console.error(":",p)}},loadUserFromStorage:async()=>{try{const p=localStorage.getItem("current_user_id");if(p){t.value=parseInt(p);const u=await he(`/user/${t.value}/info`);u&&u.code===200&&u.data?e.value=u.data:(e.value=null,t.value=null,localStorage.removeItem("current_user_id"))}else e.value=null}catch{e.value=null,t.value=null}},updateProfile:async p=>{try{const u=await he("/user/profile",{method:"PATCH",body:Ge(p)});return u.success&&u.user?(e.value={...e.value,...u.user},{success:!0}):{success:!1,message:u.message||""}}catch{return{success:!1,message:""}}},autoLogin:async()=>{const p=$l();if(!p||!p.username||!p.password)return!1;try{return(await o({username:p.username,password:p.password,remember:!0})).success}catch{return!1}},getSavedCredentials:()=>$l()}}),Gp={class:"post-detail"},Yp={class:"container"},Qp={key:0,class:"loading"},Jp={key:1,class:"post-content"},Zp={class:"post-header"},Xp={class:"post-meta"},eg=["src","alt"],tg={class:"author-info"},sg={class:"post-time"},ng={class:"post-actions"},og={class:"post-body"},ag={class:"post-title"},lg={key:0,class:"post-tags"},ig=["innerHTML"],rg={class:"post-stats"},ug={class:"stat-item"},cg={class:"stat-item"},dg={class:"stat-item"},vg={class:"post-voting"},fg={class:"comments-section"},pg={class:"comments-header"},gg={key:0,class:"comment-form"},mg={class:"form-group"},hg={class:"form-actions"},yg=["disabled"],_g={class:"comments-list"},bg=["id"],$g={class:"comment-header"},wg=["src","alt"],kg={class:"comment-meta"},Cg={class:"comment-author"},Sg={class:"comment-time"},xg={class:"comment-actions"},Pg=["onClick"],Tg=["onClick"],Ag=["onClick"],Eg=["innerHTML"],Ig=["id"],Mg={class:"form-group"},Dg={class:"form-actions"},Vg=["disabled"],Rg=["id"],Ug={class:"form-group"},Lg={class:"form-actions"},Fg=["disabled"],Og={key:2,class:"replies-list"},zg=["id"],Ng={class:"comment-header"},jg=["src","alt"],qg={class:"comment-meta"},Hg={class:"comment-author"},Bg={class:"comment-time"},Kg={class:"comment-actions"},Wg=["onClick"],Gg=["onClick"],Yg=["innerHTML"],Qg=["id"],Jg={class:"form-group"},Zg={class:"form-actions"},Xg=["disabled"],em={class:"modal-body"},tm={class:"form-group"},sm={class:"form-group"},nm={class:"form-group"},om={class:"form-group"},am={class:"form-actions"},lm=["disabled"],im=Ne({__name:"PostDetail",setup(e){const t=Ut(),n=Je(),o=I(!0),a=I(null),i=I([]),r=I(0);I(null);const l=I(!1),c=I(!1),f=I(!1),p=I(""),u=I(""),h=I(!1),g=I(!1),M=I(null),R=I(null),F=I(""),q=I(!1),K=I(null),H=I({canEdit:!1,canDelete:!1}),z=A=>{R.value=A,F.value=A.content,q.value=!0,setTimeout(()=>{const m=document.getElementById(`comment-edit-form-${A.id}`);m&&m.scrollIntoView({behavior:"smooth",block:"center"})},100)},j=async A=>{console.log("ID:",A.id);const m=await Qs.danger("",{title:""});if(console.log(":",m),!m){console.log("");return}K.value=A.id,console.log("ID:",A.id);try{console.log("APIID:",A.id);const ee=await ct.deleteComment(A.id);if(console.log("API:",ee),ee.code===200){console.log(""),de.success("");const k=parseInt(t.params.id.toString());await _(k)}else{const k=ee.message||"";console.error("API:",k),de.error(k)}}catch(ee){console.error(":",ee),ee.message==="UNAUTHORIZED"||ee.message.includes("401")?de.error(""):de.error(ee.message||"")}finally{K.value=null,console.log("ID")}},S=I({id:0,title:"",content:"",category:"",tagsInput:""}),J=A=>{if(!A)return"";const ee=new Date().getTime()-new Date(A).getTime(),k=Math.floor(ee/(1e3*60*60*24)),U=Math.floor(ee/(1e3*60*60)),ie=Math.floor(ee/(1e3*60));return k>0?`${k}`:U>0?`${U}`:ie>0?`${ie}`:""},b=A=>A.replace(/\n/g,"<br>"),_=async A=>{try{const m=await ct.getComments(A);if(console.log("API:",m),m.code===200){const ee=m.data?.comments||[],k=U=>{const ie=n.userId,re=ie!==null&&U.author?.id===ie,be={...U,createdAt:U.createTime||U.createdAt,canEdit:re,canDelete:re};return be.replies&&Array.isArray(be.replies)&&(be.replies=be.replies.map(Te=>{const Ve=ie!==null&&Te.author?.id===ie;return{...Te,createdAt:Te.createTime||Te.createdAt,canEdit:Ve,canDelete:Ve}})),be};if(i.value=ee.map(k),a.value&&a.value.commentsCount!==void 0)r.value=a.value.commentsCount;else if(m.data?.total!==void 0)r.value=m.data.total;else{const U=ee.reduce((ie,re)=>ie+1+(re.replies?re.replies.length:0),0);r.value=U}console.log(":",i.value),console.log(":",r.value)}else throw new Error(m.message||"")}catch(m){console.error(":",m),i.value=[],a.value&&a.value.commentsCount!==void 0?r.value=a.value.commentsCount:r.value=0}},B=()=>{q.value=!1,R.value=null,F.value=""},N=async()=>{if(!(!R.value||!F.value.trim())){console.log(""),h.value=!0,console.log("submitting:",h.value);try{console.log(":",{id:R.value.id,content:F.value.trim()});const A=await ct.updateComment({id:R.value.id,content:F.value.trim()});if(console.log("API:",A),A.code===200){console.log(""),de.success(""),B();const m=parseInt(t.params.id.toString());await _(m)}else{const m=A.message||"";console.error("API:",A.code,m),de.error(m)}}catch(A){console.error(":",A),A.message==="UNAUTHORIZED"||A.message.includes("401")?de.error(""):de.error(A.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{h.value=!1,console.log("submitting:",h.value)},100)}}},P=async()=>{o.value=!0;try{const A=parseInt(t.params.id.toString());if(isNaN(A))throw new Error("ID");const m=await ct.getPostDetail(A);if(m.code===200){const ee={...m.data,createdAt:m.data.createTime};a.value=ee,ee.commentsCount!==void 0&&(r.value=ee.commentsCount);try{const U=await ct.getPostPermission(A);U.code===200&&(H.value=U.data)}catch(U){console.error(":",U),H.value={canEdit:!1,canDelete:!1}}await _(A);const k=t.query.commentId;k&&setTimeout(()=>{Ce(k.toString())},300)}else throw new Error(m.message||"")}catch(A){console.error(":",A),de.error("")}finally{o.value=!1}},x=async A=>{if(!(!a.value||h.value||A!=="up")){h.value=!0;try{const m=a.value;if(m.isLiked)await ct.unlikePost(m.id),m.isLiked=!1,m.votes=(m.votes||0)-1,m.likes=(m.likes||0)-1;else{await ct.likePost(a.value.id);const ee=a.value;ee.isLiked=!0,ee.votes=(ee.votes||0)+1,ee.likes=(ee.likes||0)+1}}catch(m){console.error(":",m),de.error("")}finally{h.value=!1}}},E=()=>{a.value&&(S.value={id:a.value.id,title:a.value.title,content:a.value.content,category:a.value.category,tagsInput:a.value.tags?a.value.tags.join(", "):""},f.value=!0)},C=async()=>{if(!S.value.title.trim()||!S.value.content.trim()){de.warning("");return}g.value=!0;try{const A=S.value.tagsInput.split(",").map(k=>k.trim()).filter(k=>k),m={title:S.value.title,content:S.value.content,category:S.value.category,tags:A},ee=await ct.updatePost(S.value.id,m);if(ee.code===200){const k={...a.value,...ee.data,createdAt:ee.data.createTime,tags:A};a.value={...k,author:k.author||{id:0,username:"",avatar:""}},W(),de.success("")}else throw new Error(ee.message||"")}catch(A){console.error(":",A),de.error("")}finally{g.value=!1}},W=()=>{f.value=!1,S.value={id:0,title:"",content:"",category:"",tagsInput:""}},w=async()=>{if(await Qs.danger("",{title:""}))try{const m=parseInt(t.params.id.toString()),ee=await ct.deletePost(m);if(ee.code===200)de.success(""),window.location.href="/forum";else throw new Error(ee.message||"")}catch(m){console.error(":",m),de.error("")}},Q=()=>{navigator.share?navigator.share({title:a.value?.title||"",text:a.value?.content?.substring(0,100)||"",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),de.success(""))},ue=async()=>{if(!p.value.trim())return;console.log(""),h.value=!0,console.log("submitting:",h.value);const A=parseInt(t.params.id.toString());try{console.log(":",{content:p.value.trim(),postId:A});const m=await ct.createComment({content:p.value.trim(),postId:A});if(console.log("API:",m),m.code===200)console.log(""),de.success(""),p.value="",l.value=!1,console.log(""),await _(A);else{const ee=m.message||"";console.error("API:",m.code,ee),de.error(ee)}}catch(m){console.error(":",m),m.message==="UNAUTHORIZED"||m.message.includes("401")?de.error(""):de.error(m.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{h.value=!1,console.log("submitting:",h.value)},100)}},X=A=>{M.value=A,c.value=!0,u.value="",setTimeout(()=>{const m=document.getElementById(`reply-form-${A.id}`);m&&m.scrollIntoView({behavior:"smooth",block:"center"})},100)},ce=async()=>{if(!u.value.trim()||!M.value)return;console.log(""),h.value=!0,console.log("submitting:",h.value);const A=parseInt(t.params.id.toString()),m=M.value.id;try{console.log(":",{content:u.value.trim(),postId:A,parentId:m});const ee=await ct.createComment({content:u.value.trim(),postId:A,parentId:m});if(console.log("API:",ee),ee.code===200)console.log(""),de.success(""),u.value="",c.value=!1,M.value=null,console.log(""),await _(A);else{const k=ee.message||"";console.error("API:",ee.code,k),de.error(k)}}catch(ee){console.error(":",ee),ee.message==="UNAUTHORIZED"||ee.message.includes("401")?de.error(""):de.error(ee.message||"")}finally{console.log("finallysubmitting"),setTimeout(()=>{h.value=!1,console.log("submitting:",h.value)},100)}},Ce=A=>{const m=document.getElementById(`comment-${A}`);if(m){m.scrollIntoView({behavior:"smooth",block:"center"}),m.classList.add("comment-highlight"),setTimeout(()=>{m.classList.remove("comment-highlight")},3e3);return}const ee=t.query.parentCommentId;if(ee){const k=document.getElementById(`comment-${ee}`);k&&(k.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{const U=document.getElementById(`comment-${A}`);U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),U.classList.add("comment-highlight"),setTimeout(()=>{U.classList.remove("comment-highlight")},3e3))},500))}};return je(()=>{P()}),(A,m)=>{const ee=dt("router-link");return d(),v("div",Gp,[s("div",Yp,[o.value?(d(),v("div",Qp,[...m[16]||(m[16]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):a.value?(d(),v("div",Jp,[s("div",Zp,[s("div",Xp,[s("img",{src:a.value.author.avatar||"/avatar.png",alt:a.value.author.username,class:"author-avatar",onError:m[0]||(m[0]=k=>k.target.src="/avatar.png")},null,40,eg),s("div",tg,[pe(ee,{to:`/user/${a.value.author.id}`,class:"author-name"},{default:Se(()=>[oe(y(a.value.author.username),1)]),_:1},8,["to"]),s("span",sg,y(J(a.value.createTime)),1)])]),s("div",ng,[H.value.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:E},[...m[17]||(m[17]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])])):D("",!0),H.value.canDelete?(d(),v("button",{key:1,class:"action-btn",onClick:w},[...m[18]||(m[18]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])])):D("",!0),s("button",{class:"action-btn",onClick:Q},[...m[19]||(m[19]=[s("i",{class:"icon-share"},null,-1),oe("  ",-1)])])])]),s("div",og,[s("h1",ag,y(a.value.title),1),a.value.tags&&a.value.tags.length>0?(d(),v("div",lg,[(d(!0),v(se,null,ve(a.value.tags,k=>(d(),v("span",{key:k,class:"tag"},y(k),1))),128))])):D("",!0),s("div",{class:"post-text",innerHTML:b(a.value.content)},null,8,ig)]),s("div",rg,[s("div",ug,[m[20]||(m[20]=s("i",{class:"icon-eye"},null,-1)),s("span",null,y(a.value.views)+" ",1)]),s("div",cg,[m[21]||(m[21]=s("i",{class:"icon-comment"},null,-1)),s("span",null,y(r.value)+" ",1)]),s("div",dg,[m[22]||(m[22]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(a.value.likes)+" ",1)])]),s("div",vg,[s("button",{class:fe(["vote-btn upvote",{active:a.value.isLiked}]),onClick:m[1]||(m[1]=k=>x("up"))},[m[23]||(m[23]=s("i",{class:"icon-arrow-up"},null,-1)),oe(" "+y(a.value.isLiked?"":""),1)],2)]),s("div",fg,[s("div",pg,[s("h3",null," ("+y(r.value)+")",1),s("button",{class:"btn btn-primary",onClick:m[2]||(m[2]=k=>l.value=!l.value)},[...m[24]||(m[24]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])]),l.value?(d(),v("div",gg,[s("div",mg,[Z(s("textarea",{"onUpdate:modelValue":m[3]||(m[3]=k=>p.value=k),placeholder:"...",rows:"4",class:"comment-textarea"},null,512),[[ae,p.value]])]),s("div",hg,[s("button",{class:"btn btn-outline",onClick:m[4]||(m[4]=k=>l.value=!1)},"  "),s("button",{class:"btn btn-primary",onClick:ue,disabled:h.value},y(h.value?"...":""),9,yg)])])):D("",!0),s("div",_g,[(d(!0),v(se,null,ve(i.value,k=>(d(),v("div",{key:k.id,id:`comment-${k.id}`,class:fe(["comment-item",{"comment-highlight":$e(t).query.commentId===k.id.toString()}])},[s("div",$g,[s("img",{src:k.author.avatar||"/avatar.png",alt:k.author.username,class:"comment-avatar",onError:m[5]||(m[5]=U=>U.target.src="/avatar.png")},null,40,wg),s("div",kg,[s("span",Cg,y(k.author.username),1),s("span",Sg,y(J(k.createdAt)),1)]),s("div",xg,[s("button",{class:"action-btn",onClick:U=>X(k)},[...m[25]||(m[25]=[s("i",{class:"icon-reply"},null,-1),oe("  ",-1)])],8,Pg),k.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:U=>z(k)},[...m[26]||(m[26]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])],8,Tg)):D("",!0),k.canDelete?(d(),v("button",{key:1,class:"action-btn delete-btn",onClick:U=>j(k)},[...m[27]||(m[27]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])],8,Ag)):D("",!0)])]),s("div",{class:"comment-content",innerHTML:b(k.content)},null,8,Eg),q.value&&R.value&&R.value.id===k.id?(d(),v("div",{key:0,id:`comment-edit-form-${k.id}`,class:"comment-edit-form"},[s("div",Mg,[Z(s("textarea",{"onUpdate:modelValue":m[6]||(m[6]=U=>F.value=U),placeholder:"...",rows:"4",class:"comment-textarea"},null,512),[[ae,F.value]])]),s("div",Dg,[s("button",{class:"btn btn-outline",onClick:B},"  "),s("button",{class:"btn btn-primary",onClick:N,disabled:h.value},y(h.value?"...":""),9,Vg)])],8,Ig)):D("",!0),c.value&&M.value&&M.value.id===k.id?(d(),v("div",{key:1,id:`reply-form-${k.id}`,class:"reply-form"},[s("div",Ug,[Z(s("textarea",{"onUpdate:modelValue":m[7]||(m[7]=U=>u.value=U),placeholder:"...",rows:"3",class:"comment-textarea"},null,512),[[ae,u.value]])]),s("div",Lg,[s("button",{class:"btn btn-outline",onClick:m[8]||(m[8]=U=>{c.value=!1,M.value=null})},"  "),s("button",{class:"btn btn-primary",onClick:ce,disabled:h.value},y(h.value?"...":""),9,Fg)])],8,Rg)):D("",!0),k.replies&&k.replies.length>0?(d(),v("div",Og,[(d(!0),v(se,null,ve(k.replies,U=>(d(),v("div",{key:U.id,id:`comment-${U.id}`,class:fe(["reply-item",{"comment-highlight":$e(t).query.commentId===U.id.toString()}])},[s("div",Ng,[s("img",{src:U.author.avatar||"/avatar.png",alt:U.author.username,class:"comment-avatar",onError:m[9]||(m[9]=ie=>ie.target.src="/avatar.png")},null,40,jg),s("div",qg,[s("span",Hg,y(U.author.username),1),s("span",Bg,y(J(U.createdAt)),1)]),s("div",Kg,[U.canEdit?(d(),v("button",{key:0,class:"action-btn",onClick:ie=>z(U)},[...m[28]||(m[28]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])],8,Wg)):D("",!0),U.canDelete?(d(),v("button",{key:1,class:"action-btn delete-btn",onClick:ie=>j(U)},[...m[29]||(m[29]=[s("i",{class:"icon-trash"},null,-1),oe("  ",-1)])],8,Gg)):D("",!0)])]),s("div",{class:"comment-content",innerHTML:b(U.content)},null,8,Yg),q.value&&R.value&&R.value.id===U.id?(d(),v("div",{key:0,id:`comment-edit-form-${U.id}`,class:"comment-edit-form"},[s("div",Jg,[Z(s("textarea",{"onUpdate:modelValue":m[10]||(m[10]=ie=>F.value=ie),placeholder:"...",rows:"3",class:"comment-textarea"},null,512),[[ae,F.value]])]),s("div",Zg,[s("button",{class:"btn btn-outline",onClick:B},"  "),s("button",{class:"btn btn-primary",onClick:N,disabled:h.value},y(h.value?"...":""),9,Xg)])],8,Qg)):D("",!0)],10,zg))),128))])):D("",!0)],10,bg))),128))])])])):D("",!0),f.value?(d(),v("div",{key:2,class:"modal-overlay",onClick:W},[s("div",{class:"modal-content",onClick:m[15]||(m[15]=ge(()=>{},["stop"]))},[s("div",{class:"modal-header"},[m[31]||(m[31]=s("h3",null,"",-1)),s("button",{class:"close-btn",onClick:W},[...m[30]||(m[30]=[s("i",{class:"icon-close"},null,-1)])])]),s("div",em,[s("form",{onSubmit:ge(C,["prevent"])},[s("div",tm,[m[32]||(m[32]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":m[11]||(m[11]=k=>S.value.title=k),placeholder:"...",required:"",class:"form-input"},null,512),[[ae,S.value.title]])]),s("div",sm,[m[34]||(m[34]=s("label",null,"",-1)),Z(s("select",{"onUpdate:modelValue":m[12]||(m[12]=k=>S.value.category=k),required:"",class:"form-select"},[...m[33]||(m[33]=[s("option",{value:""},"",-1),s("option",{value:"movie"},"",-1),s("option",{value:"tv"},"",-1),s("option",{value:"variety"},"",-1)])],512),[[Ue,S.value.category]])]),s("div",nm,[m[35]||(m[35]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":m[13]||(m[13]=k=>S.value.tagsInput=k),placeholder:"...",class:"form-input"},null,512),[[ae,S.value.tagsInput]])]),s("div",om,[m[36]||(m[36]=s("label",null,"",-1)),Z(s("textarea",{"onUpdate:modelValue":m[14]||(m[14]=k=>S.value.content=k),placeholder:"...",rows:"8",required:"",class:"form-textarea"},null,512),[[ae,S.value.content]])]),s("div",am,[s("button",{type:"button",class:"btn btn-outline",onClick:W},"  "),s("button",{type:"submit",class:"btn btn-primary",disabled:g.value},y(g.value?"...":""),9,lm)])],32)])])])):D("",!0)])])}}});const rm=Ie(im,[["__scopeId","data-v-30e85f0c"]]),ts={getUserInfo:async e=>{try{return await he(`/user/${e}/info`)}catch(t){throw console.error(":",t),t}},getCurrentUser:async e=>{try{if(!e)throw new Error("ID");return await he(`/user/${e}/info`)}catch(t){throw console.error(":",t),t}},async updateUserProfile(e,t){try{return await he(`/user/${e}/update`,{method:"POST",body:Ge(t)})}catch(n){throw console.error(":",n),n}},changePassword:async(e,t)=>{try{return await he(`/user/${e}/password`,{method:"POST",body:Ge(t)})}catch(n){throw console.error(":",n),n}},followUser:async e=>{try{return await he(`/user/${e}/follow`,{method:"POST"})}catch(t){throw console.error(":",t),t}},unfollowUser:async e=>{try{return await he(`/user/${e}/unfollow`,{method:"POST"})}catch(t){throw console.error(":",t),t}},getFollowingList:async(e,t=1,n=10)=>{try{const o=new URLSearchParams;t&&o.append("page",t.toString()),n&&o.append("size",n.toString());const a=o.toString(),i=`/user/${e}/following${a?`?${a}`:""}`;return await he(i)}catch(o){throw console.error(":",o),o}}},um={class:"user-profile"},cm={class:"container"},dm={key:0,class:"loading"},vm={key:1,class:"profile-content"},fm={class:"profile-card"},pm={class:"profile-header"},gm={class:"avatar-section"},mm=["src","alt"],hm={class:"user-info"},ym={class:"username"},_m={key:0,class:"user-nickname"},bm={class:"user-stats"},$m={class:"stat-item"},wm={class:"stat-number"},km={class:"stat-item"},Cm={class:"stat-number"},Sm={key:0,class:"profile-actions"},xm={class:"profile-details"},Pm={key:0,class:"detail-item"},Tm={class:"detail-item"},Am={class:"detail-item"},Em={key:1,class:"detail-item"},Im={key:2,class:"detail-item"},Mm=["href"],Dm={key:3,class:"detail-item"},Vm={class:"tabs"},Rm=["onClick"],Um={class:"tab-content"},Lm={key:0,class:"posts-section"},Fm={key:0,class:"loading"},Om={key:1,class:"empty-state"},zm={key:2,class:"posts-list"},Nm={class:"post-header"},jm={class:"post-meta"},qm={class:"post-time"},Hm={class:"post-title"},Bm={class:"post-excerpt"},Km={class:"post-stats"},Wm={class:"stat"},Gm={class:"stat"},Ym={class:"stat"},Qm={key:0,class:"pagination-container"},Jm={class:"pagination-info"},Zm={key:0,class:"pagination"},Xm=["disabled"],eh=["disabled"],th={class:"page-numbers"},sh=["onClick"],nh={key:1,class:"page-ellipsis"},oh=["disabled"],ah=["disabled"],lh={class:"page-jump"},ih=["max"],rh={key:1,class:"favorites-section"},uh={class:"favorites-tabs"},ch=["onClick"],dh={key:0,class:"loading-state"},vh={key:1,class:"empty-state"},fh={key:2,class:"bookmarks-list"},ph={class:"bookmark-header"},gh={class:"bookmark-title"},mh={class:"bookmark-meta"},hh={class:"bookmark-year"},yh={class:"bookmark-rating"},_h={class:"bookmark-likes"},bh={key:3,class:"pagination-container"},$h={class:"pagination-info"},wh={class:"pagination"},kh=["disabled"],Ch=["disabled"],Sh={class:"page-numbers"},xh=["onClick"],Ph={key:1,class:"page-ellipsis"},Th=["disabled"],Ah=["disabled"],Eh={class:"page-jump"},Ih=["max"],Mh={key:2,class:"following-section"},Dh={class:"following-list-wrapper"},Vh={key:0,class:"empty-state"},Rh={key:1,class:"following-list"},Uh=["src","alt"],Lh={class:"following-info"},Fh={class:"following-name"},Oh={class:"following-stats"},zh=["onClick","disabled"],Nh={key:2,class:"pagination-container"},jh={class:"pagination-info"},qh={key:0,class:"divider"},Hh={key:0,class:"pagination"},Bh=["disabled"],Kh=["disabled"],Wh={class:"page-numbers"},Gh=["onClick"],Yh={key:1,class:"page-ellipsis"},Qh=["disabled"],Jh=["disabled"],Zh={class:"page-jump"},Xh=["max"],e1=Ne({__name:"UserProfile",setup(e){const t=de,n=Ut(),o=I(!0),a=I(null),i=I([]),r=I("posts"),l=I(!1),c=I([]),f=I({total:0,page:1,size:10,has_next:!1}),p=I(1),u=I(10),h=I(1),g=I(!1),M=I(null),R=I(1),F=I(10),q=I(0),K=I(1),H=I(!1),z=I({movies:[],tvshows:[],varieties:[]}),j=I({movies:{total:0,page:1,size:10,has_next:!1},tvshows:{total:0,page:1,size:10,has_next:!1},varieties:{total:0,page:1,size:10,has_next:!1}}),S=I(1),J=I(1),b=I(10),_=I("movies"),B=["movies","tvshows","varieties"],N=[{id:"posts",label:"",icon:"icon-edit"},{id:"favorites",label:"",icon:"icon-star"},{id:"following",label:"",icon:"icon-users"}],P=L=>new Date(L).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"});Ye(r,L=>{L==="favorites"?E(_.value,1,b.value):L==="following"&&w()}),Ye(()=>n.params.id,(L,$)=>{L&&L!==$&&(r.value="posts",p.value=1,u.value=10,h.value=1,c.value=[],f.value={total:0,page:1,size:10,has_next:!1},R.value=1,F.value=10,K.value=1,i.value=[],q.value=0,z.value={movies:[],tvshows:[],varieties:[]},j.value={movies:{total:0,page:1,size:10,has_next:!1},tvshows:{total:0,page:1,size:10,has_next:!1},varieties:{total:0,page:1,size:10,has_next:!1}},C())},{immediate:!1});const x=L=>{const ne=new Date().getTime()-new Date(L).getTime(),Y=Math.floor(ne/(1e3*60*60*24)),O=Math.floor(ne/(1e3*60*60)),ye=Math.floor(ne/(1e3*60));return Y>0?`${Y}`:O>0?`${O}`:ye>0?`${ye}`:""},E=async(L="movies",$=1,ne=10)=>{H.value=!0;try{const Y=parseInt(n.params.id),O=new URLSearchParams({type:L,page:$.toString(),size:ne.toString()}),ye=await he(`/user/${Y}/favorites?${O}`);if(ye&&ye.code===200&&ye.data){const me=L;z.value[me]=ye.data[me]||[],j.value[me]={total:ye.data?.pagination?.[L]?.total||0,page:ye.data?.pagination?.[L]?.page||$,size:ye.data?.pagination?.[L]?.size||ne,has_next:ye.data?.pagination?.[L]?.has_next||!1};const we=L;z.value[we].length===0&&j.value[we].total>0&&console.log("No favorites data returned for type:",L)}}catch(Y){console.error("Failed to load user favorites:",Y)}finally{H.value=!1}},C=async()=>{o.value=!0;try{const L=parseInt(n.params.id),ne=Je().user;let Y;Y=await ts.getUserInfo(L),Y&&Y.code===200&&Y.data?(a.value={id:Y.data.id,username:Y.data.username,email:Y.data.email,avatar:Y.data.avatar||"/avatar.png",nickname:Y.data.nickname,level:Y.data.level,joinDate:Y.data.join_date,postsCount:Y.data.posts_count,followersCount:Y.data.followers_count,followingCount:Y.data.following_count,role:Y.data.role,bio:"",location:"",website:""},Y.data.isFollowing!==void 0&&(l.value=Y.data.isFollowing),R.value=1,K.value=1,await ee(L,R.value,F.value),r.value==="following"&&w()):console.error(":",Y?.message||"")}catch(L){console.error(":",L)}finally{o.value=!1}},W=async()=>{try{const L=parseInt(n.params.id);let $;l.value?$=await ts.unfollowUser(L):$=await ts.followUser(L),$&&$.code===200?(l.value=!l.value,a.value&&(l.value?a.value.followersCount++:a.value.followersCount--)):console.error(":",$?.message||"")}catch(L){console.error(":",L)}},w=async()=>{if(a.value?.id)try{g.value=!0;const L=parseInt(Array.isArray(n.params.id)?n.params.id[0]:n.params.id),$=await ts.getFollowingList(L,p.value,u.value);$&&$.code===200&&$.data?(c.value=$.data.list||[],f.value=$.data.pagination||{total:0,page:1,size:u.value,has_next:!1},p.value=f.value.page,h.value=p.value):(console.error(":",$?.message||""),t.error(""))}catch(L){console.error(":",L),t.error("")}finally{g.value=!1}},Q=async L=>{try{M.value=L;const $=await ts.unfollowUser(L);$&&$.code===200?(t.success(""),await w(),a.value&&(a.value.followingCount=Math.max(0,(a.value.followingCount||0)-1))):t.error($?.message||"")}catch($){console.error(":",$),t.error("")}finally{M.value=null}},ue=L=>{const $=L.target;$.src="/avatar.png"},X=_e(()=>Math.max(1,Math.ceil(f.value.total/f.value.size))),ce=_e(()=>{const L=[],$=p.value,ne=X.value;if(ne<=7)for(let Y=1;Y<=ne;Y++)L.push(Y);else if($<=4){for(let Y=1;Y<=5;Y++)L.push(Y);L.push("..."),L.push(ne)}else if($>=ne-3){L.push(1),L.push("...");for(let Y=ne-4;Y<=ne;Y++)L.push(Y)}else{L.push(1),L.push("...");for(let Y=$-2;Y<=$+2;Y++)L.push(Y);L.push("..."),L.push(ne)}return L}),Ce=L=>{const $=Math.max(1,Math.min(L,X.value));$!==p.value&&(p.value=$,h.value=$,w())},A=()=>{p.value=1,h.value=1,w()},m=()=>{let L=h.value;const $=X.value;L<1&&(L=1),L>$&&(L=$),Ce(L)},ee=async(L,$,ne)=>{const Y=I(!0);try{const O=await ct.getUserPosts(L,$,ne);O&&O.code===200&&O.data?(i.value=O.data.posts||[],q.value=O.data.pagination.total||0,R.value=$,window.scrollTo({top:0,behavior:"smooth"})):console.error(":",O?.message||"")}catch(O){console.error(":",O)}finally{Y.value=!1}},k=_e(()=>{const $=Je().user;return $&&a.value&&$.id===a.value.id}),U=_e(()=>Math.max(1,Math.ceil(q.value/F.value))),ie=_e(()=>{const L=[],$=R.value,ne=U.value;if(ne<=7)for(let Y=1;Y<=ne;Y++)L.push(Y);else if($<=4){for(let Y=1;Y<=5;Y++)L.push(Y);L.push("..."),L.push(ne)}else if($>=ne-3){L.push(1),L.push("...");for(let Y=ne-4;Y<=ne;Y++)L.push(Y)}else{L.push(1),L.push("...");for(let Y=$-2;Y<=$+2;Y++)L.push(Y);L.push("..."),L.push(ne)}return L}),re=_e(()=>{const L=_.value,$=j.value[L];return Math.ceil($.total/$.size)}),be=_e(()=>{const L=[],$=re.value,ne=_.value,Y=j.value[ne].page;if($<=7)for(let O=1;O<=$;O++)L.push(O);else if(Y<=4){for(let O=1;O<=5;O++)L.push(O);L.push("..."),L.push($)}else if(Y>=$-3){L.push(1),L.push("...");for(let O=$-4;O<=$;O++)L.push(O)}else{L.push(1),L.push("...");for(let O=Y-1;O<=Y+1;O++)L.push(O);L.push("..."),L.push($)}return L}),Te=L=>{S.value=L,J.value=L,E(_.value,L,b.value)},Ve=L=>{b.value=L,S.value=1,J.value=1,E(_.value,1,L)},T=()=>{let L=J.value;const $=re.value;L<1&&(L=1),L>$&&(L=$),Te(L)},V=L=>{_.value=L,E(L,1,b.value)},G=L=>{const $=Math.max(1,Math.min(L,U.value));$===R.value||!a.value||(R.value=$,K.value=$,ee(a.value.id,$,F.value))},le=()=>{R.value=1,K.value=1,a.value&&ee(a.value.id,1,F.value)},te=()=>{const L=Math.max(1,Math.min(K.value,U.value));L!==R.value&&a.value&&G(L)};return je(()=>{C(),r.value==="favorites"&&E(_.value,1,b.value)}),(L,$)=>{const ne=dt("router-link"),Y=hi("loading");return d(),v("div",um,[s("div",cm,[o.value?(d(),v("div",dm,[...$[19]||($[19]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):a.value?(d(),v("div",vm,[s("div",fm,[s("div",pm,[s("div",gm,[s("img",{src:a.value.avatar||"/avatar.png",alt:a.value.username,class:"user-avatar"},null,8,mm)]),s("div",hm,[s("h1",ym,y(a.value.username),1),a.value.nickname?(d(),v("p",_m,y(a.value.nickname),1)):D("",!0),s("div",bm,[s("div",$m,[s("span",wm,y(a.value.followersCount),1),$[20]||($[20]=s("span",{class:"stat-label"},"",-1))]),s("div",km,[s("span",Cm,y(a.value.followingCount),1),$[21]||($[21]=s("span",{class:"stat-label"},"",-1))])])]),k.value?D("",!0):(d(),v("div",Sm,[s("button",{class:"btn btn-primary",onClick:W},y(l.value?"":""),1)]))]),s("div",xm,[a.value?.bio?(d(),v("div",Pm,[$[22]||($[22]=s("i",{class:"icon-user"},null,-1)),s("span",null,y(a.value?.bio),1)])):D("",!0),s("div",Tm,[$[23]||($[23]=s("i",{class:"icon-calendar"},null,-1)),s("span",null,""+y(P(a.value?.joinDate||"")),1)]),s("div",Am,[$[24]||($[24]=s("i",{class:"icon-level"},null,-1)),s("span",null,""+y(a.value?.level||1),1)]),a.value?.location?(d(),v("div",Em,[$[25]||($[25]=s("i",{class:"icon-location"},null,-1)),s("span",null,y(a.value?.location),1)])):D("",!0),a.value?.website?(d(),v("div",Im,[$[26]||($[26]=s("i",{class:"icon-link"},null,-1)),s("a",{href:a.value?.website,target:"_blank",class:"website-link"},y(a.value?.website),9,Mm)])):D("",!0),a.value?.role?(d(),v("div",Dm,[$[27]||($[27]=s("i",{class:"icon-role"},null,-1)),s("span",null,""+y(a.value?.role==="ADMIN"?"":""),1)])):D("",!0)])]),s("div",Vm,[(d(),v(se,null,ve(N,O=>s("button",{key:O.id,class:fe(["tab-btn",{active:r.value===O.id}]),onClick:ye=>r.value=O.id},[s("i",{class:fe(O.icon)},null,2),oe(" "+y(O.label),1)],10,Rm)),64))]),s("div",Um,[r.value==="posts"?(d(),v("div",Lm,[r.value==="posts"&&i.value.length===0&&q.value>0?(d(),v("div",Fm,[...$[28]||($[28]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):D("",!0),i.value.length===0?(d(),v("div",Om,[...$[29]||($[29]=[s("i",{class:"icon-empty"},null,-1),s("h3",null,"",-1),s("p",null,"",-1)])])):(d(),v("div",zm,[(d(!0),v(se,null,ve(i.value,O=>(d(),v("div",{key:O.id,class:"post-item"},[s("div",Nm,[s("div",jm,[s("span",qm,y(x(O.createTime)),1)])]),s("h3",Hm,[pe(ne,{to:`/post/${O.id}`},{default:Se(()=>[oe(y(O.title),1)]),_:2},1032,["to"])]),s("p",Bm,y(O.content.length>100?O.content.substring(0,100)+"...":O.content),1),s("div",Km,[s("span",Wm,[$[30]||($[30]=s("i",{class:"icon-eye"},null,-1)),oe(" "+y(O.views),1)]),s("span",Gm,[$[31]||($[31]=s("i",{class:"icon-comment"},null,-1)),oe(" "+y(O.commentsCount),1)]),s("span",Ym,[$[32]||($[32]=s("i",{class:"icon-like"},null,-1)),oe(" "+y(O.likes),1)])])]))),128)),i.value.length>0?(d(),v("div",Qm,[s("div",Jm,[s("span",null," "+y(q.value)+" ",1),$[34]||($[34]=s("span",{class:"divider"},"|",-1)),$[35]||($[35]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":$[0]||($[0]=O=>F.value=O),onChange:le,class:"page-size-select"},[...$[33]||($[33]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,F.value]]),$[36]||($[36]=s("span",null,"",-1))]),U.value>0?(d(),v("div",Zm,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:R.value<=1||U.value<=1}]),disabled:R.value<=1||U.value<=1,onClick:$[1]||($[1]=ge(O=>G(1),["stop"])),title:""},[...$[37]||($[37]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,Xm),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:R.value<=1||U.value<=1}]),disabled:R.value<=1||U.value<=1,onClick:$[2]||($[2]=ge(O=>G(R.value-1),["stop"])),title:""},[...$[38]||($[38]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,eh),s("div",th,[(d(!0),v(se,null,ve(ie.value,(O,ye)=>(d(),v(se,{key:`page-${ye}-${O}`},[typeof O=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:O===R.value}]),onClick:ge(me=>G(O),["stop"])},y(O),11,sh)):(d(),v("span",nh,y(O),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:R.value>=U.value||U.value<=1}]),disabled:R.value>=U.value||U.value<=1,onClick:$[3]||($[3]=ge(O=>G(R.value+1),["stop"])),title:""},[...$[39]||($[39]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,oh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:R.value>=U.value||U.value<=1}]),disabled:R.value>=U.value||U.value<=1,onClick:$[4]||($[4]=ge(O=>G(U.value),["stop"])),title:""},[...$[40]||($[40]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,ah),s("div",lh,[$[41]||($[41]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":$[5]||($[5]=O=>K.value=O),min:1,max:U.value,onKeyup:Qe(te,["enter"]),class:"jump-input"},null,40,ih),[[ae,K.value,void 0,{number:!0}]]),$[42]||($[42]=s("span",null,"",-1)),s("button",{onClick:ge(te,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)]))])):D("",!0),r.value==="favorites"?(d(),v("div",rh,[s("div",uh,[(d(),v(se,null,ve(B,O=>s("button",{key:O,class:fe(["favorite-tab-btn",{active:_.value===O}]),onClick:ye=>V(O)},y(O==="movies"?"":O==="tvshows"?"":""),11,ch)),64))]),H.value?(d(),v("div",dh,[...$[43]||($[43]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):z.value[_.value].length===0?(d(),v("div",vh,[$[44]||($[44]=s("i",{class:"icon-star"},null,-1)),$[45]||($[45]=s("h3",null,"",-1)),s("p",null,""+y(_.value==="movies"?"":_.value==="tvshows"?"":""),1)])):(d(),v("div",fh,[(d(!0),v(se,null,ve(z.value[_.value],O=>(d(),v("div",{key:O.id,class:"bookmark-item"},[pe(ne,{to:`/${_.value==="movies"?"movie":_.value==="tvshows"?"tv":"variety"}/${O.id}`},{default:Se(()=>[s("div",ph,[s("h3",gh,y(O.title),1),s("div",mh,[s("span",hh,y(O.year),1),s("span",yh,[$[46]||($[46]=s("i",{class:"icon-star"},null,-1)),oe(" "+y(O.rating),1)]),s("span",_h,[$[47]||($[47]=s("i",{class:"icon-heart"},null,-1)),oe(" "+y(O.likes)+"  ",1)])])])]),_:2},1032,["to"])]))),128))])),j.value[_.value].total>0?(d(),v("div",bh,[s("div",$h,[s("span",null," "+y(j.value[_.value].total)+" ",1),$[49]||($[49]=s("span",{class:"divider"},"|",-1)),$[50]||($[50]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":$[6]||($[6]=O=>b.value=O),onChange:$[7]||($[7]=O=>Ve(b.value)),class:"page-size-select"},[...$[48]||($[48]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,b.value,void 0,{number:!0}]]),$[51]||($[51]=s("span",null,"",-1))]),s("div",wh,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:j.value[_.value].page===1}]),disabled:j.value[_.value].page===1,onClick:$[8]||($[8]=ge(O=>Te(1),["stop"])),title:""},[...$[52]||($[52]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,kh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:j.value[_.value].page===1}]),disabled:j.value[_.value].page===1,onClick:$[9]||($[9]=ge(O=>Te(j.value[_.value].page-1),["stop"])),title:""},[...$[53]||($[53]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,Ch),s("div",Sh,[(d(!0),v(se,null,ve(be.value,(O,ye)=>(d(),v(se,{key:`fav-page-${ye}-${O}`},[typeof O=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:O===j.value[_.value].page}]),onClick:ge(me=>Te(O),["stop"])},y(O),11,xh)):(d(),v("span",Ph,y(O),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!j.value[_.value].has_next}]),disabled:!j.value[_.value].has_next,onClick:$[10]||($[10]=ge(O=>Te(j.value[_.value].page+1),["stop"])),title:""},[...$[54]||($[54]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,Th),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!j.value[_.value].has_next}]),disabled:!j.value[_.value].has_next,onClick:$[11]||($[11]=ge(O=>Te(re.value),["stop"])),title:""},[...$[55]||($[55]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,Ah),s("div",Eh,[$[56]||($[56]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":$[12]||($[12]=O=>J.value=O),min:1,max:re.value,onKeyup:Qe(T,["enter"]),class:"jump-input"},null,40,Ih),[[ae,J.value,void 0,{number:!0}]]),$[57]||($[57]=s("span",null,"",-1)),s("button",{onClick:ge(T,["stop"]),class:"jump-btn"},"")])])])):D("",!0)])):D("",!0),r.value==="following"?(d(),v("div",Mh,[Z((d(),v("div",Dh,[c.value.length===0&&!g.value?(d(),v("div",Vh,[...$[58]||($[58]=[s("i",{class:"icon-users"},null,-1),s("h3",null,"",-1),s("p",null,"",-1)])])):(d(),v("div",Rh,[(d(!0),v(se,null,ve(c.value,O=>(d(),v("div",{key:O.id,class:"following-item"},[s("img",{src:O.avatar||"/avatar.png",alt:O.nickname||O.username,class:"following-avatar",onError:ue},null,40,Uh),s("div",Lh,[s("h4",Fh,[pe(ne,{to:`/user/${O.id}`},{default:Se(()=>[oe(y(O.nickname||O.username),1)]),_:2},1032,["to"])]),s("div",Oh,[s("span",null,": "+y(O.followers_count),1)])]),k.value?(d(),v("button",{key:0,class:"btn btn-outline btn-sm unfollow-btn",onClick:ye=>Q(O.id),disabled:M.value===O.id},y(M.value===O.id?"...":""),9,zh)):D("",!0)]))),128))])),c.value.length>0?(d(),v("div",Nh,[s("div",jh,[s("span",null," "+y(f.value.total)+" ",1),f.value.total>0?(d(),v("span",qh,"|")):D("",!0),f.value.total>0?(d(),v(se,{key:1},[$[60]||($[60]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":$[13]||($[13]=O=>u.value=O),onChange:A,class:"page-size-select"},[...$[59]||($[59]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,u.value]]),$[61]||($[61]=s("span",null,"",-1))],64)):D("",!0)]),f.value.total>0&&X.value>0?(d(),v("div",Hh,[s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:p.value<=1||X.value<=1}]),disabled:p.value<=1||X.value<=1,onClick:$[14]||($[14]=ge(O=>Ce(1),["stop"])),title:""},[...$[62]||($[62]=[s("i",{class:"icon-home"},null,-1),s("span",null,"",-1)])],10,Bh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:p.value<=1||X.value<=1}]),disabled:p.value<=1||X.value<=1,onClick:$[15]||($[15]=ge(O=>Ce(p.value-1),["stop"])),title:""},[...$[63]||($[63]=[s("i",{class:"icon-chevron-left"},null,-1),s("span",null,"",-1)])],10,Kh),s("div",Wh,[(d(!0),v(se,null,ve(ce.value,(O,ye)=>(d(),v(se,{key:`page-${ye}-${O}`},[typeof O=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:O===p.value}]),onClick:ge(me=>Ce(O),["stop"])},y(O),11,Gh)):(d(),v("span",Yh,y(O),1))],64))),128))]),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!f.value.has_next||X.value<=1}]),disabled:!f.value.has_next||X.value<=1,onClick:$[16]||($[16]=ge(O=>Ce(p.value+1),["stop"])),title:""},[...$[64]||($[64]=[s("span",null,"",-1),s("i",{class:"icon-chevron-right"},null,-1)])],10,Qh),s("button",{class:fe(["pagination-btn pagination-nav-btn",{disabled:!f.value.has_next||X.value<=1}]),disabled:!f.value.has_next||X.value<=1,onClick:$[17]||($[17]=ge(O=>Ce(X.value),["stop"])),title:""},[...$[65]||($[65]=[s("span",null,"",-1),s("i",{class:"icon-end"},null,-1)])],10,Jh),s("div",Zh,[$[66]||($[66]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":$[18]||($[18]=O=>h.value=O),min:1,max:X.value,onKeyup:Qe(m,["enter"]),class:"jump-input"},null,40,Xh),[[ae,h.value,void 0,{number:!0}]]),$[67]||($[67]=s("span",null,"",-1)),s("button",{onClick:ge(m,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])),[[Y,g.value]])])):D("",!0)])])):D("",!0)])])}}});const t1=Ie(e1,[["__scopeId","data-v-cda9810c"]]);async function dr(e){const t=new FormData;t.append("file",e);const n=await he("/picture/upload",{method:"POST",body:t});if(n.code===200&&n.data?.url)return n.data.url;throw new Error(n.message||"")}async function s1(e){const t=new FormData;t.append("file",e);const n=await he("/picture/upload",{method:"POST",body:t});if(n.code===200&&n.data?.url)return n.data.url;throw new Error(n.message||"")}const n1={class:"image-uploader"},o1={class:"upload-input-wrapper"},a1=["disabled"],l1={class:"input-group"},i1=["placeholder","required","disabled"],r1=["disabled"],u1={key:0,class:"uploading-spinner"},c1={key:1},d1={key:0,class:"image-preview"},v1=["src"],f1=["disabled"],p1={key:1,class:"error-message"},g1=Ne({__name:"ImageUploader",props:{modelValue:{},placeholder:{default:"URL"},required:{type:Boolean,default:!1},uploadType:{default:"image"},buttonText:{default:""},disableUrlInput:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a=I(null),i=I(!1),r=I(""),l=I(n.modelValue),c=_e(()=>l.value||null);Ye(()=>n.modelValue,g=>{g!==l.value&&(l.value=g)});function f(){a.value?.click()}async function p(g){const R=g.target.files?.[0];if(!R)return;if(!R.type.startsWith("image/")){r.value="";return}const F=10*1024*1024;if(R.size>F){r.value="10MB";return}i.value=!0,r.value="";try{const q=n.uploadType==="avatar"?await dr(R):await s1(R);l.value=q,o("update:modelValue",q)}catch(q){r.value=q.message||""}finally{i.value=!1,a.value&&(a.value.value="")}}function u(){r.value="",o("update:modelValue",l.value)}function h(){l.value="",o("update:modelValue",""),r.value=""}return(g,M)=>(d(),v("div",n1,[s("div",o1,[s("input",{ref_key:"fileInput",ref:a,type:"file",accept:"image/*",onChange:p,class:"file-input",disabled:i.value},null,40,a1),s("div",l1,[Z(s("input",{"onUpdate:modelValue":M[0]||(M[0]=R=>l.value=R),type:"text",placeholder:g.placeholder,required:g.required,disabled:g.disableUrlInput,class:"url-input",onInput:u},null,40,i1),[[ae,l.value]]),s("button",{type:"button",onClick:f,class:"upload-btn",disabled:i.value},[i.value?(d(),v("span",u1)):(d(),v("span",c1,y(g.buttonText),1))],8,r1)])]),c.value?(d(),v("div",d1,[s("img",{src:c.value,alt:"",class:"preview-image"},null,8,v1),s("button",{type:"button",onClick:h,class:"clear-btn",disabled:i.value},"  ",8,f1)])):D("",!0),r.value?(d(),v("div",p1,y(r.value),1)):D("",!0)]))}});const is=Ie(g1,[["__scopeId","data-v-51a88f7d"]]),m1={class:"user-settings"},h1={class:"settings-container"},y1={class:"settings-tabs"},_1=["onClick"],b1={class:"settings-content"},$1={key:0,class:"profile-settings"},w1={class:"profile-form-container"},k1={class:"profile-form-wrapper"},C1={class:"form-group avatar-group"},S1={class:"avatar-container"},x1=["src","alt"],P1={class:"form-row"},T1={class:"form-group full-width"},A1={class:"form-row"},E1={class:"form-group full-width"},I1={class:"form-actions"},M1=["disabled"],D1={key:0},V1={key:1},R1={key:1,class:"modal-overlay"},U1={class:"modal-container"},L1={class:"modal-body"},F1={class:"avatar-upload-section"},O1=["src"],z1={class:"uploader-container"},N1={class:"modal-footer"},j1=["disabled"],q1={key:0},H1={key:1},B1={key:2,class:"password-settings"},K1={class:"password-form-container"},W1={class:"profile-form-wrapper"},G1={class:"form-group"},Y1={class:"input-with-icon"},Q1={key:0,class:"error-message"},J1={class:"form-group"},Z1={class:"input-with-icon"},X1={key:0,class:"error-message"},ey={class:"form-group"},ty={class:"input-with-icon"},sy={key:0,class:"error-message"},ny={class:"form-actions"},oy=["disabled"],ay={key:0,class:"loading-spinner small"},ly=Ne({__name:"UserSettings",setup(e){const t=de,n=[{id:"profile",label:"",icon:"icon-user"},{id:"password",label:"",icon:"icon-lock"}],o=I("profile"),a=Je(),i=I(null),r=I(!0),l=I(!1),c=it({nickname:"",avatar:"",email:""}),f=I(null),p=I(!1),u=I(""),h=I(null),g=async()=>{try{r.value=!0;const b=a.user;b&&(i.value={...b},c.nickname=i.value.nickname||"",c.avatar=i.value.avatar||"",c.email=i.value.email||"")}catch(b){console.error(":",b)}finally{r.value=!1}},M=()=>{h.value?.click()},R=b=>{const _=b.target,B=_.files?.[0];if(!B)return;if(!B.type.startsWith("image/")){t.error("");return}const N=10*1024*1024;if(B.size>N){t.error("10MB");return}f.value=B;const P=URL.createObjectURL(B);i.value&&(i.value.avatar=P),_&&(_.value="")},F=()=>{p.value=!1,u.value=i.value?.avatar||""},q=async()=>{l.value=!0;try{let b=c.avatar||i.value&&i.value.avatar||"";if(f.value)try{b=await dr(f.value),c.avatar=b,f.value=null}catch(P){console.error(":",P),t.error(P.message||"");return}const _={nickname:c.nickname,email:c.email};if(b&&(_.avatar=b),!i.value||!i.value.id){console.error(""),t.error("");return}const B=i.value.id,N=await ts.updateUserProfile(B,_);N&&N.code===200?(i.value&&(b&&(i.value.avatar=b),i.value.nickname=c.nickname,i.value.email=c.email),i.value&&a.$patch({user:{...i.value}}),t.success("")):(console.error(":",N?.message||""),t.error(""))}catch(b){console.error(":",b),t.error("")}finally{l.value=!1}},K=async()=>{l.value=!0;try{if(u.value&&i.value){let b=u.value;if(u.value.startsWith("blob:")){t.error("");return}const _={nickname:i.value.nickname,avatar:b,email:i.value.email},B=i.value.id,N=await ts.updateUserProfile(B,_);N&&N.code===200?(i.value.avatar=b,c.avatar=b,i.value&&a.$patch({user:{...i.value}}),t.success(""),F()):(console.error(":",N?.message||""),t.error(""))}}catch(b){console.error(":",b),t.error("")}finally{l.value=!1}};je(()=>{g()});const H=it({oldPassword:"",newPassword:"",confirmPassword:""}),z=it({oldPassword:"",newPassword:"",confirmPassword:""}),j=I(!1),S=b=>{const _=/[a-zA-Z]/.test(b),B=/[0-9]/.test(b),N=b.length>=8;return!_||!B||!N?"8":""},J=async()=>{if(z.oldPassword="",z.newPassword="",z.confirmPassword="",!H.oldPassword){z.oldPassword="";return}if(z.newPassword=S(H.newPassword),!z.newPassword){if(H.newPassword!==H.confirmPassword){z.confirmPassword="";return}try{j.value=!0;const b={oldPassword:H.oldPassword,newPassword:H.newPassword,confirmPassword:H.confirmPassword},_=i.value?.id;if(!_)throw new Error("");const B=await ts.changePassword(_,b);B&&B.code===200?(t.success(""),H.oldPassword="",H.newPassword="",H.confirmPassword=""):(console.error(":",B?.message||""),t.error(B?.message||""))}catch(b){console.error(":",b),t.error("")}finally{j.value=!1}}};return(b,_)=>{const B=hi("loading");return d(),v("div",m1,[_[19]||(_[19]=s("div",{class:"settings-header"},[s("h1",null,""),s("p",null,"")],-1)),s("div",h1,[s("div",y1,[(d(),v(se,null,ve(n,N=>s("div",{key:N.id,class:fe(["tab-item",{active:o.value===N.id}]),onClick:P=>o.value=N.id},[s("i",{class:fe(["iconfont",N.icon])},null,2),s("span",null,y(N.label),1)],10,_1)),64))]),s("div",b1,[o.value==="profile"?(d(),v("div",$1,[_[9]||(_[9]=s("h2",null,"",-1)),s("div",w1,[Z((d(),v("div",k1,[s("div",C1,[_[6]||(_[6]=s("div",{class:"avatar-label"},"",-1)),s("div",S1,[s("input",{type:"file",ref_key:"avatarFileInput",ref:h,accept:"image/jpeg,image/png,image/gif",onChange:R,class:"avatar-file-input",style:{display:"none"}},null,544),s("img",{src:i.value?.avatar||"/avatar.png",alt:i.value?.nickname||"User Avatar",class:"user-avatar",onClick:M},null,8,x1),s("div",{class:"avatar-upload-hint",onClick:M},"")])]),s("div",P1,[s("div",T1,[_[7]||(_[7]=s("div",{class:"form-label"},"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=N=>c.nickname=N),placeholder:"",class:"form-input",maxlength:"20"},null,512),[[ae,c.nickname]])])]),s("div",A1,[s("div",E1,[_[8]||(_[8]=s("div",{class:"form-label"},"",-1)),Z(s("input",{type:"email","onUpdate:modelValue":_[1]||(_[1]=N=>c.email=N),placeholder:"",class:"form-input",maxlength:"100"},null,512),[[ae,c.email]])])]),s("div",I1,[s("button",{onClick:q,class:"btn btn-primary",disabled:!c.nickname.trim()||l.value},[l.value?(d(),v("span",D1,"...")):(d(),v("span",V1,""))],8,M1)])])),[[B,r.value]])])])):D("",!0),p.value?(d(),v("div",R1,[s("div",U1,[s("div",{class:"modal-header"},[_[10]||(_[10]=s("div",{class:"modal-title"},"",-1)),s("button",{class:"close-btn",onClick:F},"")]),s("div",L1,[s("div",F1,[s("img",{src:u.value||"/avatar.png",alt:"",class:"preview-avatar"},null,8,O1),s("div",z1,[pe(is,{modelValue:u.value,"onUpdate:modelValue":_[2]||(_[2]=N=>u.value=N),"upload-type":"avatar"},null,8,["modelValue"])])])]),s("div",N1,[s("button",{class:"btn btn-secondary",onClick:F},""),s("button",{class:"btn btn-primary",onClick:K,disabled:!u.value||l.value},[l.value?(d(),v("span",q1,"...")):(d(),v("span",H1,""))],8,j1)])])])):D("",!0),o.value==="password"?(d(),v("div",B1,[_[18]||(_[18]=s("h2",null,"",-1)),s("div",K1,[s("div",W1,[_[16]||(_[16]=s("div",{class:"form-group avatar-group"},[s("div",{class:"avatar-label"},""),s("div",{class:"avatar-placeholder"})],-1)),_[17]||(_[17]=s("div",{class:"form-description"},"",-1)),s("form",{onSubmit:ge(J,["prevent"]),class:"password-form"},[s("div",G1,[_[11]||(_[11]=s("label",{for:"oldPassword"},"",-1)),s("div",Y1,[Z(s("input",{type:"password",id:"oldPassword","onUpdate:modelValue":_[3]||(_[3]=N=>H.oldPassword=N),placeholder:"",class:fe(["form-input",{error:z.oldPassword}]),required:""},null,2),[[ae,H.oldPassword]])]),z.oldPassword?(d(),v("span",Q1,y(z.oldPassword),1)):D("",!0)]),s("div",J1,[_[12]||(_[12]=s("label",{for:"newPassword"},"",-1)),s("div",Z1,[Z(s("input",{type:"password",id:"newPassword","onUpdate:modelValue":_[4]||(_[4]=N=>H.newPassword=N),placeholder:"",class:fe(["form-input",{error:z.newPassword}]),required:""},null,2),[[ae,H.newPassword]])]),z.newPassword?(d(),v("span",X1,y(z.newPassword),1)):D("",!0),_[13]||(_[13]=s("p",{class:"password-hint"},"8",-1))]),s("div",ey,[_[14]||(_[14]=s("label",{for:"confirmPassword"},"",-1)),s("div",ty,[Z(s("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":_[5]||(_[5]=N=>H.confirmPassword=N),placeholder:"",class:fe(["form-input",{error:z.confirmPassword}]),required:""},null,2),[[ae,H.confirmPassword]])]),z.confirmPassword?(d(),v("span",sy,y(z.confirmPassword),1)):D("",!0)]),_[15]||(_[15]=Kt('<div class="form-row" data-v-6041b8a1><div class="form-group full-width password-placeholder" data-v-6041b8a1><div class="form-label" data-v-6041b8a1></div><div class="form-placeholder" data-v-6041b8a1></div></div></div><div class="form-row" data-v-6041b8a1><div class="form-group full-width password-placeholder" data-v-6041b8a1><div class="form-label" data-v-6041b8a1></div><div class="form-placeholder" data-v-6041b8a1></div></div></div>',2)),s("div",ny,[s("button",{type:"submit",class:"btn btn-primary",disabled:j.value},[j.value?(d(),v("div",ay)):D("",!0),oe(" "+y(j.value?"...":""),1)],8,oy)])],32)])])])):D("",!0)])])])}}});const iy=Ie(ly,[["__scopeId","data-v-6041b8a1"]]);const ry={class:"login-page"},uy={class:"login-container"},cy={class:"login-form"},dy={class:"form-group"},vy={key:0,class:"error-message"},fy={class:"form-group"},py={class:"password-input"},gy=["type"],my={key:0,class:"error-message"},hy={class:"form-options"},yy={class:"checkbox-label"},_y=["disabled"],by={key:0,class:"loading-spinner"},$y={class:"form-footer"},wy={__name:"Login",setup(e){const t=Pt(),n=Je(),o=I(!1),a=I(!1),i=I({}),r=it({username:"",password:"",remember:!1});je(async()=>{if(n.isLoggedIn){t.push("/");return}const p=n.getSavedCredentials();if(p){r.username=p.username,r.password=p.password,r.remember=!0,o.value=!0;try{if((await n.login({username:p.username,password:p.password,remember:!0})).success){const h=t.currentRoute.value.query.redirect||"/";t.push(h)}}catch(u){console.error(":",u)}finally{o.value=!1}}});const l=()=>(i.value={},r.username.trim()||(i.value.username=""),r.password?r.password.length<6&&(i.value.password="6"):i.value.password="",Object.keys(i.value).length===0),c=async()=>{if(l()){o.value=!0;try{const p=await n.login({username:r.username,password:r.password,remember:!!r.remember});if(p.success){const u=t.currentRoute.value.query.redirect||"/";t.push(u)}else i.value.general=p.message||""}catch{i.value.general=""}finally{o.value=!1}}},f=()=>{window.location.href=`${la}/oauth2/qq`};return(p,u)=>{const h=dt("router-link");return d(),v("div",ry,[s("div",uy,[s("div",cy,[u[13]||(u[13]=s("div",{class:"form-header"},[s("h1",null,""),s("p",null,"")],-1)),s("form",{onSubmit:ge(c,["prevent"])},[s("div",dy,[u[4]||(u[4]=s("label",{for:"username"},"",-1)),Z(s("input",{type:"text",id:"username","onUpdate:modelValue":u[0]||(u[0]=g=>r.username=g),placeholder:"",required:"",class:fe(["form-input",{error:i.value.username}])},null,2),[[ae,r.username]]),i.value.username?(d(),v("span",vy,y(i.value.username),1)):D("",!0)]),s("div",fy,[u[5]||(u[5]=s("label",{for:"password"},"",-1)),s("div",py,[Z(s("input",{type:a.value?"text":"password",id:"password","onUpdate:modelValue":u[1]||(u[1]=g=>r.password=g),placeholder:"",required:"",class:fe(["form-input",{error:i.value.password}])},null,10,gy),[[Eo,r.password]]),s("button",{type:"button",class:"password-toggle",onClick:u[2]||(u[2]=g=>a.value=!a.value)},[s("i",{class:fe(a.value?"icon-eye-off":"icon-eye")},null,2)])]),i.value.password?(d(),v("span",my,y(i.value.password),1)):D("",!0)]),s("div",hy,[s("label",yy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":u[3]||(u[3]=g=>r.remember=g)},null,512),[[Ks,r.remember]]),u[6]||(u[6]=s("span",{class:"checkmark"},null,-1)),u[7]||(u[7]=oe("  ",-1))]),u[8]||(u[8]=s("a",{href:"#",class:"forgot-link"},"",-1))]),s("button",{type:"submit",class:"submit-btn",disabled:o.value},[o.value?(d(),v("div",by)):D("",!0),oe(" "+y(o.value?"...":""),1)],8,_y)],32),s("div",$y,[s("p",null,[u[10]||(u[10]=oe(" ",-1)),pe(h,{to:"/register",class:"link"},{default:Se(()=>[...u[9]||(u[9]=[oe("",-1)])]),_:1})])]),u[14]||(u[14]=s("div",{class:"divider"},[s("span",null,"")],-1)),s("div",{class:"social-login"},[u[12]||(u[12]=s("button",{class:"social-btn wechat"},[s("i",{class:"icon-wechat"}),oe("  ")],-1)),s("button",{class:"social-btn qq",onClick:f},[...u[11]||(u[11]=[s("i",{class:"icon-qq"},null,-1),oe(" QQ ",-1)])])])]),u[15]||(u[15]=Kt('<div class="login-image" data-v-d215db1f><div class="image-content" data-v-d215db1f><h2 data-v-d215db1f></h2><p data-v-d215db1f></p><div class="features" data-v-d215db1f><div class="feature-item" data-v-d215db1f><i class="icon-film" data-v-d215db1f></i><span data-v-d215db1f></span></div><div class="feature-item" data-v-d215db1f><i class="icon-tv" data-v-d215db1f></i><span data-v-d215db1f></span></div><div class="feature-item" data-v-d215db1f><i class="icon-users" data-v-d215db1f></i><span data-v-d215db1f></span></div></div></div></div>',1))])])}}},ky=Ie(wy,[["__scopeId","data-v-d215db1f"]]);const Cy={class:"register-page"},Sy={class:"register-container"},xy={class:"register-form"},Py={class:"form-row"},Ty={class:"form-group"},Ay={key:0,class:"error-message"},Ey={class:"form-group"},Iy={key:0,class:"error-message"},My={class:"form-group"},Dy={key:0,class:"error-message"},Vy={class:"form-row"},Ry={class:"form-group"},Uy={class:"password-input"},Ly=["type"],Fy={key:0,class:"error-message"},Oy={class:"form-group"},zy={class:"password-input"},Ny=["type"],jy={key:0,class:"error-message"},qy={class:"form-group"},Hy={class:"interests-grid"},By=["value"],Ky={class:"interest-label"},Wy={class:"form-options"},Gy={class:"checkbox-label"},Yy={class:"form-options"},Qy={class:"checkbox-label"},Jy=["disabled"],Zy={key:0,class:"loading-spinner"},Xy={class:"form-footer"},e_={__name:"Register",setup(e){const t=Pt(),n=Je(),o=I(!1),a=I(!1),i=I(!1),r=I({}),l=it({username:"",nickname:"",email:"",password:"",confirmPassword:"",interests:[],agreeTerms:!1,newsletter:!1}),c=[{value:"movie",label:""},{value:"tv",label:""},{value:"anime",label:""},{value:"variety",label:""},{value:"documentary",label:""},{value:"comedy",label:""},{value:"action",label:""},{value:"romance",label:""},{value:"horror",label:""},{value:"sci-fi",label:""}],f=()=>(r.value={},l.username.trim()?l.username.length<3?r.value.username="3":/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(l.username)||(r.value.username=""):r.value.username="",l.nickname&&l.nickname.length>20&&(r.value.nickname="20"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(r.value.email=""):r.value.email="",l.password?l.password.length<6?r.value.password="6":/(?=.*[a-zA-Z])(?=.*\d)/.test(l.password)||(r.value.password=""):r.value.password="",l.confirmPassword?l.password!==l.confirmPassword&&(r.value.confirmPassword=""):r.value.confirmPassword="",l.agreeTerms||(r.value.agreeTerms=""),Object.keys(r.value).length===0),p=async()=>{if(f()){o.value=!0;try{const h=await n.register({username:l.username,nickname:l.nickname||l.username,email:l.email,password:l.password,favors:l.interests});h.success?t.push("/login"):r.value.general=h.message||""}catch{r.value.general=""}finally{o.value=!1}}},u=()=>{window.location.href=`${la}/oauth2/qq`};return(h,g)=>{const M=dt("router-link");return d(),v("div",Cy,[s("div",Sy,[s("div",xy,[g[27]||(g[27]=s("div",{class:"form-header"},[s("h1",null,""),s("p",null,"")],-1)),s("form",{onSubmit:ge(p,["prevent"])},[s("div",Py,[s("div",Ty,[g[10]||(g[10]=s("label",{for:"username"},"",-1)),Z(s("input",{type:"text",id:"username","onUpdate:modelValue":g[0]||(g[0]=R=>l.username=R),placeholder:"",required:"",class:fe(["form-input",{error:r.value.username}])},null,2),[[ae,l.username]]),r.value.username?(d(),v("span",Ay,y(r.value.username),1)):D("",!0)]),s("div",Ey,[g[11]||(g[11]=s("label",{for:"nickname"},"",-1)),Z(s("input",{type:"text",id:"nickname","onUpdate:modelValue":g[1]||(g[1]=R=>l.nickname=R),placeholder:"",class:fe(["form-input",{error:r.value.nickname}])},null,2),[[ae,l.nickname]]),r.value.nickname?(d(),v("span",Iy,y(r.value.nickname),1)):D("",!0)])]),s("div",My,[g[12]||(g[12]=s("label",{for:"email"},"",-1)),Z(s("input",{type:"email",id:"email","onUpdate:modelValue":g[2]||(g[2]=R=>l.email=R),placeholder:"",required:"",class:fe(["form-input",{error:r.value.email}])},null,2),[[ae,l.email]]),r.value.email?(d(),v("span",Dy,y(r.value.email),1)):D("",!0)]),s("div",Vy,[s("div",Ry,[g[13]||(g[13]=s("label",{for:"password"},"",-1)),s("div",Uy,[Z(s("input",{type:a.value?"text":"password",id:"password","onUpdate:modelValue":g[3]||(g[3]=R=>l.password=R),placeholder:"",required:"",class:fe(["form-input",{error:r.value.password}])},null,10,Ly),[[Eo,l.password]]),s("button",{type:"button",class:"password-toggle",onClick:g[4]||(g[4]=R=>a.value=!a.value)},[s("i",{class:fe(a.value?"icon-eye-off":"icon-eye")},null,2)])]),r.value.password?(d(),v("span",Fy,y(r.value.password),1)):D("",!0)]),s("div",Oy,[g[14]||(g[14]=s("label",{for:"confirmPassword"},"",-1)),s("div",zy,[Z(s("input",{type:i.value?"text":"password",id:"confirmPassword","onUpdate:modelValue":g[5]||(g[5]=R=>l.confirmPassword=R),placeholder:"",required:"",class:fe(["form-input",{error:r.value.confirmPassword}])},null,10,Ny),[[Eo,l.confirmPassword]]),s("button",{type:"button",class:"password-toggle",onClick:g[6]||(g[6]=R=>i.value=!i.value)},[s("i",{class:fe(i.value?"icon-eye-off":"icon-eye")},null,2)])]),r.value.confirmPassword?(d(),v("span",jy,y(r.value.confirmPassword),1)):D("",!0)])]),s("div",qy,[g[15]||(g[15]=s("label",{for:"interests"},"",-1)),s("div",Hy,[(d(),v(se,null,ve(c,R=>s("label",{key:R.value,class:"interest-item"},[Z(s("input",{type:"checkbox",value:R.value,"onUpdate:modelValue":g[7]||(g[7]=F=>l.interests=F)},null,8,By),[[Ks,l.interests]]),s("span",Ky,y(R.label),1)])),64))])]),s("div",Wy,[s("label",Gy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":g[8]||(g[8]=R=>l.agreeTerms=R),required:""},null,512),[[Ks,l.agreeTerms]]),g[16]||(g[16]=s("span",{class:"checkmark"},null,-1)),g[17]||(g[17]=oe("  ",-1)),g[18]||(g[18]=s("a",{href:"#",class:"terms-link"},"",-1)),g[19]||(g[19]=oe("  ",-1)),g[20]||(g[20]=s("a",{href:"#",class:"terms-link"},"",-1))])]),s("div",Yy,[s("label",Qy,[Z(s("input",{type:"checkbox","onUpdate:modelValue":g[9]||(g[9]=R=>l.newsletter=R)},null,512),[[Ks,l.newsletter]]),g[21]||(g[21]=s("span",{class:"checkmark"},null,-1)),g[22]||(g[22]=oe("  ",-1))])]),s("button",{type:"submit",class:"submit-btn",disabled:o.value},[o.value?(d(),v("div",Zy)):D("",!0),oe(" "+y(o.value?"...":""),1)],8,Jy)],32),s("div",Xy,[s("p",null,[g[24]||(g[24]=oe(" ",-1)),pe(M,{to:"/login",class:"link"},{default:Se(()=>[...g[23]||(g[23]=[oe("",-1)])]),_:1})])]),g[28]||(g[28]=s("div",{class:"divider"},[s("span",null,"")],-1)),s("div",{class:"social-login"},[g[26]||(g[26]=s("button",{class:"social-btn wechat"},[s("i",{class:"icon-wechat"}),oe("  ")],-1)),s("button",{class:"social-btn qq",onClick:u},[...g[25]||(g[25]=[s("i",{class:"icon-qq"},null,-1),oe(" QQ ",-1)])])])]),g[29]||(g[29]=Kt('<div class="register-image" data-v-bc8e9805><div class="image-content" data-v-bc8e9805><h2 data-v-bc8e9805></h2><p data-v-bc8e9805></p><div class="benefits" data-v-bc8e9805><div class="benefit-item" data-v-bc8e9805><i class="icon-star" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div><div class="benefit-item" data-v-bc8e9805><i class="icon-users" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div><div class="benefit-item" data-v-bc8e9805><i class="icon-trophy" data-v-bc8e9805></i><div data-v-bc8e9805><h4 data-v-bc8e9805></h4><p data-v-bc8e9805></p></div></div></div></div></div>',1))])])}}},t_=Ie(e_,[["__scopeId","data-v-bc8e9805"]]),Sn={getNotificationCount:async()=>{try{return await he("/notifications/count")}catch(e){throw console.error(":",e),e}},getNotificationList:async()=>{try{return await he("/notifications/list?page=1&size=10000000")}catch(e){throw console.error(":",e),e}},markAsRead:async e=>{try{return await he(`/notifications/${e}/read`,{method:"POST"})}catch(t){throw console.error(":",t),t}},readAll:async()=>{try{return await he("/notifications/readAll",{method:"POST"})}catch(e){throw console.error(":",e),e}}},s_={class:"notification-panel-header"},n_={class:"header-actions"},o_=["disabled"],a_={class:"notification-tabs"},l_=["onClick"],i_={key:0,class:"tab-badge"},r_={class:"notification-content"},u_={key:0,class:"loading-state"},c_={key:1,class:"error-state"},d_={key:2,class:"empty-state"},v_={key:3,class:"notification-list"},f_=["onClick"],p_={key:0,class:"unread-badge"},g_={class:"notification-text"},m_={key:0,class:"notification-content"},h_=["onClick"],y_={class:"notification-content-text"},__={key:1},b_={class:"notification-actions"},$_=["onClick"],w_={key:1,class:"unread-dot"},k_=Ne({__name:"NotificationPanel",props:{visible:{type:Boolean},unreadCount:{default:0}},emits:["close","updateUnread"],setup(e,{emit:t}){const n=Pt(),o=e,a=t,i=_e(()=>[{id:"unread",label:"",badge:o.unreadCount},{id:"read",label:"",badge:null}]),r=I("unread"),l=I([]),c=I(!1),f=I(null),p=I(!1),u=_e(()=>l.value.filter(_=>!_.isRead).length),h=_e(()=>l.value.length>0?u.value:o.unreadCount),g=_e(()=>{if(console.log(":",r.value),console.log(":",l.value.map(B=>({id:B.id,title:B.title,isRead:B.isRead}))),r.value==="read"){const B=l.value.filter(N=>N.isRead);return console.log(" - :",{total:l.value.length,read:B.length}),B}const _=l.value.filter(B=>!B.isRead);return console.log(" - :",{total:l.value.length,unread:_.length}),_}),M=async()=>{if(o.visible){c.value=!0,f.value=null;try{const _=await Sn.getNotificationList();if(_&&_.code===200){let B=_.data?.notifications||[];B=B.map(P=>(P.read!==void 0&&P.isRead===void 0&&(P.isRead=P.read),P.createTime!==void 0&&P.createdAt===void 0&&(P.createdAt=P.createTime),P.title||(P.title=R(P.type)),P)),l.value=B;const N=_.data?.unread||0;a("updateUnread",N),console.log(":",{total:l.value.length,unread:l.value.filter(P=>!P.isRead).length,read:l.value.filter(P=>P.isRead).length,firstFew:l.value.slice(0,3).map(P=>({id:P.id,title:P.title,isRead:P.isRead}))}),l.value.length>0&&(console.log(":",l.value[0]),console.log(" - isRead:",l.value[0].isRead,"read:",l.value[0].read))}}catch(_){console.error(":",_),f.value=_.message||""}finally{c.value=!1}}},R=_=>{if(!_)return"";switch(_.toUpperCase()){case"FOLLOW":return"";case"REPLY_POST":return"";case"REPLY_COMMENT":return"";case"LIKE_POST":return"";case"LIKE_COMMENT":return"";default:return""}},F=_=>{if(_.type)switch(_.type.toUpperCase()){case"FOLLOW":return"icon-users";case"REPLY_POST":case"REPLY_COMMENT":return"icon-comment";case"LIKE_POST":case"LIKE_COMMENT":return"icon-like";default:return"icon-bell"}return"icon-bell"},q=_=>{if(!_)return"";const B=new Date(_);if(isNaN(B.getTime()))return"";const P=new Date().getTime()-B.getTime();if(P<0)return"";const x=Math.floor(P/(1e3*60*60*24)),E=Math.floor(P/(1e3*60*60)),C=Math.floor(P/(1e3*60));return x>0?`${x} `:E>0?`${E} `:C>0?`${C} `:""},K=_=>{if(!_.fromUser||!_.content)return _.content||"";const B=_.fromUser.nickname||_.fromUser.username;return _.content.startsWith(B)?_.content.substring(B.length).trim():_.content},H=_=>{a("close"),n.push(`/user/${_}`)},z=async _=>{if(!_.isRead)try{const B=await Sn.markAsRead(_.id);if(B&&B.code===200){const N=l.value.findIndex(x=>x.id===_.id);N!==-1&&(l.value[N].isRead=!0,l.value[N].read=!0);const P=Math.max(0,o.unreadCount-1);a("updateUnread",P)}}catch(B){console.error(":",B)}},j=_=>{if(a("close"),_.postId){const B=_.postId,N={};_.commentId&&(N.commentId=_.commentId.toString()),_.parentCommentId&&(N.parentCommentId=_.parentCommentId.toString()),n.push({path:`/post/${B}`,query:N})}else _.fromUser&&H(_.fromUser.id)},S=async()=>{if(!(p.value||h.value===0)){p.value=!0;try{const _=await Sn.readAll();_&&_.code===200&&(l.value.forEach(B=>{B.isRead=!0,B.read=!0}),a("updateUnread",0))}catch(_){console.error(":",_)}finally{p.value=!1}}},J=()=>{a("close")},b=()=>{a("close")};return Ye(()=>o.visible,_=>{_&&M()}),(_,B)=>(d(),rt(ai,{to:"body"},[pe(Ni,{name:"notification-panel"},{default:Se(()=>[_.visible?(d(),v("div",{key:0,class:"notification-panel-overlay",onClick:b},[s("div",{class:"notification-panel",onClick:B[0]||(B[0]=ge(()=>{},["stop"]))},[s("div",s_,[B[3]||(B[3]=s("h3",{class:"panel-title"},"",-1)),s("div",n_,[!c.value&&!f.value&&l.value.length>0?(d(),v("button",{key:0,class:"read-all-btn",onClick:S,disabled:p.value||h.value===0},[...B[1]||(B[1]=[s("i",{class:"icon-broom"},null,-1),s("span",null,"",-1)])],8,o_)):D("",!0),s("button",{class:"close-btn",onClick:J},[...B[2]||(B[2]=[s("i",{class:"icon-close"},null,-1)])])])]),s("div",a_,[(d(!0),v(se,null,ve(i.value,N=>(d(),v("button",{key:N.id,class:fe(["tab-item",{active:r.value===N.id}]),onClick:P=>r.value=N.id},[s("span",null,y(N.label),1),N.badge&&N.badge>0?(d(),v("span",i_,y(N.badge),1)):D("",!0)],10,l_))),128))]),s("div",r_,[c.value?(d(),v("div",u_,[...B[4]||(B[4]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"...",-1)])])):f.value?(d(),v("div",c_,[B[5]||(B[5]=s("i",{class:"icon-error-circle"},null,-1)),s("p",null,y(f.value),1),s("button",{class:"retry-btn",onClick:M},"")])):g.value.length===0?(d(),v("div",d_,[...B[6]||(B[6]=[s("i",{class:"icon-bell"},null,-1),s("p",null,"",-1)])])):(d(),v("div",v_,[(d(!0),v(se,null,ve(g.value,N=>(d(),v("div",{key:N.id,class:fe(["notification-item",{unread:!N.isRead,read:N.isRead}])},[s("div",{class:fe(["notification-icon",{"unread-icon":!N.isRead}])},[s("i",{class:fe(F(N))},null,2)],2),s("div",{class:"notification-body",onClick:P=>j(N)},[s("div",{class:fe(["notification-title",{"unread-title":!N.isRead}])},[oe(y(N.title)+" ",1),N.isRead?D("",!0):(d(),v("span",p_,""))],2),s("div",g_,[N.fromUser?(d(),v("span",m_,[s("span",{class:"user-name-link",onClick:ge(P=>H(N.fromUser.id),["stop"])},y(N.fromUser.nickname||N.fromUser.username),9,h_),s("span",y_,y(K(N)),1)])):(d(),v("span",__,y(N.content),1))]),s("div",{class:fe(["notification-time",{"unread-time":!N.isRead}])},[B[7]||(B[7]=s("i",{class:"icon-clock time-icon"},null,-1)),oe(" "+y(q(N.createdAt)),1)],2)],8,f_),s("div",b_,[N.isRead?D("",!0):(d(),v("button",{key:0,class:"mark-read-btn",onClick:ge(P=>z(N),["stop"]),title:""},[...B[8]||(B[8]=[s("i",{class:"icon-check"},null,-1)])],8,$_)),N.isRead?D("",!0):(d(),v("div",w_))])],2))),128))]))])])])):D("",!0)]),_:1})]))}});const C_=Ie(k_,[["__scopeId","data-v-3aceb99f"]]),S_={class:"navbar"},x_={class:"navbar-container"},P_={class:"navbar-brand"},T_={class:"navbar-search"},A_={class:"search-container"},E_={class:"navbar-menu"},I_={class:"nav-item dropdown-trigger"},M_={class:"dropdown-content"},D_={class:"dropdown-section"},V_={class:"category-grid"},R_={class:"navbar-user"},U_={key:0,class:"auth-section"},L_={key:1,class:"user-section"},F_={class:"notification-wrapper"},O_={key:0,class:"notification-badge"},z_={class:"user-trigger"},N_=["src","alt"],j_={class:"user-info"},q_={class:"username"},H_={class:"user-level"},B_={class:"user-profile"},K_=["src","alt"],W_={class:"profile-info"},G_={class:"user-menu-list"},Y_=Ne({__name:"NavBar",setup(e){const t=Pt(),n=Je(),o=I(""),a=I(!1),i=I(!1),r=I(0),l=I(!1),c=_e(()=>n.isLoggedIn),f=_e(()=>n.user),p=()=>{const R={};o.value.trim()&&(R.q=o.value),t.currentRoute.value.query.type&&(R.type=t.currentRoute.value.query.type),t.push({name:"Search",query:Object.keys(R).length>0?R:void 0})},u=async()=>{if(!c.value){r.value=0;return}try{const R=await Sn.getNotificationCount();R&&R.code===200&&(r.value=R.data?.unread||0)}catch(R){console.error(":",R),r.value=0}},h=()=>{l.value=!l.value,l.value||u()},g=R=>{r.value=R},M=()=>{n.logout(),t.push("/"),i.value=!1,r.value=0};return Ye(c,R=>{R?u():r.value=0}),je(()=>{c.value&&u()}),(R,F)=>{const q=dt("router-link");return d(),v("nav",S_,[s("div",x_,[s("div",P_,[pe(q,{to:"/",class:"brand-link"},{default:Se(()=>[...F[6]||(F[6]=[s("div",{class:"brand-icon"},[s("i",{class:"icon-orange"})],-1),s("div",{class:"brand-text"},[s("span",{class:"brand-name"},""),s("span",{class:"brand-tagline"},"")],-1)])]),_:1})]),s("div",T_,[s("div",A_,[Z(s("input",{"onUpdate:modelValue":F[0]||(F[0]=K=>o.value=K),onKeyup:Qe(p,["enter"]),type:"text",placeholder:"...",class:"search-input"},null,544),[[ae,o.value]]),s("button",{onClick:p,class:"search-btn"},[...F[7]||(F[7]=[s("i",{class:"icon-search"},null,-1)])])])]),s("div",E_,[pe(q,{to:"/",class:fe(["nav-item",{active:R.$route.name==="Home"}])},{default:Se(()=>[...F[8]||(F[8]=[s("i",{class:"nav-icon icon-home"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1},8,["class"]),pe(q,{to:"/forum",class:fe(["nav-item",{active:R.$route.name==="Forum"}])},{default:Se(()=>[...F[9]||(F[9]=[s("i",{class:"nav-icon icon-forum"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1},8,["class"]),s("div",{class:"nav-dropdown",onMouseenter:F[1]||(F[1]=K=>a.value=!0),onMouseleave:F[2]||(F[2]=K=>a.value=!1)},[s("button",I_,[F[10]||(F[10]=s("i",{class:"nav-icon icon-category"},null,-1)),F[11]||(F[11]=s("span",{class:"nav-text"},"",-1)),s("i",{class:fe(["dropdown-arrow icon-arrow-down",{rotated:a.value}])},null,2)]),s("div",{class:fe(["dropdown-menu",{show:a.value}])},[s("div",M_,[s("div",D_,[F[15]||(F[15]=s("h4",{class:"section-title"},"",-1)),s("div",V_,[pe(q,{to:{name:"Search",query:{type:"movie"}},class:"category-item"},{default:Se(()=>[...F[12]||(F[12]=[s("i",{class:"category-icon icon-film"},null,-1),s("span",null,"",-1)])]),_:1}),pe(q,{to:{name:"Search",query:{type:"tv"}},class:"category-item"},{default:Se(()=>[...F[13]||(F[13]=[s("i",{class:"category-icon icon-tv"},null,-1),s("span",null,"",-1)])]),_:1}),pe(q,{to:{name:"Search",query:{type:"variety"}},class:"category-item"},{default:Se(()=>[...F[14]||(F[14]=[s("i",{class:"category-icon icon-variety"},null,-1),s("span",null,"",-1)])]),_:1})])]),F[16]||(F[16]=Kt('<div class="dropdown-divider" data-v-3444afc6></div><div class="dropdown-section" data-v-3444afc6><h4 class="section-title" data-v-3444afc6></h4><div class="tag-list" data-v-3444afc6><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a><a href="#" class="tag-item" data-v-3444afc6></a></div></div>',2))])],2)],32),pe(q,{to:"/trending",class:"nav-item"},{default:Se(()=>[...F[17]||(F[17]=[s("i",{class:"nav-icon icon-star"},null,-1),s("span",{class:"nav-text"},"",-1)])]),_:1}),pe(q,{to:"/actors",class:fe(["nav-item",{active:R.$route.name==="Actors"}])},{default:Se(()=>[...F[18]||(F[18]=[s("i",{class:"nav-icon icon-user"},null,-1),s("span",{class:"nav-text"},"/",-1)])]),_:1},8,["class"])]),s("div",R_,[c.value?(d(),v("div",L_,[s("div",F_,[s("button",{class:"notification-btn",onClick:h},[F[21]||(F[21]=s("i",{class:"icon-bell"},null,-1)),r.value>0?(d(),v("span",O_,y(r.value),1)):D("",!0)])]),pe(C_,{visible:l.value,"unread-count":r.value,onClose:F[3]||(F[3]=K=>l.value=!1),onUpdateUnread:g},null,8,["visible","unread-count"]),s("div",{class:"user-menu",onMouseenter:F[4]||(F[4]=K=>i.value=!0),onMouseleave:F[5]||(F[5]=K=>i.value=!1)},[s("button",z_,[s("img",{src:f.value?.avatar||"/avatar.png",alt:f.value?.username||"",class:"user-avatar"},null,8,N_),s("div",j_,[s("span",q_,y(f.value?.username||""),1),s("span",H_,"Lv."+y(f.value?.level||0),1)]),s("i",{class:fe(["user-arrow icon-arrow-down",{rotated:i.value}])},null,2)]),s("div",{class:fe(["user-dropdown",{show:i.value}])},[s("div",B_,[s("img",{src:f.value?.avatar||"/avatar.png",alt:f.value?.username||"",class:"profile-avatar"},null,8,K_),s("div",W_,[s("h4",null,y(f.value?.username||""),1)])]),s("div",G_,[pe(q,{to:f.value?`/user/${f.value.id}`:"#",class:"menu-item"},{default:Se(()=>[...F[22]||(F[22]=[s("i",{class:"menu-icon icon-user"},null,-1),s("span",null,"",-1)])]),_:1},8,["to"]),pe(q,{to:"/user/settings",class:"menu-item"},{default:Se(()=>[...F[23]||(F[23]=[s("i",{class:"menu-icon icon-settings"},null,-1),s("span",null,"",-1)])]),_:1}),F[25]||(F[25]=s("div",{class:"menu-divider"},null,-1)),s("button",{onClick:M,class:"menu-item logout-item"},[...F[24]||(F[24]=[s("i",{class:"menu-icon icon-logout"},null,-1),s("span",null,"",-1)])])])],2)],32)])):(d(),v("div",U_,[pe(q,{to:"/login",class:"auth-btn login-btn"},{default:Se(()=>[...F[19]||(F[19]=[s("i",{class:"icon-user"},null,-1),s("span",null,"",-1)])]),_:1}),pe(q,{to:"/register",class:"auth-btn register-btn"},{default:Se(()=>[...F[20]||(F[20]=[s("i",{class:"icon-plus"},null,-1),s("span",null,"",-1)])]),_:1})]))])])])}}});const vr=Ie(Y_,[["__scopeId","data-v-3444afc6"]]);const Q_={class:"footer"},J_={class:"footer-container"},Z_={class:"footer-content"},X_={class:"footer-section"},eb={class:"footer-links"},tb={class:"footer-bottom"},sb={class:"footer-bottom-content"},nb={class:"footer-stats"},ob={__name:"Footer",setup(e){const t=I(0),n=I(0),o=I(0);return je(()=>{t.value=Math.floor(Math.random()*1e3)+500,n.value=Math.floor(Math.random()*100)+50,o.value=Math.floor(Math.random()*1e4)+5e4}),(a,i)=>{const r=dt("router-link");return d(),v("footer",Q_,[s("div",J_,[s("div",Z_,[i[6]||(i[6]=Kt('<div class="footer-section" data-v-586d5e71><div class="footer-brand" data-v-586d5e71><i class="icon-orange" data-v-586d5e71></i><span data-v-586d5e71></span></div><p class="footer-description" data-v-586d5e71>   </p><div class="social-links" data-v-586d5e71><a href="#" class="social-link" title="" data-v-586d5e71><i class="icon-weibo" data-v-586d5e71></i></a><a href="#" class="social-link" title="" data-v-586d5e71><i class="icon-wechat" data-v-586d5e71></i></a><a href="#" class="social-link" title="QQ" data-v-586d5e71><i class="icon-qq" data-v-586d5e71></i></a><a href="#" class="social-link" title="GitHub" data-v-586d5e71><i class="icon-github" data-v-586d5e71></i></a></div></div>',1)),s("div",X_,[i[5]||(i[5]=s("h4",{class:"footer-title"},"",-1)),s("ul",eb,[s("li",null,[pe(r,{to:"/"},{default:Se(()=>[...i[0]||(i[0]=[oe("",-1)])]),_:1})]),s("li",null,[pe(r,{to:"/forum"},{default:Se(()=>[...i[1]||(i[1]=[oe("",-1)])]),_:1})]),s("li",null,[pe(r,{to:"/forum/movie"},{default:Se(()=>[...i[2]||(i[2]=[oe("",-1)])]),_:1})]),s("li",null,[pe(r,{to:"/forum/tv"},{default:Se(()=>[...i[3]||(i[3]=[oe("",-1)])]),_:1})]),s("li",null,[pe(r,{to:"/forum/variety"},{default:Se(()=>[...i[4]||(i[4]=[oe("",-1)])]),_:1})])])]),i[7]||(i[7]=Kt('<div class="footer-section" data-v-586d5e71><h4 class="footer-title" data-v-586d5e71></h4><ul class="footer-links" data-v-586d5e71><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li><li data-v-586d5e71><a href="#" data-v-586d5e71></a></li></ul></div><div class="footer-section" data-v-586d5e71><h4 class="footer-title" data-v-586d5e71></h4><div class="footer-tags" data-v-586d5e71><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span><span class="tag" data-v-586d5e71></span></div></div>',2))]),s("div",tb,[s("div",sb,[i[8]||(i[8]=s("p",{class:"copyright"},"  2024 . . ",-1)),s("div",nb,[s("span",null,": "+y(t.value),1),s("span",null,": "+y(n.value),1),s("span",null,": "+y(o.value),1)])])])])])}}},ab=Ie(ob,[["__scopeId","data-v-586d5e71"]]);const lb={__name:"Test",setup(e){return(t,n)=>(d(),rt(vr))}},ib=Ie(lb,[["__scopeId","data-v-b43aeb48"]]);const rb={class:"qq-login-success"},ub={__name:"QQLoginSuccess",setup(e){const t=Pt(),n=Je();return je(()=>{try{const a=new URLSearchParams(window.location.search).get("userInfo")||"",i=JSON.parse(decodeURIComponent(a)),r={id:i.id,username:i.username,email:i.email,avatar:i.avatar,nickname:i.nickname,level:i.level,joinDate:i.join_date,followersCount:i.followers_count,followingCount:i.following_count,postsCount:0,role:i.role||"USER"};n.user=r,n.userId=r.id,localStorage.setItem("current_user_id",r.id.toString()),t.push("/")}catch(o){console.error(":",o),t.push("/")}}),(o,a)=>(d(),v("div",rb,[...a[0]||(a[0]=[s("h2",null,"QQ",-1),s("p",null,"...",-1)])]))}},cb=Ie(ub,[["__scopeId","data-v-ad3bc6ad"]]);async function ra(e,t){const n={...e,director:Number(e.director),actors:e.actors.map(a=>({id:Number(a.id),role:a.role.trim(),description:a.description.trim()}))};return(await he("/tvshows/add",{method:"POST",body:Ge(n),signal:t})).data}async function db(e,t){const n=await he(`/tvshows/${e}`,{signal:t}),o=n.data.data||n.data;return{...o,isLiked:o.isLiked||!1,isFavorited:o.isFavorited||!1}}async function vb(e,t){await he(`/tvshows/${e}/delete`,{method:"POST",signal:t})}async function fb(e,t){const n=new URLSearchParams;e.page&&n.set("page",String(e.page)),e.size&&n.set("size",String(e.size)),e.tag&&n.set("tag",e.tag),e.year&&n.set("year",String(e.year)),e.rating&&n.set("rating",String(e.rating)),e.actor&&n.set("actor",e.actor),e.award&&n.set("award",e.award);const o=n.toString(),a=`/tvshows/list${o?`?${o}`:""}`,r=(await he(a,{signal:t})).data;return{tvshows:r.tvshows||[],total:r.pagination?.total||r.total||0,page:r.pagination?.page||r.page||e.page||1,size:r.pagination?.size||r.pageSize||e.size||24,hasMore:r.pagination?.has_next||!1}}async function pb(e,t){await he(`/tvshows/${e}/like`,{method:"POST",signal:t})}async function gb(e,t){await he(`/tvshows/${e}/unlike`,{method:"POST",signal:t})}async function mb(e,t){await he(`/tvshows/${e}/favorite`,{method:"POST",signal:t})}async function hb(e,t){await he(`/tvshows/${e}/unfavorite`,{method:"POST",signal:t})}async function yb(e,t,n){await he(`/tvshows/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function _b(e,t={},n){const o=new URLSearchParams;t.page&&o.set("page",String(t.page)),t.size&&o.set("size",String(t.size));const i=(await he(`/tvshows/${e}/reviews${o.toString()?`?${o.toString()}`:""}`,{signal:n})).data;return{reviews:(i.reviews||[]).map(l=>({...l,createdAt:l.createTime||l.createdAt,user:l.user||{id:l.userId,username:l.username||"",avatar:l.avatar}})),total:i.total||i.pagination?.total||0,page:i.pagination?.page||t.page||1,size:i.pagination?.size||t.size||10}}function go(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||(Array.isArray(o)?o.length>0&&t.set(n,o.join(",")):t.set(n,String(o)))}),t.toString()}async function bb(e,t){console.log("[Search API] :",{type:e.type,q:e.q,page:e.page,pageSize:e.pageSize,tag:e.tag,year:e.year,ratingGte:e.ratingGte,actor:e.actor,award:e.award,genres:e.genres});const n=e.type||"movie",o=e.q&&e.q.trim()!=="";if(n==="movie"){if(!o){const c=await pv({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year||void 0,rating:e.ratingGte||void 0,actor:e.actor||void 0,award:e.award||void 0},t);return console.log("[List] :",c),console.log("[List] :",{page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award}),{items:c.movies.map(f=>({id:f.id,title:f.title,year:f.year,rating:f.rating,genres:Array.isArray(f.tags)?f.tags:f.tags?[f.tags]:[],poster:f.poster,regions:f.country?[f.country]:void 0})),total:c.total,page:c.page,pageSize:c.size,hasMore:c.hasMore!==void 0?c.hasMore:c.page*c.size<c.total,facets:void 0}}const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0;console.log("[Search] tag:",{"params.tag":e.tag,"params.genres":e.genres,tag:i});const r={page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year||void 0,rating:e.ratingGte||void 0,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0};console.log("[Search] :",r);const l=await $v(r,t);return{items:l.movies.map(c=>({id:c.id,title:c.title,year:c.year,rating:c.rating,genres:Array.isArray(c.tags)?c.tags:c.tags?[c.tags]:[],poster:c.poster,regions:c.country?[c.country]:void 0})),total:l.total,page:l.page,pageSize:l.size,hasMore:l.hasMore!==void 0?l.hasMore:l.page*l.size<l.total,facets:void 0}}if(n==="tv")if(o){const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0,r=go({page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year,rating:e.ratingGte,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0});console.log(`[Search] URL: /tvshows/search?${r}`);const c=(await he(`/tvshows/search${r?`?${r}`:""}`,{signal:t})).data,f=c.items||c.tvshows||[],p=c.pagination||{};return{items:f.map(u=>({id:u.id,title:u.title,year:u.year,rating:u.rating,genres:Array.isArray(u.tags)?u.tags:Array.isArray(u.genres)?u.genres:u.tags?[u.tags]:[],poster:u.poster,regions:u.regions||void 0,highlight:u.highlight})),total:c.total||p.total||0,page:c.page||p.page||e.page||1,pageSize:c.size||p.size||e.pageSize||24,hasMore:c.hasMore!==void 0?c.hasMore:p.has_next!==void 0?p.has_next:!1,facets:c.facets}}else{console.log("[List] ");const a=await fb({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award},t);console.log("[List] :",a);const i=a;return{items:i.tvshows.map(r=>({id:r.id,title:r.title,year:r.year,rating:r.rating,genres:Array.isArray(r.tags)?r.tags:Array.isArray(r.genres)?r.genres:r.tags?[r.tags]:[],poster:r.poster,regions:r.country?[r.country]:r.regions||void 0})),total:i.total||0,page:i.page||e.page||1,pageSize:i.size||e.pageSize||24,hasMore:i.hasMore!==void 0?i.hasMore:(i.page||1)*(i.size||24)<(i.total||0),facets:void 0}}if(n==="variety")if(o){const a=(e.q||"").trim();if(!a)throw new Error("");console.log("[Search] :",a);const i=e.tag?.trim()||e.genres?.join(",")||void 0,r=go({page:e.page,size:e.pageSize,keyword:a,tag:i,year:e.year,rating:e.ratingGte,actor:e.actor?.trim()||void 0,award:e.award?.trim()||void 0});console.log(`[Search] URL: /varieties/search?${r}`);const c=(await he(`/varieties/search${r?`?${r}`:""}`,{signal:t})).data;return{items:(c.items||c.varieties||[]).map(p=>({id:p.id,title:p.title,year:p.year,rating:p.rating,genres:Array.isArray(p.tags)?p.tags:Array.isArray(p.genres)?p.genres:p.tags?[p.tags]:[],poster:p.poster,regions:p.regions||void 0,highlight:p.highlight})),total:c.total||c.pagination?.total||0,page:c.page||c.pagination?.page||e.page||1,pageSize:c.pageSize||c.pagination?.size||e.pageSize||24,hasMore:c.hasMore!==void 0?c.hasMore:c.pagination?.has_next!==void 0?c.pagination?.has_next:!1,facets:c.facets}}else{console.log("[List] ");const a=go({page:e.page,size:e.pageSize,tag:e.tag||e.genres?.join(","),year:e.year,rating:e.ratingGte,actor:e.actor,award:e.award});console.log(`[List] URL: /varieties/list?${a}`);const r=(await he(`/varieties/list${a?`?${a}`:""}`,{signal:t})).data;return{items:(r.varieties||[]).map(l=>({id:l.id,title:l.title,year:l.year,rating:l.rating,genres:Array.isArray(l.tags)?l.tags:Array.isArray(l.genres)?l.genres:l.tags?[l.tags]:[],poster:l.poster,regions:l.regions||void 0})),total:r.total||r.pagination?.total||0,page:r.page||r.pagination?.page||e.page||1,pageSize:r.pageSize||r.pagination?.size||e.pageSize||24,hasMore:r.hasMore!==void 0?r.hasMore:(r.page||1)*(r.pageSize||24)<(r.total||0),facets:r.facets}}return{items:[],total:0,page:e.page||1,pageSize:e.pageSize||24,hasMore:!1,facets:void 0}}function Ke(e){if(e)return Array.isArray(e)?e.map(t=>t?.toString()||"").filter(Boolean):e?.toString()||""}function mo(e){if(!e)return;const n=(Array.isArray(e)?e.join(","):e).split(",").map(o=>o.trim()).filter(Boolean);return n.length?n:void 0}function vs(e){if(!e)return;const t=Array.isArray(e)?e[0]:e,n=Number(t);return Number.isFinite(n)?n:void 0}const $b=Ji("search",()=>{const e=Ut(),t=Pt(),n=I(""),o=I(void 0),a=I([]),i=I([]),r=I([]),l=I(""),c=I(""),f=I(void 0),p=I(void 0),u=I(void 0),h=I(void 0),g=I(void 0),M=I(""),R=I(""),F=I(""),q=I("relevance_desc"),K=I(1),H=I(10),z=I([]),j=I(0),S=I(!1),J=I(),b=I(!1),_=I(null);let B=null,N=!1;const P=_e(()=>({q:n.value||void 0,type:o.value,genres:a.value.length?a.value:void 0,regions:i.value.length?i.value:void 0,languages:r.value.length?r.value:void 0,country:l.value||void 0,language:c.value||void 0,year:f.value,yearGte:p.value,yearLte:u.value,ratingGte:h.value,ratingLte:g.value,tag:M.value||void 0,actor:R.value||void 0,award:F.value||void 0,sort:q.value,page:K.value,pageSize:H.value}));function x(){const w=e.query;n.value=Ke(w.q)||"",o.value=Ke(w.type)||void 0,a.value=mo(Ke(w.genres))||[],i.value=mo(Ke(w.regions))||[],r.value=mo(Ke(w.languages))||[],l.value=Ke(w.country)||"",c.value=Ke(w.language)||"",f.value=vs(Ke(w.year)),p.value=vs(Ke(w.year_gte)),u.value=vs(Ke(w.year_lte)),h.value=vs(Ke(w.rating_gte)),g.value=vs(Ke(w.rating_lte)),M.value=Ke(w.tag)||"",R.value=Ke(w.actor)||"",F.value=Ke(w.award)||"",q.value=Ke(w.sort)||"relevance_desc",K.value=vs(Ke(w.page))||1,H.value=vs(Ke(w.page_size))||10}async function E(w=!1){if(N)return;const Q={};if(n.value&&(Q.q=n.value),o.value)Q.type=o.value;else if(e.query.type){const ce=Ke(e.query.type);Q.type=ce,o.value=ce}a.value.length&&(Q.genres=a.value.join(",")),i.value.length&&(Q.regions=i.value.join(",")),r.value.length&&(Q.languages=r.value.join(",")),l.value&&(Q.country=l.value),c.value&&(Q.language=c.value),f.value!==void 0&&(Q.year=f.value),p.value!==void 0&&(Q.year_gte=p.value),u.value!==void 0&&(Q.year_lte=u.value),h.value!==void 0&&(Q.rating_gte=h.value),g.value!==void 0&&(Q.rating_lte=g.value),M.value&&(Q.tag=M.value),R.value&&(Q.actor=R.value),F.value&&(Q.award=F.value),q.value&&(Q.sort=q.value),K.value&&K.value!==1&&(Q.page=K.value),H.value&&H.value!==24&&(Q.page_size=H.value);const ue=e.query,X=Object.keys(Q).some(ce=>{const Ce=ue[ce],A=Q[ce];return Array.isArray(Ce)?Ce.join(",")!==A:String(Ce)!==String(A)})||Object.keys(ue).some(ce=>!(ce in Q)&&ue[ce]!==void 0);if(w&&!X){x(),await C();return}N=!0;try{const ce={name:e.name||"Search",query:Q};w?await t.replace(ce):await t.push(ce),x(),await C()}finally{setTimeout(()=>{N=!1},100)}}async function C(){B&&B.abort(),B=new AbortController,b.value=!0,_.value=null,z.value=[],j.value=0,S.value=!1,J.value=void 0;try{const w=await bb(P.value,B.signal);z.value=w.items,j.value=w.total,S.value=w.hasMore,J.value=w.facets}catch(w){if(w?.name==="AbortError")return;_.value=w?.message||""}finally{b.value=!1}}function W(){n.value="",a.value=[],i.value=[],r.value=[],l.value="",c.value="",f.value=void 0,p.value=void 0,u.value=void 0,h.value=void 0,g.value=void 0,M.value="",R.value="",F.value="",q.value="relevance_desc",K.value=1}return Ye(()=>e.fullPath,()=>{N||(x(),C())},{immediate:!0}),Ye(()=>o.value,()=>{z.value=[],j.value=0,S.value=!1,J.value=void 0}),{q:n,type:o,genres:a,regions:i,languages:r,country:l,language:c,year:f,yearGte:p,yearLte:u,ratingGte:h,ratingLte:g,tag:M,actor:R,award:F,sort:q,page:K,pageSize:H,items:z,total:j,hasMore:S,facets:J,loading:b,error:_,params:P,syncFromRoute:x,syncToRoute:E,runSearch:C,clearAll:W}}),wb=["title"],kb=["onClick","disabled"],Cb=Ne({__name:"RatingStars",props:{modelValue:{},tooltipBase:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a=_e(()=>n.modelValue||0),i=_e(()=>a.value?a.value/2:0),r=_e(()=>{const f=a.value.toFixed(1);return n.tooltipBase?`${n.tooltipBase}${f}/10`:`${f}/10`});function l(f){i.value===f?o("update:modelValue",(f-.5)*2):i.value===f-.5?o("update:modelValue",void 0):o("update:modelValue",f*2)}function c(f){o("update:modelValue",f||void 0)}return(f,p)=>(d(),v("div",{class:fe(["rating-stars",{readonly:f.readonly}]),title:r.value},[(d(),v(se,null,ve(5,u=>s("button",{key:u,class:fe(["star",{full:i.value>=u,half:i.value>=u-.5&&i.value<u}]),onClick:h=>!f.readonly&&l(u),disabled:f.readonly},[p[1]||(p[1]=s("span",{class:"star-bg"},"",-1)),i.value>=u-.5?(d(),v("span",{key:0,class:"star-fill",style:Rt({width:i.value>=u?"100%":"50%"})},"",4)):D("",!0)],10,kb)),64)),a.value&&!f.readonly?(d(),v("button",{key:0,class:"clear",onClick:p[0]||(p[0]=u=>c(0))},"")):D("",!0)],10,wb))}});const Ct=Ie(Cb,[["__scopeId","data-v-7d1707cc"]]);function Sb(e){const t=new URLSearchParams;return Object.entries(e).forEach(([n,o])=>{o==null||o===""||t.set(n,String(o))}),t.toString()}async function Dt(e={},t){const n=Sb({page:e.page,size:e.size,keyword:e.keyword,nationality:e.nationality,gender:e.gender}),a=(await he(`/actor/query${n?`?${n}`:""}`,{signal:t})).data,i=a.pagination||{};return{actors:(a.actors||[]).map(r=>({id:r.id,name:r.name,avatar:r.avatar,birthDate:r.birthday,nationality:r.nationality,gender:r.gender,moviesCount:r.movies_count,tvShowsCount:r.tv_shows_count})),total:i.total||0,page:i.page||e.page||1,size:i.size||e.size||20}}async function xb(e,t){const o=(await he(`/actor/${e}`,{signal:t})).data;return{id:o.id,name:o.name,avatar:o.avatar,birthDate:o.birthday,nationality:o.nationality,gender:o.gender===""?"":o.gender,biography:o.biography,moviesCount:o.movies_count,tvShowsCount:o.tv_shows_count,movies:o.movies,tvShows:o.tv_shows,varietyShows:o.variety_shows,awards:o.awards}}async function fr(e,t){return(await he("/actor/save",{method:"POST",body:Ge(e),signal:t})).data}async function Pb(e,t){await he(`/actor/${e}/delete`,{method:"POST",signal:t})}const Tb={class:"movie-form-modal"},Ab={class:"modal-header"},Eb={class:"form-group"},Ib={class:"form-group"},Mb={class:"form-row"},Db={class:"form-group"},Vb={class:"form-group"},Rb={class:"form-row"},Ub={class:"form-group"},Lb={class:"form-group"},Fb={class:"form-group"},Ob={class:"tags-input"},zb={key:0,class:"tags-list"},Nb=["onClick"],jb={class:"tags-input-row"},qb={class:"form-group"},Hb={class:"select-with-search"},Bb=["value"],Kb={class:"form-group"},Wb={class:"select-with-search"},Gb={class:"multi-select"},Yb=["value"],Qb={key:0,class:"actors-list"},Jb={class:"actor-header"},Zb={class:"actor-name"},Xb=["onClick"],e0={class:"actor-fields"},t0={class:"actor-field"},s0=["onUpdate:modelValue"],n0={class:"actor-field"},o0=["onUpdate:modelValue"],a0={class:"form-group"},l0={class:"form-group"},i0={class:"form-group"},r0={class:"form-group"},u0={class:"photos-input"},c0={key:0,class:"photos-list"},d0=["onClick"],v0={class:"form-group"},f0={class:"select-with-search"},p0={class:"multi-select"},g0=["value"],m0={key:0,class:"selected-list"},h0=["onClick"],y0={class:"form-actions"},_0=["disabled"],b0=Ne({__name:"MovieForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=I(!1),i=I(""),r=I(""),l=I(""),c=I(""),f=I(0),p=I(0),u=I([]),h=I([]),g=I([]),M=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],director:0,actors:[],poster:"",summary:"",awards:[],duration:0,country:"",language:"",trailer:"",photos:[]});n.initialData&&Object.assign(M,{title:n.initialData.title||"",original_title:n.initialData.original_title||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],director:n.initialData.director?.id||n.initialData.director||0,actors:n.initialData.actors?.map(W=>({id:W.id||W,role:W.role||"",description:W.description||""}))||[],poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:n.initialData.awards?.map(W=>W.id||W)||[],duration:n.initialData.duration||0,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]});async function R(){try{const W=await Dt({page:1,size:100});u.value=W.actors||[],h.value=W.actors||[]}catch(W){console.error(":",W)}}async function F(){try{const W=await Dt({page:1,size:20,keyword:r.value||void 0});u.value=W.actors||[]}catch(W){console.error(":",W)}}async function q(){try{const W=await Dt({page:1,size:20,keyword:l.value||void 0});h.value=W.actors||[]}catch(W){console.error(":",W)}}async function K(){g.value=[]}function H(){const W=i.value.trim();W&&!M.tags.includes(W)&&(M.tags.push(W),i.value="")}function z(W){M.tags.splice(W,1)}function j(){const W=f.value;W&&(M.actors.find(Q=>Q.id===W)||(M.actors.push({id:W,role:"",description:""}),f.value=0))}function S(W){W>-1&&W<M.actors.length&&M.actors.splice(W,1)}function J(W){return h.value.find(Q=>Q.id===W)?.name||`ID: ${W}`}function b(){const W=p.value;W&&!M.awards.includes(W)&&(M.awards.push(W),p.value=0)}function _(W){const w=M.awards.indexOf(W);w>-1&&M.awards.splice(w,1)}function B(W){return g.value.find(Q=>Q.id===W)?.name||`ID: ${W}`}function N(){M.photos.push("")}function P(W){M.photos.splice(W,1)}const x={success:function(W){console.log("Success:",W)},error:function(W){console.error("Error:",W)},warning:function(W){console.warn("Warning:",W)},info:function(W){console.info("Info:",W)}};async function E(){a.value=!0;try{if(!M.title||!M.year){x.warning("");return}const W={title:M.title,original_title:M.original_title||void 0,year:M.year,tags:M.tags,director:Number(M.director),actors:M.actors.map(w=>({id:Number(w.id),role:w.role.trim(),description:w.description.trim()})),poster:M.poster,summary:M.summary,duration:Number(M.duration),country:M.country,language:M.language,trailer:M.trailer||void 0,photos:M.photos.filter(w=>w.trim()),awards:M.awards.length>0?M.awards.map(w=>Number(w)):void 0};n.isEdit&&n.initialData?.id&&(W.id=n.initialData.id),o("submit",W),x.success("")}catch(W){x.error(W?.message||"")}finally{a.value=!1}}function C(){o("cancel")}return R(),(W,w)=>(d(),v("div",{class:"movie-form-overlay",onClick:ge(C,["self"])},[s("div",Tb,[s("div",Ab,[s("h2",null,y(W.isEdit?"":""),1),s("button",{class:"close-btn",onClick:C},"")]),s("form",{onSubmit:ge(E,["prevent"]),class:"movie-form"},[s("div",Eb,[w[16]||(w[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":w[0]||(w[0]=Q=>M.title=Q),type:"text",required:"",placeholder:""},null,512),[[ae,M.title]])]),s("div",Ib,[w[17]||(w[17]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w[1]||(w[1]=Q=>M.original_title=Q),type:"text",placeholder:""},null,512),[[ae,M.original_title]])]),s("div",Mb,[s("div",Db,[w[18]||(w[18]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":w[2]||(w[2]=Q=>M.year=Q),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,M.year,void 0,{number:!0}]])]),s("div",Vb,[w[19]||(w[19]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":w[3]||(w[3]=Q=>M.duration=Q),type:"number",required:"",placeholder:"120",min:"1"},null,512),[[ae,M.duration,void 0,{number:!0}]])])]),s("div",Rb,[s("div",Ub,[w[20]||(w[20]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":w[4]||(w[4]=Q=>M.country=Q),type:"text",required:"",placeholder:""},null,512),[[ae,M.country]])]),s("div",Lb,[w[21]||(w[21]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":w[5]||(w[5]=Q=>M.language=Q),type:"text",required:"",placeholder:""},null,512),[[ae,M.language]])])]),s("div",Fb,[w[22]||(w[22]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Ob,[M.tags.length>0?(d(),v("div",zb,[(d(!0),v(se,null,ve(M.tags,(Q,ue)=>(d(),v("span",{key:ue,class:"tag-item"},[oe(y(Q)+" ",1),s("button",{type:"button",onClick:X=>z(ue),class:"tag-remove"},"",8,Nb)]))),128))])):D("",!0),s("div",jb,[Z(s("input",{"onUpdate:modelValue":w[6]||(w[6]=Q=>i.value=Q),type:"text",placeholder:"",onKeyup:Qe(H,["enter"]),class:"tag-input"},null,544),[[ae,i.value]]),s("button",{type:"button",onClick:H,class:"add-tag-btn"},"")])])]),s("div",qb,[w[24]||(w[24]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Hb,[Z(s("input",{"onUpdate:modelValue":w[7]||(w[7]=Q=>r.value=Q),type:"text",placeholder:"...",onInput:F,class:"search-input"},null,544),[[ae,r.value]]),Z(s("select",{"onUpdate:modelValue":w[8]||(w[8]=Q=>M.director=Q),required:"",class:"select-input"},[w[23]||(w[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(u.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,Bb))),128))],512),[[Ue,M.director,void 0,{number:!0}]])])]),s("div",Kb,[w[28]||(w[28]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),s("div",Wb,[Z(s("input",{"onUpdate:modelValue":w[9]||(w[9]=Q=>l.value=Q),type:"text",placeholder:"...",onInput:q,class:"search-input"},null,544),[[ae,l.value]]),s("div",Gb,[Z(s("select",{"onUpdate:modelValue":w[10]||(w[10]=Q=>f.value=Q),onChange:j,class:"select-input"},[w[25]||(w[25]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(h.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,Yb))),128))],544),[[Ue,f.value]]),M.actors.length>0?(d(),v("div",Qb,[(d(!0),v(se,null,ve(M.actors,(Q,ue)=>(d(),v("div",{key:ue,class:"actor-item"},[s("div",Jb,[s("span",Zb,y(J(Q.id)),1),s("button",{type:"button",onClick:X=>S(ue),class:"item-remove"},"",8,Xb)]),s("div",e0,[s("div",t0,[w[26]||(w[26]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":X=>Q.role=X,type:"text",placeholder:"",required:"",class:"actor-input"},null,8,s0),[[ae,Q.role]])]),s("div",n0,[w[27]||(w[27]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":X=>Q.description=X,type:"text",placeholder:"",required:"",class:"actor-input"},null,8,o0),[[ae,Q.description]])])])]))),128))])):D("",!0)])])]),s("div",a0,[w[29]||(w[29]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),pe(is,{modelValue:M.poster,"onUpdate:modelValue":w[11]||(w[11]=Q=>M.poster=Q),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0,required:""},null,8,["modelValue"])]),s("div",l0,[w[30]||(w[30]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("textarea",{"onUpdate:modelValue":w[12]||(w[12]=Q=>M.summary=Q),required:"",rows:"4",placeholder:""},null,512),[[ae,M.summary]])]),s("div",i0,[w[31]||(w[31]=s("label",null,"URL",-1)),Z(s("input",{"onUpdate:modelValue":w[13]||(w[13]=Q=>M.trailer=Q),type:"text",placeholder:""},null,512),[[ae,M.trailer]])]),s("div",r0,[w[32]||(w[32]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),s("div",u0,[M.photos.length>0?(d(),v("div",c0,[(d(!0),v(se,null,ve(M.photos,(Q,ue)=>(d(),v("div",{key:ue,class:"photo-item"},[pe(is,{modelValue:M.photos[ue],"onUpdate:modelValue":X=>M.photos[ue]=X,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:X=>P(ue),class:"photo-remove"},"",8,d0)]))),128))])):D("",!0),s("button",{type:"button",onClick:N,class:"add-photo-btn"},"+ URL")])]),s("div",v0,[w[34]||(w[34]=s("label",null,"",-1)),s("div",f0,[Z(s("input",{"onUpdate:modelValue":w[14]||(w[14]=Q=>c.value=Q),type:"text",placeholder:"...",onInput:K,class:"search-input"},null,544),[[ae,c.value]]),s("div",p0,[Z(s("select",{"onUpdate:modelValue":w[15]||(w[15]=Q=>p.value=Q),onChange:b,class:"select-input"},[w[33]||(w[33]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(g.value,Q=>(d(),v("option",{key:Q.id,value:Q.id},y(Q.name),9,g0))),128))],544),[[Ue,p.value]]),M.awards.length>0?(d(),v("div",m0,[(d(!0),v(se,null,ve(M.awards,Q=>(d(),v("span",{key:Q,class:"selected-item"},[oe(y(B(Q))+" ",1),s("button",{type:"button",onClick:ue=>_(Q),class:"item-remove"},"",8,h0)]))),128))])):D("",!0)])])]),s("div",y0,[s("button",{type:"button",onClick:C,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,_0)])],32)])]))}});const pr=Ie(b0,[["__scopeId","data-v-cc7eac57"]]),$0={class:"movie-form-modal"},w0={class:"modal-header"},k0={class:"form-group"},C0={class:"form-group"},S0={class:"form-row"},x0={class:"form-group"},P0={class:"form-group"},T0={class:"form-group"},A0={class:"form-group"},E0={class:"form-group"},I0={class:"tag-input-group"},M0=["onKeyup"],D0={class:"tags-container"},V0=["onClick"],R0={class:"form-group"},U0={class:"select-with-search"},L0=["value"],F0={class:"form-group"},O0={class:"select-with-search"},z0={class:"multi-select"},N0=["value"],j0={key:0,class:"actors-list"},q0={class:"actor-header"},H0={class:"actor-name"},B0=["onClick"],K0={class:"actor-fields"},W0={class:"actor-field"},G0=["onUpdate:modelValue"],Y0={class:"actor-field"},Q0=["onUpdate:modelValue"],J0={class:"form-group"},Z0={class:"form-group"},X0={class:"form-group"},e$={class:"award-header"},t$=["onClick"],s$={class:"award-fields"},n$={class:"award-field"},o$=["onUpdate:modelValue"],a$={class:"award-field"},l$=["onUpdate:modelValue"],i$={class:"award-field"},r$=["onUpdate:modelValue"],u$={class:"award-field"},c$=["onUpdate:modelValue"],d$={class:"form-group"},v$={class:"season-header"},f$=["onClick"],p$={class:"season-fields"},g$={class:"season-field"},m$=["onUpdate:modelValue"],h$={class:"season-field"},y$=["onUpdate:modelValue"],_$={class:"form-group"},b$={class:"form-group"},$$=["onClick"],w$={class:"form-actions"},k$=["disabled"],C$=Ne({__name:"TvShowForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=I(!1),i=I(""),r=I(""),l=I(""),c=I(0),f=I([]),p=I([]);I(""),I(0),I([]);const u=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],director:0,actors:[],poster:"",summary:"",awards:[],seasons:[],episodes:1,country:"",language:"",trailer:"",photos:[]});n.initialData&&Object.assign(u,{id:n.initialData.id,title:n.initialData.title||"",original_title:n.initialData.originalTitle||n.initialData.original_title||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],director:n.initialData.director?.id||n.initialData.director||0,actors:n.initialData.actors?.map(x=>({id:x.id||x,role:x.role||"",description:x.description||""}))||[],poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:n.initialData.awards?.map(x=>({id:x.id||0,year:x.year||new Date().getFullYear(),status:x.status||"nominated",note:x.note||""}))||[],seasons:n.initialData.seasons?.map(x=>({id:x.id||0,number:x.number||"1"}))||[],episodes:n.initialData.episodes||1,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]});async function h(){try{const x=await Dt({page:1,size:100});f.value=x.actors||[],p.value=x.actors||[]}catch(x){console.error(":",x)}}je(()=>{h()}),!n.isEdit&&u.photos.length===0&&b();function g(x){const E=p.value.find(C=>C.id===x);return E?E.name:`${x}`}async function M(){if(!r.value.trim()){f.value=[];return}try{const x=await Dt({page:1,size:20,keyword:r.value});f.value=x.actors||[]}catch(x){console.error(":",x)}}async function R(){if(!l.value.trim()){p.value=[];return}try{const x=await Dt({page:1,size:20,keyword:l.value});p.value=x.actors||[]}catch(x){console.error(":",x)}}function F(){i.value.trim()&&!u.tags.includes(i.value.trim())&&(u.tags.push(i.value.trim()),i.value="")}function q(x){u.tags.splice(x,1)}function K(){c.value&&!u.actors.find(x=>x.id===c.value)&&(u.actors.push({id:c.value,role:"",description:""}),c.value=0)}function H(x){u.actors.splice(x,1)}function z(){u.awards.push({id:0,year:new Date().getFullYear(),status:"nominated",note:""})}function j(x){u.awards.splice(x,1)}function S(){u.seasons.push({id:0,number:(u.seasons.length+1).toString()})}function J(x){u.seasons.splice(x,1)}function b(){u.photos.push("")}function _(x){u.photos.splice(x,1)}const B={success:function(x){console.log("Success:",x)},error:function(x){console.error("Error:",x)},warning:function(x){console.warn("Warning:",x)},info:function(x){console.info("Info:",x)}};async function N(){if(!u.title||!u.year){B.warning("");return}a.value=!0;try{const x={...u};x.year=Number(x.year),x.director=Number(x.director),x.episodes=Number(x.episodes),x.actors=x.actors.map(E=>({id:Number(E.id),role:E.role?.trim()||"",description:E.description?.trim()||""})),x.awards=x.awards.map(E=>({id:Number(E.id),year:Number(E.year),status:E.status||"nominated",note:E.note?.trim()||""})),x.seasons=x.seasons.map(E=>({id:Number(E.id),number:E.number?.toString()||"1"})),Array.isArray(x.tags)||(x.tags=x.tags?[x.tags]:[]),n.isEdit&&n.initialData?.id&&(x.id=n.initialData.id),await ra(x),o("cancel")}catch(x){console.error(":",x),B.error("")}finally{a.value=!1}}function P(){o("cancel")}return(x,E)=>(d(),v("div",{class:"movie-form-overlay",onClick:ge(P,["self"])},[s("div",$0,[s("div",w0,[s("h2",null,y(x.isEdit?"":""),1),s("button",{class:"close-btn",onClick:P},"")]),s("form",{onSubmit:ge(N,["prevent"]),class:"movie-form"},[s("div",k0,[E[14]||(E[14]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":E[0]||(E[0]=C=>u.title=C),type:"text",required:"",placeholder:""},null,512),[[ae,u.title]])]),s("div",C0,[E[15]||(E[15]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":E[1]||(E[1]=C=>u.original_title=C),type:"text",placeholder:""},null,512),[[ae,u.original_title]])]),s("div",S0,[s("div",x0,[E[16]||(E[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":E[2]||(E[2]=C=>u.year=C),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,u.year,void 0,{number:!0}]])]),s("div",P0,[E[17]||(E[17]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":E[3]||(E[3]=C=>u.episodes=C),type:"number",placeholder:"",min:"1"},null,512),[[ae,u.episodes,void 0,{number:!0}]])])]),s("div",T0,[E[18]||(E[18]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":E[4]||(E[4]=C=>u.country=C),type:"text",placeholder:""},null,512),[[ae,u.country]])]),s("div",A0,[E[19]||(E[19]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":E[5]||(E[5]=C=>u.language=C),type:"text",placeholder:""},null,512),[[ae,u.language]])]),s("div",E0,[E[20]||(E[20]=s("label",null,"",-1)),s("div",I0,[Z(s("input",{"onUpdate:modelValue":E[6]||(E[6]=C=>i.value=C),type:"text",placeholder:"",onKeyup:Qe(ge(F,["prevent"]),["enter"]),class:"tag-input"},null,40,M0),[[ae,i.value]]),s("button",{type:"button",onClick:F,class:"add-tag-btn"},"")]),s("div",D0,[(d(!0),v(se,null,ve(u.tags,(C,W)=>(d(),v("span",{key:W,class:"tag"},[oe(y(C)+" ",1),s("button",{type:"button",onClick:w=>q(W),class:"tag-remove"},"",8,V0)]))),128))])]),s("div",R0,[E[22]||(E[22]=s("label",null,"",-1)),s("div",U0,[Z(s("input",{"onUpdate:modelValue":E[7]||(E[7]=C=>r.value=C),type:"text",placeholder:"...",onInput:M,class:"search-input"},null,544),[[ae,r.value]]),Z(s("select",{"onUpdate:modelValue":E[8]||(E[8]=C=>u.director=C),class:"select-input"},[E[21]||(E[21]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(f.value,C=>(d(),v("option",{key:C.id,value:C.id},y(C.name),9,L0))),128))],512),[[Ue,u.director,void 0,{number:!0}]])])]),s("div",F0,[E[26]||(E[26]=s("label",null,"",-1)),s("div",O0,[Z(s("input",{"onUpdate:modelValue":E[9]||(E[9]=C=>l.value=C),type:"text",placeholder:"...",onInput:R,class:"search-input"},null,544),[[ae,l.value]]),s("div",z0,[Z(s("select",{"onUpdate:modelValue":E[10]||(E[10]=C=>c.value=C),onChange:K,class:"select-input"},[E[23]||(E[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(p.value,C=>(d(),v("option",{key:C.id,value:C.id},y(C.name),9,N0))),128))],544),[[Ue,c.value]]),u.actors.length>0?(d(),v("div",j0,[(d(!0),v(se,null,ve(u.actors,(C,W)=>(d(),v("div",{key:W,class:"actor-item"},[s("div",q0,[s("span",H0,y(g(C.id)),1),s("button",{type:"button",onClick:w=>H(W),class:"item-remove"},"",8,B0)]),s("div",K0,[s("div",W0,[E[24]||(E[24]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.role=w,type:"text",placeholder:"",class:"actor-input"},null,8,G0),[[ae,C.role]])]),s("div",Y0,[E[25]||(E[25]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.description=w,type:"text",placeholder:"",class:"actor-input"},null,8,Q0),[[ae,C.description]])])])]))),128))])):D("",!0)])])]),s("div",J0,[E[27]||(E[27]=s("label",null,"URL",-1)),pe(is,{modelValue:u.poster,"onUpdate:modelValue":E[11]||(E[11]=C=>u.poster=C),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue"])]),s("div",Z0,[E[28]||(E[28]=s("label",null,"",-1)),Z(s("textarea",{"onUpdate:modelValue":E[12]||(E[12]=C=>u.summary=C),placeholder:"",rows:"6",class:"textarea"},null,512),[[ae,u.summary]])]),s("div",X0,[E[34]||(E[34]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.awards,(C,W)=>(d(),v("div",{key:W,class:"award-item"},[s("div",e$,[s("span",null," "+y(W+1),1),s("button",{type:"button",onClick:w=>j(W),class:"item-remove"},"",8,t$)]),s("div",s$,[s("div",n$,[E[29]||(E[29]=s("label",null,"ID",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.id=w,type:"number",class:"award-input"},null,8,o$),[[ae,C.id,void 0,{number:!0}]])]),s("div",a$,[E[30]||(E[30]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.year=w,type:"number",class:"award-input"},null,8,l$),[[ae,C.year,void 0,{number:!0}]])]),s("div",i$,[E[32]||(E[32]=s("label",null,"",-1)),Z(s("select",{"onUpdate:modelValue":w=>C.status=w,class:"award-select"},[...E[31]||(E[31]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,r$),[[Ue,C.status]])]),s("div",u$,[E[33]||(E[33]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.note=w,type:"text",class:"award-input"},null,8,c$),[[ae,C.note]])])])]))),128)),s("button",{type:"button",onClick:z,class:"add-award-btn"},"+ ")]),s("div",d$,[E[37]||(E[37]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.seasons,(C,W)=>(d(),v("div",{key:W,class:"season-item"},[s("div",v$,[s("span",null," "+y(W+1),1),s("button",{type:"button",onClick:w=>J(W),class:"item-remove"},"",8,f$)]),s("div",p$,[s("div",g$,[E[35]||(E[35]=s("label",null,"ID",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.id=w,type:"number",class:"season-input"},null,8,m$),[[ae,C.id,void 0,{number:!0}]])]),s("div",h$,[E[36]||(E[36]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":w=>C.number=w,type:"text",class:"season-input"},null,8,y$),[[ae,C.number]])])])]))),128)),s("button",{type:"button",onClick:S,class:"add-season-btn"},"+ ")]),s("div",_$,[E[38]||(E[38]=s("label",null,"URL",-1)),Z(s("input",{"onUpdate:modelValue":E[13]||(E[13]=C=>u.trailer=C),type:"text",placeholder:"URL"},null,512),[[ae,u.trailer]])]),s("div",b$,[E[39]||(E[39]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.photos,(C,W)=>(d(),v("div",{key:W,class:"photo-item"},[pe(is,{modelValue:u.photos[W],"onUpdate:modelValue":w=>u.photos[W]=w,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:w=>_(W),class:"photo-remove"},"",8,$$)]))),128)),s("button",{type:"button",onClick:b,class:"add-photo-btn"},"+ URL")]),s("div",w$,[s("button",{type:"button",onClick:P,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,k$)])],32)])]))}});const gr=Ie(C$,[["__scopeId","data-v-eecff803"]]),S$={class:"movie-form-modal"},x$={class:"modal-header"},P$={class:"form-group"},T$={class:"form-group"},A$={class:"form-row"},E$={class:"form-group"},I$={class:"form-group"},M$={class:"form-row"},D$={class:"form-group"},V$={class:"form-group"},R$={class:"form-group"},U$={class:"tags-input"},L$={key:0,class:"tags-list"},F$=["onClick"],O$={class:"tags-input-row"},z$={class:"form-group"},N$={class:"select-with-search"},j$=["value"],q$={class:"form-group"},H$={class:"select-with-search"},B$={class:"multi-select"},K$=["value"],W$={key:0,class:"guests-list"},G$={class:"guest-header"},Y$={class:"guest-name"},Q$=["onClick"],J$={class:"guest-fields"},Z$={class:"guest-field"},X$=["onUpdate:modelValue"],ew={class:"guest-field"},tw=["onUpdate:modelValue"],sw={class:"form-group"},nw={class:"form-group"},ow={class:"form-group"},aw={class:"form-group"},lw={class:"photos-input"},iw={key:0,class:"photos-list"},rw=["onClick"],uw={class:"form-group"},cw={class:"award-header"},dw=["onClick"],vw={class:"award-fields"},fw={class:"award-field"},pw=["onUpdate:modelValue"],gw={class:"award-field"},mw=["onUpdate:modelValue"],hw={class:"award-field"},yw=["onUpdate:modelValue"],_w={class:"award-field"},bw=["onUpdate:modelValue"],$w={class:"form-actions"},ww=["disabled"],kw=Ne({__name:"VarietyShowForm",props:{initialData:{},isEdit:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=I(!1),i=I(""),r=I(""),l=I(""),c=I(0),f=I([]),p=I([]),u=it({title:"",original_title:"",year:new Date().getFullYear(),tags:[],host:0,guests:[],poster:"",summary:"",awards:[],episodes:1,country:"",language:"",trailer:"",photos:[]});async function h(){try{const N=await Dt({page:1,size:100});f.value=N.actors||[],p.value=N.actors||[]}catch(N){console.error(":",N)}}je(()=>{h()}),n.initialData&&Object.assign(u,{title:n.initialData.title||"",original_title:n.initialData.original_title||n.initialData.originalTitle||"",year:n.initialData.year||new Date().getFullYear(),tags:n.initialData.tags||n.initialData.genre||[],host:n.initialData.hostId||(typeof n.initialData.host=="number"?n.initialData.host:0),guests:(n.initialData.guests||[]).map(N=>typeof N=="object"?{id:N.id||0,role:N.role||"",description:N.description||""}:{id:0,role:"",description:String(N)}),poster:n.initialData.poster||"",summary:n.initialData.summary||"",awards:(n.initialData.awards||[]).map(N=>typeof N=="object"?{id:N.id||0,year:N.year||new Date().getFullYear(),status:N.status||"nominated",note:N.note||""}:{id:0,year:new Date().getFullYear(),status:"nominated",note:String(N)}),episodes:n.initialData.episodes||1,country:n.initialData.country||"",language:n.initialData.language||"",trailer:n.initialData.trailer||"",photos:n.initialData.photos||[]}),!n.isEdit&&u.photos.length===0&&S();function g(N){const P=p.value.find(x=>x.id===N);return P?P.name:`${N}`}async function M(){if(!r.value.trim()){f.value=[];return}try{const N=await Dt({page:1,size:20,keyword:r.value});f.value=N.actors||[]}catch(N){console.error(":",N)}}async function R(){if(!l.value.trim()){p.value=[];return}try{const N=await Dt({page:1,size:20,keyword:l.value});p.value=N.actors||[]}catch(N){console.error(":",N)}}function F(){const N=i.value.trim();N&&!u.tags.includes(N)&&(u.tags.push(N),i.value="")}function q(N){u.tags.splice(N,1)}function K(){c.value&&!u.guests.find(N=>N.id===c.value)&&(u.guests.push({id:c.value,role:"",description:""}),c.value=0)}function H(N){u.guests.splice(N,1)}function z(){u.awards.push({id:0,year:new Date().getFullYear(),status:"nominated",note:""})}function j(N){u.awards.splice(N,1)}function S(){u.photos.push("")}function J(N){u.photos.splice(N,1)}const b={success:function(N){console.log("Success:",N)},error:function(N){console.error("Error:",N)},warning:function(N){console.warn("Warning:",N)},info:function(N){console.info("Info:",N)}};async function _(){a.value=!0;try{if(!u.title||!u.year){b.warning("");return}const N={title:u.title,original_title:u.original_title||void 0,year:u.year,tags:u.tags,host:Number(u.host),guests:u.guests.map(P=>({id:Number(P.id),role:P.role.trim(),description:P.description.trim()})),poster:u.poster,summary:u.summary,awards:u.awards.map(P=>({id:Number(P.id),year:Number(P.year),status:P.status,note:P.note.trim()})),episodes:Number(u.episodes),country:u.country,language:u.language,trailer:u.trailer||void 0,photos:u.photos.filter(P=>P.trim())};n.isEdit&&n.initialData?.id&&(N.id=n.initialData.id),o("submit",N),b.success("")}catch(N){b.error(N?.message||"")}finally{a.value=!1}}function B(){o("cancel")}return(N,P)=>(d(),v("div",{class:"movie-form-overlay",onClick:ge(B,["self"])},[s("div",S$,[s("div",x$,[s("h2",null,y(N.isEdit?"":""),1),s("button",{class:"close-btn",onClick:B},"")]),s("form",{onSubmit:ge(_,["prevent"]),class:"movie-form"},[s("div",P$,[P[14]||(P[14]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":P[0]||(P[0]=x=>u.title=x),type:"text",required:"",placeholder:""},null,512),[[ae,u.title]])]),s("div",T$,[P[15]||(P[15]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":P[1]||(P[1]=x=>u.original_title=x),type:"text",placeholder:""},null,512),[[ae,u.original_title]])]),s("div",A$,[s("div",E$,[P[16]||(P[16]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":P[2]||(P[2]=x=>u.year=x),type:"number",required:"",placeholder:"2024",min:"1900",max:"2099"},null,512),[[ae,u.year,void 0,{number:!0}]])]),s("div",I$,[P[17]||(P[17]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":P[3]||(P[3]=x=>u.episodes=x),type:"number",placeholder:"",min:"1"},null,512),[[ae,u.episodes,void 0,{number:!0}]])])]),s("div",M$,[s("div",D$,[P[18]||(P[18]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":P[4]||(P[4]=x=>u.country=x),type:"text",placeholder:""},null,512),[[ae,u.country]])]),s("div",V$,[P[19]||(P[19]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":P[5]||(P[5]=x=>u.language=x),type:"text",placeholder:""},null,512),[[ae,u.language]])])]),s("div",R$,[P[20]||(P[20]=s("label",null,"",-1)),s("div",U$,[u.tags.length>0?(d(),v("div",L$,[(d(!0),v(se,null,ve(u.tags,(x,E)=>(d(),v("span",{key:E,class:"tag-item"},[oe(y(x)+" ",1),s("button",{type:"button",onClick:C=>q(E),class:"tag-remove"},"",8,F$)]))),128))])):D("",!0),s("div",O$,[Z(s("input",{"onUpdate:modelValue":P[6]||(P[6]=x=>i.value=x),type:"text",placeholder:"",onKeyup:Qe(F,["enter"]),class:"tag-input"},null,544),[[ae,i.value]]),s("button",{type:"button",onClick:F,class:"add-tag-btn"},"")])])]),s("div",z$,[P[22]||(P[22]=s("label",null,"",-1)),s("div",N$,[Z(s("input",{"onUpdate:modelValue":P[7]||(P[7]=x=>r.value=x),type:"text",placeholder:"...",onInput:M,class:"search-input"},null,544),[[ae,r.value]]),Z(s("select",{"onUpdate:modelValue":P[8]||(P[8]=x=>u.host=x),class:"select-input"},[P[21]||(P[21]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(f.value,x=>(d(),v("option",{key:x.id,value:x.id},y(x.name),9,j$))),128))],512),[[Ue,u.host,void 0,{number:!0}]])])]),s("div",q$,[P[26]||(P[26]=s("label",null,"",-1)),s("div",H$,[Z(s("input",{"onUpdate:modelValue":P[9]||(P[9]=x=>l.value=x),type:"text",placeholder:"...",onInput:R,class:"search-input"},null,544),[[ae,l.value]]),s("div",B$,[Z(s("select",{"onUpdate:modelValue":P[10]||(P[10]=x=>c.value=x),onChange:K,class:"select-input"},[P[23]||(P[23]=s("option",{value:0},"",-1)),(d(!0),v(se,null,ve(p.value,x=>(d(),v("option",{key:x.id,value:x.id},y(x.name),9,K$))),128))],544),[[Ue,c.value]]),u.guests.length>0?(d(),v("div",W$,[(d(!0),v(se,null,ve(u.guests,(x,E)=>(d(),v("div",{key:E,class:"guest-item"},[s("div",G$,[s("span",Y$,y(g(x.id)),1),s("button",{type:"button",onClick:C=>H(E),class:"item-remove"},"",8,Q$)]),s("div",J$,[s("div",Z$,[P[24]||(P[24]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":C=>x.role=C,type:"text",placeholder:"",class:"guest-input"},null,8,X$),[[ae,x.role]])]),s("div",ew,[P[25]||(P[25]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":C=>x.description=C,type:"text",placeholder:"",class:"guest-input"},null,8,tw),[[ae,x.description]])])])]))),128))])):D("",!0)])])]),s("div",sw,[P[27]||(P[27]=s("label",null,"URL",-1)),pe(is,{modelValue:u.poster,"onUpdate:modelValue":P[11]||(P[11]=x=>u.poster=x),placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue"])]),s("div",nw,[P[28]||(P[28]=s("label",null,"",-1)),Z(s("textarea",{"onUpdate:modelValue":P[12]||(P[12]=x=>u.summary=x),rows:"4",placeholder:""},null,512),[[ae,u.summary]])]),s("div",ow,[P[29]||(P[29]=s("label",null,"URL",-1)),Z(s("input",{"onUpdate:modelValue":P[13]||(P[13]=x=>u.trailer=x),type:"text",placeholder:""},null,512),[[ae,u.trailer]])]),s("div",aw,[P[30]||(P[30]=s("label",null,"URL",-1)),s("div",lw,[u.photos.length>0?(d(),v("div",iw,[(d(!0),v(se,null,ve(u.photos,(x,E)=>(d(),v("div",{key:E,class:"photo-item"},[pe(is,{modelValue:u.photos[E],"onUpdate:modelValue":C=>u.photos[E]=C,placeholder:"","upload-type":"image","button-text":"","disable-url-input":!0},null,8,["modelValue","onUpdate:modelValue"]),s("button",{type:"button",onClick:C=>J(E),class:"photo-remove"},"",8,rw)]))),128))])):D("",!0),s("button",{type:"button",onClick:S,class:"add-photo-btn"},"+ URL")])]),s("div",uw,[P[36]||(P[36]=s("label",null,"",-1)),(d(!0),v(se,null,ve(u.awards,(x,E)=>(d(),v("div",{key:E,class:"award-item"},[s("div",cw,[s("span",null," "+y(E+1),1),s("button",{type:"button",onClick:C=>j(E),class:"item-remove"},"",8,dw)]),s("div",vw,[s("div",fw,[P[31]||(P[31]=s("label",null,"ID",-1)),Z(s("input",{"onUpdate:modelValue":C=>x.id=C,type:"number",class:"award-input"},null,8,pw),[[ae,x.id,void 0,{number:!0}]])]),s("div",gw,[P[32]||(P[32]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":C=>x.year=C,type:"number",class:"award-input"},null,8,mw),[[ae,x.year,void 0,{number:!0}]])]),s("div",hw,[P[34]||(P[34]=s("label",null,"",-1)),Z(s("select",{"onUpdate:modelValue":C=>x.status=C,class:"award-select"},[...P[33]||(P[33]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,yw),[[Ue,x.status]])]),s("div",_w,[P[35]||(P[35]=s("label",null,"",-1)),Z(s("input",{"onUpdate:modelValue":C=>x.note=C,type:"text",class:"award-input"},null,8,bw),[[ae,x.note]])])])]))),128)),s("button",{type:"button",onClick:z,class:"add-award-btn"},"+ ")]),s("div",$w,[s("button",{type:"button",onClick:B,class:"cancel-btn"},""),s("button",{type:"submit",disabled:a.value,class:"submit-btn"},y(a.value?"...":""),9,ww)])],32)])]))}});const mr=Ie(kw,[["__scopeId","data-v-dd33347f"]]);async function hr(e){const t={...e,genre:e.tags,host:Number(e.host),guests:e.guests.map(o=>({id:Number(o.id),role:o.role.trim(),description:o.description.trim()})),awards:e.awards.map(o=>({id:Number(o.id),year:Number(o.year),status:o.status,note:o.note.trim()})),rating:void 0};return(await he("/varieties/add",{method:"POST",body:Ge(t)})).data}async function Cw(e){const t=await he(`/varieties/${e}`);if(!t||!t.data)throw new Error("Invalid API response format");const n=t.data.data||t.data;if(!n)throw new Error("No data returned from API");return{id:n.id||0,title:n.title||"",originalTitle:n.originalTitle||n.original_title||"",year:n.year||0,tags:n.genre||n.tags||[],host:typeof n.host=="object"?n.host?.name||"":n.host||"",hostId:typeof n.host=="object"?n.host?.id:typeof n.host=="number"?n.host:0,guests:(n.guests||[]).map(o=>typeof o=="object"?o:{id:0,role:"",description:String(o)}),poster:n.poster||"",summary:n.summary||"",awards:(n.awards||[]).map(o=>typeof o=="object"?o:{id:0,year:0,status:"nominated",note:String(o)}),episodes:n.episodes||0,country:n.country||"",language:n.language||"",trailer:n.trailer||"",photos:n.photos||[],rating:n.rating||0,views:n.views||0,likes:n.likes||0,isLiked:n.isLiked||!1,isFavorited:n.isFavorited||!1}}async function Sw(e){return(await he(`/varieties/${e}/delete`,{method:"POST"})).data}async function xw(e,t,n){await he(`/varieties/${e}/rate`,{method:"POST",body:Ge(t),signal:n})}async function Pw(e){return(await he(`/varieties/${e}/like`,{method:"POST"})).data}async function Tw(e){return(await he(`/varieties/${e}/unlike`,{method:"POST"})).data}async function Aw(e){return(await he(`/varieties/${e}/favorite`,{method:"POST"})).data}async function Ew(e){return(await he(`/varieties/${e}/unfavorite`,{method:"POST"})).data}async function Iw(e,t={}){const n=new URLSearchParams;t.page&&n.set("page",String(t.page)),t.size&&n.set("size",String(t.size));const a=(await he(`/varieties/${e}/reviews${n.toString()?`?${n.toString()}`:""}`)).data;return{reviews:(a.reviews||[]).map(r=>({...r,createdAt:r.createTime||r.createdAt,user:r.user||{id:r.userId,username:r.username||"",avatar:r.avatar}})),total:a.total||a.pagination?.total||0,page:a.pagination?.page||t.page||1,size:a.pagination?.size||t.size||10}}const Mw={class:"search-page"},Dw={class:"search-header"},Vw=["placeholder"],Rw={class:"search-body"},Uw={class:"facet-panel"},Lw={class:"facet-section"},Fw={class:"range-row"},Ow={class:"range-row"},zw={class:"range-row"},Nw={class:"range-row"},jw={class:"range-row"},qw={class:"result-panel"},Hw={class:"result-header"},Bw={class:"result-count"},Kw={class:"header-actions"},Ww={key:0,class:"grid"},Gw={key:1,class:"grid"},Yw={class:"meta"},Qw=["innerHTML"],Jw={class:"sub"},Zw={class:"tags"},Xw={class:"rating-row"},e2={key:0,class:"rating-text"},t2={key:2,class:"empty"},s2={class:"suggestions"},n2=["onClick"],o2={key:3,class:"pagination-container"},a2={class:"pagination-info"},l2={key:0,class:"divider"},i2={key:0,class:"pagination"},r2=["disabled"],u2=["disabled"],c2={class:"page-numbers"},d2=["onClick"],v2={key:1,class:"page-ellipsis"},f2=["disabled"],p2=["disabled"],g2={class:"page-jump"},m2=["max"],h2=Ne({__name:"Search",setup(e){const t=$b(),n=Je(),o=I(!1),a=I(!1),i=I(!1),r=I(1),l=_e(()=>n.user?.role==="ADMIN"),c=_e(()=>Math.max(1,Math.ceil(t.total/t.pageSize))),f=_e(()=>{const j=[],S=t.page,J=c.value;if(J<=7)for(let b=1;b<=J;b++)j.push(b);else if(S<=4){for(let b=1;b<=5;b++)j.push(b);j.push("..."),j.push(J)}else if(S>=J-3){j.push(1),j.push("...");for(let b=J-4;b<=J;b++)j.push(b)}else{j.push(1),j.push("...");for(let b=S-2;b<=S+2;b++)j.push(b);j.push("..."),j.push(J)}return j});async function p(j=!1){t.page=1,r.value=1,await t.syncToRoute(j)}function u(){t.clearAll(),p(!0)}function h(j){t.genres.includes(j)||t.genres.push(j),p(!0)}function g(j){const S=Math.max(1,Math.min(j,c.value));S!==t.page&&(t.page=S,r.value=S,window.scrollTo({top:0,behavior:"smooth"}),t.syncToRoute(!0))}function M(){t.page=1,r.value=1,t.syncToRoute(!0)}function R(){const j=Math.max(1,Math.min(r.value,c.value));j!==t.page&&g(j)}rn(()=>{t.syncFromRoute()}),Ye(()=>t.page,j=>{r.value=j});function F(){return{movie:"...",tv:"...",anime:"...",variety:"..."}[t.type||""]||""}function q(j){return!j||j.id===void 0?"#":t.type==="tv"?`/tv/${j.id}`:t.type==="variety"?`/variety/${j.id}`:`/movie/${j.id}`}async function K(j){try{await cr(j),de.success(""),o.value=!1,await t.runSearch()}catch(S){de.error(S?.message||"")}}async function H(j){try{await ra(j),de.success(""),a.value=!1,await t.runSearch()}catch(S){de.error(S?.message||"")}}async function z(j){try{await hr(j),de.success(""),i.value=!1,await t.runSearch()}catch(S){de.error(S?.message||"")}}return(j,S)=>{const J=dt("router-link");return d(),v("div",Mw,[s("div",Dw,[Z(s("input",{"onUpdate:modelValue":S[0]||(S[0]=b=>$e(t).q=b),onKeyup:S[1]||(S[1]=Qe(()=>p(),["enter"])),class:"search-input",type:"text",placeholder:F()},null,40,Vw),[[ae,$e(t).q]]),s("button",{class:"search-btn",onClick:S[2]||(S[2]=()=>p())},[...S[21]||(S[21]=[s("i",{class:"icon-search"},null,-1),oe("  ",-1)])])]),s("div",Rw,[s("aside",Uw,[s("section",Lw,[S[27]||(S[27]=s("h4",null,"",-1)),s("div",Fw,[S[22]||(S[22]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":S[3]||(S[3]=b=>$e(t).tag=b),placeholder:" "},null,512),[[ae,$e(t).tag]])]),s("div",Ow,[S[23]||(S[23]=s("label",null," =",-1)),Z(s("input",{type:"number","onUpdate:modelValue":S[4]||(S[4]=b=>$e(t).year=b),placeholder:" 2018",min:"1900",max:"2099"},null,512),[[ae,$e(t).year,void 0,{number:!0}]])]),s("div",zw,[S[24]||(S[24]=s("label",null," ",-1)),Z(s("input",{type:"number",step:"0.1","onUpdate:modelValue":S[5]||(S[5]=b=>$e(t).ratingGte=b),placeholder:" 7",min:"0",max:"10"},null,512),[[ae,$e(t).ratingGte,void 0,{number:!0}]])]),s("div",Nw,[S[25]||(S[25]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":S[6]||(S[6]=b=>$e(t).actor=b),placeholder:" "},null,512),[[ae,$e(t).actor]])]),s("div",jw,[S[26]||(S[26]=s("label",null,"",-1)),Z(s("input",{type:"text","onUpdate:modelValue":S[7]||(S[7]=b=>$e(t).award=b),placeholder:" "},null,512),[[ae,$e(t).award]])]),s("button",{class:"apply-btn",onClick:S[8]||(S[8]=b=>p(!0))},""),s("button",{class:"clear-btn",onClick:u},"")])]),s("section",qw,[s("div",Hw,[s("div",Bw," "+y($e(t).total)+" ",1),s("div",Kw,[l.value&&$e(t).type==="movie"?(d(),v("button",{key:0,onClick:S[9]||(S[9]=b=>o.value=!0),class:"add-movie-btn"},[...S[28]||(S[28]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0),l.value&&$e(t).type==="tv"?(d(),v("button",{key:1,onClick:S[10]||(S[10]=b=>a.value=!0),class:"add-movie-btn"},[...S[29]||(S[29]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0),l.value&&$e(t).type==="variety"?(d(),v("button",{key:2,onClick:S[11]||(S[11]=b=>i.value=!0),class:"add-movie-btn"},[...S[30]||(S[30]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0)])]),$e(t).loading?(d(),v("div",Ww,[(d(),v(se,null,ve(12,b=>s("div",{key:b,class:"card skeleton"})),64))])):$e(t).items.length?(d(),v("div",Gw,[(d(!0),v(se,null,ve($e(t).items,b=>(d(),v("article",{key:b.id,class:"card"},[pe(J,{to:q(b),class:"card-link"},{default:Se(()=>[s("div",{class:"poster",style:Rt({backgroundImage:b.poster?`url(${b.poster})`:void 0})},null,4),s("div",Yw,[s("h3",{innerHTML:b.highlight?.title||b.title},null,8,Qw),s("div",Jw,[s("span",null,y(b.year||"-"),1)]),s("div",Zw,[(d(!0),v(se,null,ve(b.genres||[],(_,B)=>(d(),v("span",{key:_,class:fe(["tag",`tag-${B%6}`])},y(_),3))),128))]),s("div",Xw,[pe(Ct,{readonly:!0,modelValue:b.rating,"tooltip-base":""},null,8,["modelValue"]),b.rating?(d(),v("span",e2,y(b.rating.toFixed(1))+"/10",1)):D("",!0)])])]),_:2},1032,["to"])]))),128))])):(d(),v("div",t2,[S[31]||(S[31]=s("p",null,"",-1)),s("div",s2,[(d(!0),v(se,null,ve(($e(t).facets?.genres||[]).slice(0,6),b=>(d(),v("span",{key:b.value,class:"suggest",onClick:_=>h(b.value)},y(b.value),9,n2))),128))])])),!$e(t).loading&&$e(t).items.length>0?(d(),v("div",o2,[s("div",a2,[s("span",null," "+y($e(t).total)+" ",1),$e(t).total>0?(d(),v("span",l2,"|")):D("",!0),$e(t).total>0?(d(),v(se,{key:1},[S[33]||(S[33]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":S[12]||(S[12]=b=>$e(t).pageSize=b),onChange:M,class:"page-size-select"},[...S[32]||(S[32]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,$e(t).pageSize]]),S[34]||(S[34]=s("span",null,"",-1))],64)):D("",!0)]),$e(t).total>0&&c.value>0?(d(),v("div",i2,[s("button",{class:"pagination-btn",disabled:$e(t).page<=1||c.value<=1,onClick:S[13]||(S[13]=ge(b=>g(1),["stop"])),title:""},"  ",8,r2),s("button",{class:"pagination-btn",disabled:$e(t).page<=1||c.value<=1,onClick:S[14]||(S[14]=ge(b=>g($e(t).page-1),["stop"])),title:""},"  ",8,u2),s("div",c2,[(d(!0),v(se,null,ve(f.value,(b,_)=>(d(),v(se,{key:`page-${_}-${b}`},[typeof b=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:b===$e(t).page}]),onClick:ge(B=>g(b),["stop"])},y(b),11,d2)):(d(),v("span",v2,y(b),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:$e(t).page>=c.value||c.value<=1,onClick:S[15]||(S[15]=ge(b=>g($e(t).page+1),["stop"])),title:""},"  ",8,f2),s("button",{class:"pagination-btn",disabled:$e(t).page>=c.value||c.value<=1,onClick:S[16]||(S[16]=ge(b=>g(c.value),["stop"])),title:""},"  ",8,p2),s("div",g2,[S[35]||(S[35]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":S[17]||(S[17]=b=>r.value=b),min:1,max:c.value,onKeyup:Qe(R,["enter"]),class:"jump-input"},null,40,m2),[[ae,r.value,void 0,{number:!0}]]),S[36]||(S[36]=s("span",null,"",-1)),s("button",{onClick:ge(R,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])]),o.value?(d(),rt(pr,{key:0,"is-edit":!1,onSubmit:K,onCancel:S[18]||(S[18]=b=>o.value=!1)})):D("",!0),a.value?(d(),rt(gr,{key:1,"is-edit":!1,onSubmit:H,onCancel:S[19]||(S[19]=b=>a.value=!1)})):D("",!0),i.value?(d(),rt(mr,{key:2,"is-edit":!1,onSubmit:z,onCancel:S[20]||(S[20]=b=>i.value=!1)})):D("",!0)])}}});const y2=Ie(h2,[["__scopeId","data-v-445fff76"]]),_2={class:"actor-form-modal"},b2={class:"modal-header"},$2={class:"form-group"},w2={class:"form-group"},k2={class:"form-row"},C2={class:"form-group"},S2={class:"form-group"},x2={class:"form-group"},P2={class:"form-group"},T2={class:"form-group"},A2={key:0,class:"awards-empty"},E2={key:1,class:"awards-list"},I2={class:"award-row"},M2=["onUpdate:modelValue"],D2=["onUpdate:modelValue"],V2=["onUpdate:modelValue"],R2=["onClick"],U2={class:"form-actions"},L2=["disabled"],F2=Ne({__name:"ActorForm",props:{isEdit:{type:Boolean,default:!1},initialData:{}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=I(!1),i=it({name:"",avatar:"",birthday:"",nationality:"",gender:"",biography:"",awards:[]});n.initialData&&Object.assign(i,{name:n.initialData.name||"",avatar:n.initialData.avatar||"",birthday:n.initialData.birthday||"",nationality:n.initialData.nationality||"",gender:n.initialData.gender||"",biography:n.initialData.biography||"",awards:n.initialData.awards||[]});function r(){const p={id:0,year:new Date().getFullYear(),status:"awarded",note:""};i.awards.push(p)}function l(p){i.awards.splice(p,1)}async function c(){a.value=!0;try{const p={...i,awards:i.awards.map(u=>({...u,id:u.id||0}))};n.isEdit&&n.initialData?.id&&(p.id=n.initialData.id),o("submit",p)}finally{a.value=!1}}function f(){o("cancel")}return(p,u)=>(d(),v("div",{class:"actor-form-overlay",onClick:ge(f,["self"])},[s("div",_2,[s("div",b2,[s("h2",null,y(p.isEdit?"/":"/"),1),s("button",{class:"close-btn",onClick:f},"")]),s("form",{onSubmit:ge(c,["prevent"]),class:"actor-form"},[s("div",$2,[u[6]||(u[6]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>i.name=h),type:"text",required:"",placeholder:"/"},null,512),[[ae,i.name]])]),s("div",w2,[u[7]||(u[7]=s("label",null,[oe("URL "),s("span",{class:"required"},"*")],-1)),pe(is,{modelValue:i.avatar,"onUpdate:modelValue":u[1]||(u[1]=h=>i.avatar=h),placeholder:"URL","upload-type":"avatar","button-text":"",required:""},null,8,["modelValue"])]),s("div",k2,[s("div",C2,[u[8]||(u[8]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>i.birthday=h),type:"date",required:"",placeholder:"yyyy-MM-dd"},null,512),[[ae,i.birthday]])]),s("div",S2,[u[9]||(u[9]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>i.nationality=h),type:"text",required:"",placeholder:""},null,512),[[ae,i.nationality]])])]),s("div",x2,[u[11]||(u[11]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("select",{"onUpdate:modelValue":u[4]||(u[4]=h=>i.gender=h),required:""},[...u[10]||(u[10]=[s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1)])],512),[[Ue,i.gender]])]),s("div",P2,[u[12]||(u[12]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("textarea",{"onUpdate:modelValue":u[5]||(u[5]=h=>i.biography=h),required:"",rows:"4",placeholder:"/"},null,512),[[ae,i.biography]])]),s("div",T2,[s("div",{class:"awards-header"},[u[13]||(u[13]=s("label",null,"",-1)),s("button",{type:"button",class:"add-award-btn",onClick:r},"+ ")]),i.awards.length===0?(d(),v("div",A2,"  ")):(d(),v("div",E2,[(d(!0),v(se,null,ve(i.awards,(h,g)=>(d(),v("div",{key:g,class:"award-item"},[s("div",I2,[Z(s("input",{"onUpdate:modelValue":M=>h.year=M,type:"number",required:"",placeholder:"",min:"1900",max:"2099",class:"award-input-year"},null,8,M2),[[ae,h.year]]),Z(s("select",{"onUpdate:modelValue":M=>h.status=M,required:"",class:"award-input-status"},[...u[14]||(u[14]=[s("option",{value:"nominated"},"",-1),s("option",{value:"awarded"},"",-1)])],8,D2),[[Ue,h.status]]),Z(s("input",{"onUpdate:modelValue":M=>h.note=M,type:"text",required:"",placeholder:"/",class:"award-input-note"},null,8,V2),[[ae,h.note]]),s("button",{type:"button",class:"remove-award-btn",onClick:M=>l(g)},"",8,R2)])]))),128))]))]),s("div",U2,[s("button",{type:"button",class:"cancel-btn",onClick:f},""),s("button",{type:"submit",class:"submit-btn",disabled:a.value},y(a.value?"...":p.isEdit?"":""),9,L2)])],32)])]))}});const yr=Ie(F2,[["__scopeId","data-v-c7fada6a"]]),O2={class:"actors-page"},z2={class:"page-header"},N2={class:"header-content"},j2={class:"header-actions"},q2={class:"filters"},H2={class:"filter-group"},B2={class:"filter-group"},K2={class:"filter-group"},W2=["disabled"],G2={key:0,class:"loading"},Y2={key:1,class:"error"},Q2={key:2,class:"empty-container"},J2={class:"pagination-info"},Z2={key:3,class:"actors-grid"},X2=["onClick"],ek={class:"card-avatar-wrapper"},tk=["src","alt"],sk={class:"meta"},nk={class:"name"},ok={class:"sub"},ak={key:0,class:"sub-item"},lk={key:1,class:"sub-item"},ik={key:4,class:"pagination-container"},rk={class:"pagination-info"},uk={key:0,class:"divider"},ck={key:0,class:"pagination"},dk=["disabled"],vk=["disabled"],fk={class:"page-numbers"},pk=["onClick"],gk={key:1,class:"page-ellipsis"},mk=["disabled"],hk=["disabled"],yk={class:"page-jump"},_k=["max"],ho="/actor_avatar.png",bk=Ne({__name:"Actors",setup(e){const t=Pt(),n=Je(),o=I([]),a=I(0),i=I(1),r=I(20),l=I(!1),c=I(""),f=I(1),p=I(""),u=I(""),h=I(""),g=_e(()=>Math.max(1,Math.ceil(a.value/r.value))),M=_e(()=>{const P=[],x=i.value,E=g.value;if(E<=7)for(let C=1;C<=E;C++)P.push(C);else if(x<=4){for(let C=1;C<=5;C++)P.push(C);P.push("..."),P.push(E)}else if(x>=E-3){P.push(1),P.push("...");for(let C=E-4;C<=E;C++)P.push(C)}else{P.push(1),P.push("...");for(let C=x-2;C<=x+2;C++)P.push(C);P.push("..."),P.push(E)}return P}),R=I(!1),F=_e(()=>n.user?.role==="ADMIN");async function q(){l.value=!0,c.value="";try{const P=await Dt({page:i.value||1,size:r.value||20,keyword:p.value||void 0,nationality:u.value||void 0,gender:h.value||void 0});o.value=P.actors||[],a.value=P.total||0,P.page&&P.page!==i.value&&(i.value=P.page),P.size&&P.size!==r.value&&(r.value=P.size),f.value=i.value}catch(P){P&&P.message?c.value=P.message:P&&P.code===10005?c.value="":c.value="",console.error("Failed to load actors:",P)}finally{l.value=!1}}function K(){i.value=1,f.value=1,q()}function H(P){const x=Math.max(1,Math.min(P,g.value));x!==i.value&&(i.value=x,f.value=x,window.scrollTo({top:0,behavior:"smooth"}),q())}function z(){i.value=1,f.value=1,q()}function j(){const P=Math.max(1,Math.min(f.value,g.value));P!==i.value&&H(P)}function S(P){t.push({name:"ActorDetail",params:{id:P}})}function J(){t.push({name:"AwardsList"})}function b(P){const x=P.target;x.src!==ho&&(x.src=ho)}function _(){R.value=!0}const B=de;async function N(P){try{l.value=!0,await fr(P),R.value=!1,await q(),B.success("/")}catch(x){console.error("Failed to save actor:",x),B.error(x?.message||"")}finally{l.value=!1}}return je(q),(P,x)=>(d(),v("div",O2,[s("div",z2,[s("div",N2,[x[12]||(x[12]=s("div",{class:"header-title-section"},[s("h1",{class:"page-title"},[s("i",{class:"icon-user"}),oe("  ")]),s("p",{class:"page-subtitle"},"")],-1)),s("div",j2,[s("button",{class:"awards-button",onClick:J},[...x[10]||(x[10]=[s("i",{class:"icon-trophy"},null,-1),oe("  ",-1)])]),F.value?(d(),v("button",{key:0,class:"add-button",onClick:_},[...x[11]||(x[11]=[s("i",{class:"icon-plus"},null,-1),oe(" / ",-1)])])):D("",!0)])]),s("div",q2,[s("div",H2,[x[13]||(x[13]=s("i",{class:"icon-search"},null,-1)),Z(s("input",{"onUpdate:modelValue":x[0]||(x[0]=E=>p.value=E),onKeyup:Qe(K,["enter"]),placeholder:"",class:"filter-input"},null,544),[[ae,p.value]])]),s("div",B2,[x[15]||(x[15]=s("i",{class:"icon-user"},null,-1)),Z(s("select",{"onUpdate:modelValue":x[1]||(x[1]=E=>h.value=E),onChange:K,class:"filter-select"},[...x[14]||(x[14]=[s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1),s("option",{value:""},"",-1)])],544),[[Ue,h.value]])]),s("div",K2,[x[16]||(x[16]=s("i",{class:"icon-location"},null,-1)),Z(s("input",{"onUpdate:modelValue":x[2]||(x[2]=E=>u.value=E),onKeyup:Qe(K,["enter"]),placeholder:" / ",class:"filter-input"},null,544),[[ae,u.value]])]),s("button",{onClick:K,disabled:l.value,class:"search-button"},[...x[17]||(x[17]=[s("i",{class:"icon-search"},null,-1),s("span",null,"",-1)])],8,W2)])]),l.value?(d(),v("div",G2,"...")):c.value?(d(),v("div",Y2,y(c.value),1)):o.value.length===0?(d(),v("div",Q2,[x[18]||(x[18]=s("div",{class:"empty"},"",-1)),s("div",J2,[s("span",null," "+y(a.value)+" ",1)])])):(d(),v("div",Z2,[(d(!0),v(se,null,ve(o.value,E=>(d(),v("div",{key:E.id,class:"actor-card",onClick:C=>S(E.id)},[s("div",ek,[s("img",{src:E.avatar||ho,alt:E.name,class:"avatar",onError:b},null,40,tk),x[19]||(x[19]=s("div",{class:"avatar-overlay"},[s("i",{class:"icon-arrow-right"})],-1))]),s("div",sk,[s("div",nk,y(E.name),1),s("div",ok,[E.nationality?(d(),v("span",ak,[x[20]||(x[20]=s("i",{class:"icon-location location-icon"},null,-1)),oe(" "+y(E.nationality),1)])):D("",!0),E.gender?(d(),v("span",lk,[x[21]||(x[21]=s("i",{class:"icon-user gender-icon"},null,-1)),oe(" "+y(E.gender),1)])):D("",!0)])])],8,X2))),128))])),!l.value&&o.value.length>0?(d(),v("div",ik,[s("div",rk,[s("span",null," "+y(a.value)+" ",1),a.value>0?(d(),v("span",uk,"|")):D("",!0),a.value>0?(d(),v(se,{key:1},[x[23]||(x[23]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":x[3]||(x[3]=E=>r.value=E),onChange:z,class:"page-size-select"},[...x[22]||(x[22]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,r.value]]),x[24]||(x[24]=s("span",null,"",-1))],64)):D("",!0)]),a.value>0&&g.value>0?(d(),v("div",ck,[s("button",{class:"pagination-btn",disabled:i.value<=1||g.value<=1,onClick:x[4]||(x[4]=ge(E=>H(1),["stop"])),title:""},"  ",8,dk),s("button",{class:"pagination-btn",disabled:i.value<=1||g.value<=1,onClick:x[5]||(x[5]=ge(E=>H(i.value-1),["stop"])),title:""},"  ",8,vk),s("div",fk,[(d(!0),v(se,null,ve(M.value,(E,C)=>(d(),v(se,{key:`page-${C}-${E}`},[typeof E=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:E===i.value}]),onClick:ge(W=>H(E),["stop"])},y(E),11,pk)):(d(),v("span",gk,y(E),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:i.value>=g.value||g.value<=1,onClick:x[6]||(x[6]=ge(E=>H(i.value+1),["stop"])),title:""},"  ",8,mk),s("button",{class:"pagination-btn",disabled:i.value>=g.value||g.value<=1,onClick:x[7]||(x[7]=ge(E=>H(g.value),["stop"])),title:""},"  ",8,hk),s("div",yk,[x[25]||(x[25]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":x[8]||(x[8]=E=>f.value=E),min:1,max:g.value,onKeyup:Qe(j,["enter"]),class:"jump-input"},null,40,_k),[[ae,f.value,void 0,{number:!0}]]),x[26]||(x[26]=s("span",null,"",-1)),s("button",{onClick:ge(j,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0),R.value?(d(),rt(yr,{key:5,"is-edit":!1,onSubmit:N,onCancel:x[9]||(x[9]=E=>R.value=!1)})):D("",!0)]))}});const $k=Ie(bk,[["__scopeId","data-v-63a08c76"]]),wk={key:0,class:"actor-detail-page"},kk={key:0,class:"loading"},Ck={key:1,class:"error"},Sk={key:2},xk={class:"header"},Pk={class:"header-content"},Tk={class:"name-section"},Ak={class:"name-row"},Ek={class:"actor-name"},Ik={class:"header-body"},Mk={class:"avatar-wrapper"},Dk=["src","alt"],Vk={class:"info"},Rk={key:0,class:"info-item"},Uk={class:"info-value"},Lk={key:1,class:"info-item"},Fk={class:"info-value"},Ok={key:2,class:"info-item"},zk={class:"info-value"},Nk={key:3,class:"info-item"},jk={class:"info-value"},qk={key:0,class:"bio-section"},Hk={class:"bio"},Bk={key:1,class:"section"},Kk={class:"cards"},Wk=["src"],Gk={class:"title"},Yk={key:0,class:"sub"},Qk={key:2,class:"section"},Jk={class:"cards"},Zk=["src"],Xk={class:"title"},e3={key:0,class:"sub"},t3={key:3,class:"section"},s3={class:"cards"},n3=["src"],o3={class:"title"},a3={key:0,class:"sub"},l3={key:4,class:"section"},i3={class:"awards"},r3={key:0},u3={key:4,class:"save-error"},c3={key:5,class:"confirm-dialog-overlay"},d3={class:"confirm-dialog"},v3={class:"confirm-dialog-content"},yo="/actor_avatar.png",Us="/actor_avatar.png",f3=Ne({__name:"ActorDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=I(!1),i=I(!1),r=I(""),l=I(null),c=I(!1),f=I(""),p=I(!1),u=_e(()=>n.user?.role==="ADMIN"),h=_e(()=>{if(!l.value)return;const J=(l.value.awards||[]).map(b=>({id:b.id,year:b.year||new Date().getFullYear(),status:"awarded",note:b.name||""}));return{id:l.value.id,name:l.value.name||"",avatar:l.value.avatar||"",birthday:l.value.birthDate||"",nationality:l.value.nationality||"",gender:l.value.gender||"",biography:l.value.biography||"",awards:J}});async function g(){i.value=!0,r.value="";try{l.value=await xb(o),a.value=!0}catch(J){console.error("Failed to load actor detail:",J),J?.code===404?r.value="":J?.message?r.value=J.message:r.value="",a.value=!0}finally{i.value=!1}}function M(J){const b=J.target;b.src!==yo&&(b.src=yo)}function R(J){const b=J.target;b.src!==Us&&(b.src=Us)}function F(){c.value=!0}async function q(J){f.value="";try{await fr(J),c.value=!1,await g()}catch(b){console.error(":",b),f.value=b?.message||""}}function K(){c.value=!1}function H(){p.value=!1}async function z(){if(o){p.value=!1,i.value=!0,r.value="";try{await Pb(o),j.success(""),window.location.href="/actors"}catch(J){console.error(":",J),j.error(J?.message||""),i.value=!1}}}const j=de;function S(J){const b=[];return J.moviesCount&&J.moviesCount>0&&b.push(""),(J.movies?.some(_=>_.role?.includes(""))||J.tvShows?.some(_=>_.role?.includes("")))&&b.push(""),(J.movies?.some(_=>_.role?.includes(""))||J.tvShows?.some(_=>_.role?.includes("")))&&b.push(""),b.length>0?b.join("/"):""}return je(g),(J,b)=>a.value?(d(),v("div",wk,[i.value?(d(),v("div",kk,"...")):r.value?(d(),v("div",Ck,y(r.value),1)):l.value?(d(),v("div",Sk,[s("div",xk,[s("div",Pk,[s("div",Tk,[s("div",Ak,[s("h1",Ek,y(l.value.name),1),u.value?(d(),v("button",{key:0,class:"edit-link-btn",onClick:F},"  ")):D("",!0)])]),s("div",Ik,[s("div",Mk,[s("img",{src:l.value.avatar||yo,class:"avatar",alt:l.value.name||"avatar",onError:M},null,40,Dk)]),s("div",Vk,[l.value.gender?(d(),v("div",Rk,[b[1]||(b[1]=s("span",{class:"info-label"},":",-1)),s("span",Uk,y(l.value.gender),1)])):D("",!0),l.value.nationality?(d(),v("div",Lk,[b[2]||(b[2]=s("span",{class:"info-label"},":",-1)),s("span",Fk,y(l.value.nationality),1)])):D("",!0),l.value.birthDate?(d(),v("div",Ok,[b[3]||(b[3]=s("span",{class:"info-label"},":",-1)),s("span",zk,y(l.value.birthDate),1)])):D("",!0),S(l.value)?(d(),v("div",Nk,[b[4]||(b[4]=s("span",{class:"info-label"},":",-1)),s("span",jk,y(S(l.value)),1)])):D("",!0)])])])]),l.value.biography?(d(),v("div",qk,[b[5]||(b[5]=s("h2",{class:"bio-title"},"",-1)),s("p",Hk,y(l.value.biography),1)])):D("",!0),(l.value.movies?.length||0)>0?(d(),v("div",Bk,[b[6]||(b[6]=s("h2",null,"",-1)),s("div",Kk,[(d(!0),v(se,null,ve(l.value.movies,_=>(d(),v("div",{key:_.id,class:"card"},[s("img",{src:_.poster||Us,alt:"poster",onError:R},null,40,Wk),s("div",Gk,y(_.title),1),_.year||_.role?(d(),v("div",Yk,y(_.year)+y(_.year&&_.role?"  ":"")+y(_.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.tvShows?.length||0)>0?(d(),v("div",Qk,[b[7]||(b[7]=s("h2",null,"",-1)),s("div",Jk,[(d(!0),v(se,null,ve(l.value.tvShows,_=>(d(),v("div",{key:_.id,class:"card"},[s("img",{src:_.poster||Us,alt:"poster",onError:R},null,40,Zk),s("div",Xk,y(_.title),1),_.year||_.role?(d(),v("div",e3,y(_.year)+y(_.year&&_.role?"  ":"")+y(_.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.varietyShows?.length||0)>0?(d(),v("div",t3,[b[8]||(b[8]=s("h2",null,"",-1)),s("div",s3,[(d(!0),v(se,null,ve(l.value.varietyShows,_=>(d(),v("div",{key:_.id,class:"card"},[s("img",{src:_.poster||Us,alt:"poster",onError:R},null,40,n3),s("div",o3,y(_.title),1),_.year||_.role?(d(),v("div",a3,y(_.year)+y(_.year&&_.role?"  ":"")+y(_.role),1)):D("",!0)]))),128))])])):D("",!0),(l.value.awards?.length||0)>0?(d(),v("div",l3,[b[9]||(b[9]=s("h2",null,"",-1)),s("ul",i3,[(d(!0),v(se,null,ve(l.value.awards,_=>(d(),v("li",{key:_.id},[oe(y(_.year)+"  "+y(_.name),1),_.movie?(d(),v("span",r3,"  "+y(_.movie),1)):D("",!0)]))),128))])])):D("",!0)])):D("",!0),c.value?(d(),rt(yr,{key:3,isEdit:!0,initialData:h.value,onSubmit:q,onCancel:K},null,8,["initialData"])):D("",!0),f.value?(d(),v("div",u3,[oe(y(f.value)+" ",1),s("button",{onClick:b[0]||(b[0]=_=>f.value=""),class:"close-error-btn"},"")])):D("",!0),p.value?(d(),v("div",c3,[s("div",d3,[b[11]||(b[11]=s("div",{class:"confirm-dialog-header"},[s("h3",null,"")],-1)),s("div",v3,[b[10]||(b[10]=s("div",{class:"confirm-dialog-icon"},[s("i",{class:"icon-warning-circle"})],-1)),s("p",null,'"'+y(l.value?.name??"")+'"',1)]),s("div",{class:"confirm-dialog-footer"},[s("button",{class:"confirm-dialog-cancel",onClick:H},""),s("button",{class:"confirm-dialog-confirm",onClick:z},"")])])])):D("",!0)])):D("",!0)}});const p3=Ie(f3,[["__scopeId","data-v-2665eb53"]]);async function _r(e){return(await he("/award/save",{method:"POST",body:Ge(e)})).data}async function g3(e={}){const t=new URLSearchParams;e.page&&t.set("page",String(e.page)),e.size&&t.set("size",String(e.size)),e.keyword&&t.set("keyword",e.keyword),e.target_type&&t.set("target_type",e.target_type);const n=t.toString(),o=`/award/query${n?`?${n}`:""}`,i=(await he(o)).data;return{awards:i.awards||i.list||[],total:i.pagination?.total||i.total||0,page:i.pagination?.page||i.page||e.page||1,size:i.pagination?.size||i.size||e.size||20}}async function br(e){return(await he(`/award/${e}`)).data}const m3={class:"award-form-modal"},h3={class:"modal-header"},y3={class:"form-group"},_3={class:"form-group"},b3={class:"form-group"},$3={class:"form-group"},w3={class:"form-actions"},k3=["disabled"],C3=Ne({__name:"AwardForm",props:{isEdit:{type:Boolean,default:!1},initialData:{default:void 0}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,a=I(!1),i=it({id:void 0,name:"",organization:"",target_type:"FILM",description:""});Ye(()=>n.initialData,c=>{c?(i.id=c.id,i.name=c.name||"",i.organization=c.organization||"",i.target_type=c.target_type||"FILM",i.description=c.description||""):(i.id=void 0,i.name="",i.organization="",i.target_type="FILM",i.description="")},{immediate:!0});function r(){if(a.value)return;a.value=!0;const c={name:i.name.trim(),organization:i.organization.trim(),target_type:i.target_type,description:i.description.trim()};n.isEdit&&i.id&&(c.id=i.id),o("submit",c),setTimeout(()=>{a.value=!1},100)}function l(){o("cancel")}return(c,f)=>(d(),v("div",{class:"award-form-overlay",onClick:ge(l,["self"])},[s("div",m3,[s("div",h3,[s("h2",null,y(c.isEdit?"":""),1),s("button",{class:"close-btn",onClick:l},"")]),s("form",{onSubmit:ge(r,["prevent"]),class:"award-form"},[s("div",y3,[f[4]||(f[4]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":f[0]||(f[0]=p=>i.name=p),type:"text",required:"",placeholder:""},null,512),[[ae,i.name]])]),s("div",_3,[f[5]||(f[5]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("input",{"onUpdate:modelValue":f[1]||(f[1]=p=>i.organization=p),type:"text",required:"",placeholder:""},null,512),[[ae,i.organization]])]),s("div",b3,[f[7]||(f[7]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("select",{"onUpdate:modelValue":f[2]||(f[2]=p=>i.target_type=p),required:""},[...f[6]||(f[6]=[Kt('<option value="" data-v-c62f2590></option><option value="ACTOR" data-v-c62f2590></option><option value="FILM" data-v-c62f2590></option><option value="TVSHOW" data-v-c62f2590></option><option value="VARIETY" data-v-c62f2590></option>',5)])],512),[[Ue,i.target_type]]),f[8]||(f[8]=s("p",{class:"form-hint"},"",-1))]),s("div",$3,[f[9]||(f[9]=s("label",null,[oe(" "),s("span",{class:"required"},"*")],-1)),Z(s("textarea",{"onUpdate:modelValue":f[3]||(f[3]=p=>i.description=p),required:"",rows:"6",placeholder:""},null,512),[[ae,i.description]])]),s("div",w3,[s("button",{type:"button",class:"cancel-btn",onClick:l},""),s("button",{type:"submit",class:"submit-btn",disabled:a.value},y(a.value?"...":c.isEdit?"":""),9,k3)])],32)])]))}});const $r=Ie(C3,[["__scopeId","data-v-c62f2590"]]),S3={class:"awards-page"},x3={class:"page-header"},P3={class:"header-content"},T3={class:"header-actions"},A3={class:"filters"},E3={class:"filter-group"},I3={class:"filter-group"},M3=["disabled"],D3={key:0,class:"detail-modal"},V3={class:"modal-header"},R3={class:"header-actions"},U3={class:"modal-content"},L3={class:"detail-info"},F3={key:0,class:"info-item"},O3={class:"info-value"},z3={key:1,class:"info-item"},N3={class:"info-value"},j3={key:0,class:"description-section"},q3={class:"description"},H3={key:1,class:"winners-section"},B3={class:"winners-list"},K3=["onClick"],W3={key:0,class:"winner-image"},G3=["src","alt"],Y3={class:"winner-info"},Q3={class:"winner-name"},J3={class:"winner-meta"},Z3={class:"winner-year"},X3={key:0,class:"winner-note"},e4={key:1,class:"detail-modal loading-content"},t4={key:2,class:"loading"},s4={key:3,class:"error"},n4={key:4,class:"empty-container"},o4={key:5,class:"awards-list"},a4=["onClick"],l4={class:"award-main"},i4={class:"award-name"},r4={class:"award-meta"},u4={key:0,class:"award-org"},c4={key:1,class:"award-type"},d4={key:2,class:"award-year"},v4={class:"award-details"},f4={key:0,class:"award-detail-item"},p4={class:"detail-value"},g4={key:1,class:"award-detail-item"},m4={class:"detail-value"},h4={key:2,class:"award-detail-item"},y4={class:"detail-value"},_4={key:6,class:"pagination-container"},b4={class:"pagination-info"},$4={key:0,class:"pagination"},w4=["disabled"],k4=["disabled"],C4={class:"page-numbers"},S4=["onClick"],x4={key:1,class:"page-ellipsis"},P4=["disabled"],T4=["disabled"],A4={class:"page-jump"},E4=["max"],I4=Ne({__name:"AwardsList",setup(e){const t=Pt(),n=Je(),o=_e(()=>n.user?.role==="ADMIN"),a=I(!1),i=I(void 0),r=I(!1),l=I(null),c=I(!1),f=I([]),p=I(0),u=I(1),h=I(20),g=I(!1),M=I(""),R=I(1),F=I(""),q=I(""),K=_e(()=>Math.max(1,Math.ceil(p.value/h.value))),H=_e(()=>{const ue=[],X=u.value,ce=K.value;if(ce<=7)for(let Ce=1;Ce<=ce;Ce++)ue.push(Ce);else if(X<=4){for(let Ce=1;Ce<=5;Ce++)ue.push(Ce);ue.push("..."),ue.push(ce)}else if(X>=ce-3){ue.push(1),ue.push("...");for(let Ce=ce-4;Ce<=ce;Ce++)ue.push(Ce)}else{ue.push(1),ue.push("...");for(let Ce=X-2;Ce<=X+2;Ce++)ue.push(Ce);ue.push("..."),ue.push(ce)}return ue});async function z(){g.value=!0,M.value="";try{const ue={page:u.value||1,size:h.value||20};F.value&&F.value.trim()&&(ue.keyword=F.value.trim()),q.value&&(ue.target_type=q.value);const X=await g3(ue);f.value=X.awards||[],p.value=X.total||0,X.page&&X.page!==u.value&&(u.value=X.page),X.size&&X.size!==h.value&&(h.value=X.size),R.value=u.value}catch(ue){ue&&ue.message?M.value=ue.message:ue&&ue.code===10005?M.value="":M.value="",console.error("Failed to load awards:",ue)}finally{g.value=!1}}function j(){u.value=1,R.value=1,z()}function S(ue){const X=Math.max(1,Math.min(ue,K.value));X!==u.value&&(u.value=X,R.value=X,window.scrollTo({top:0,behavior:"smooth"}),z())}function J(){const ue=Math.max(1,Math.min(R.value,K.value));ue!==u.value&&S(ue)}function b(){i.value=void 0,a.value=!0}function _(){l.value&&(i.value={id:l.value.id,name:l.value.name,organization:l.value.organization,target_type:l.value.target_type,description:l.value.description},x(),a.value=!0)}function B(){a.value=!1,i.value=void 0}function N(ue){return{ACTOR:"",FILM:"",TVSHOW:"",VARIETY:""}[ue]||ue}async function P(ue){r.value=!0,c.value=!0,l.value=null;try{l.value=await br(ue)}catch(X){console.error("Failed to load award detail:",X),w.error(X?.message||""),x()}finally{c.value=!1}}function x(){r.value=!1,l.value=null}function E(){return l.value?l.value.target_type==="ACTOR"&&l.value.actors?l.value.actors:l.value.target_type==="FILM"&&l.value.films?l.value.films:l.value.target_type==="TVSHOW"&&l.value.tv_shows?l.value.tv_shows:l.value.target_type==="VARIETY"&&l.value.varieties?l.value.varieties:[]:[]}function C(ue){l.value&&(x(),l.value.target_type==="ACTOR"?t.push({name:"ActorDetail",params:{id:ue.id}}):l.value.target_type==="FILM"?t.push({name:"MovieDetail",params:{id:ue.id}}):l.value.target_type==="TVSHOW"?t.push({name:"TvDetail",params:{id:ue.id}}):l.value.target_type==="VARIETY"&&t.push({name:"VarietyDetail",params:{id:ue.id}}))}function W(ue){const X=ue.target;X.style.display="none"}const w=de;async function Q(ue){try{g.value=!0,await _r(ue),a.value=!1,i.value=void 0,await z();const X=ue.id?"":"";w.success(X)}catch(X){console.error("Failed to save award:",X);const ce=ue.id?"":"";w.error(X?.message||ce)}finally{g.value=!1}}return je(z),(ue,X)=>(d(),v("div",S3,[s("div",x3,[s("div",P3,[X[8]||(X[8]=s("div",{class:"header-title-section"},[s("h1",{class:"page-title"},[s("i",{class:"icon-trophy"}),oe("  ")])],-1)),s("div",T3,[o.value?(d(),v("button",{key:0,class:"add-button",onClick:b},[...X[7]||(X[7]=[s("i",{class:"icon-plus"},null,-1),oe("  ",-1)])])):D("",!0)])]),s("div",A3,[s("div",E3,[X[9]||(X[9]=s("i",{class:"icon-search"},null,-1)),Z(s("input",{"onUpdate:modelValue":X[0]||(X[0]=ce=>F.value=ce),onKeyup:Qe(j,["enter"]),placeholder:"",class:"filter-input"},null,544),[[ae,F.value]])]),s("div",I3,[X[11]||(X[11]=s("i",{class:"icon-trophy"},null,-1)),Z(s("select",{"onUpdate:modelValue":X[1]||(X[1]=ce=>q.value=ce),onChange:j,class:"filter-select"},[...X[10]||(X[10]=[Kt('<option value="" data-v-de5305cf></option><option value="ACTOR" data-v-de5305cf></option><option value="FILM" data-v-de5305cf></option><option value="TVSHOW" data-v-de5305cf></option><option value="VARIETY" data-v-de5305cf></option>',5)])],544),[[Ue,q.value]])]),s("button",{onClick:j,disabled:g.value,class:"search-button"},[...X[12]||(X[12]=[s("i",{class:"icon-search"},null,-1),s("span",null,"",-1)])],8,M3)])]),a.value?(d(),rt($r,{key:0,"is-edit":!!i.value,"initial-data":i.value,onSubmit:Q,onCancel:B},null,8,["is-edit","initial-data"])):D("",!0),r.value?(d(),v("div",{key:1,class:"detail-modal-overlay",onClick:ge(x,["self"])},[l.value?(d(),v("div",D3,[s("div",V3,[s("h2",null,y(l.value.name),1),s("div",R3,[o.value?(d(),v("button",{key:0,class:"edit-btn",onClick:_},[...X[13]||(X[13]=[s("i",{class:"icon-edit"},null,-1),oe("  ",-1)])])):D("",!0),s("button",{class:"close-btn",onClick:x},"")])]),s("div",U3,[s("div",L3,[l.value.organization?(d(),v("div",F3,[X[14]||(X[14]=s("span",{class:"info-label"},":",-1)),s("span",O3,y(l.value.organization),1)])):D("",!0),l.value.target_type?(d(),v("div",z3,[X[15]||(X[15]=s("span",{class:"info-label"},":",-1)),s("span",N3,y(N(l.value.target_type)),1)])):D("",!0)]),l.value.description?(d(),v("div",j3,[X[16]||(X[16]=s("h3",{class:"section-title"},"",-1)),s("p",q3,y(l.value.description),1)])):D("",!0),E().length>0?(d(),v("div",H3,[X[17]||(X[17]=s("h3",{class:"section-title"},"",-1)),s("div",B3,[(d(!0),v(se,null,ve(E(),ce=>(d(),v("div",{key:`${ce.id}-${ce.year}`,class:"winner-card",onClick:Ce=>C(ce)},[ce.picture?(d(),v("div",W3,[s("img",{src:ce.picture,alt:ce.name,onError:W},null,40,G3)])):D("",!0),s("div",Y3,[s("h4",Q3,y(ce.name),1),s("div",J3,[s("span",Z3,y(ce.year),1),s("span",{class:fe(["winner-status",ce.status==="awarded"?"status-awarded":"status-nominated"])},y(ce.status==="awarded"?"":""),3)]),ce.note?(d(),v("p",X3,y(ce.note),1)):D("",!0)])],8,K3))),128))])])):D("",!0)])])):c.value?(d(),v("div",e4,[...X[18]||(X[18]=[s("div",{class:"loading"},"...",-1)])])):D("",!0)])):D("",!0),g.value?(d(),v("div",t4,"...")):M.value?(d(),v("div",s4,y(M.value),1)):f.value.length===0?(d(),v("div",n4,[...X[19]||(X[19]=[s("div",{class:"empty"},"",-1)])])):(d(),v("div",o4,[(d(!0),v(se,null,ve(f.value,ce=>(d(),v("div",{key:ce.id,class:"award-row",onClick:Ce=>P(ce.id)},[s("div",l4,[s("h3",i4,y(ce.name),1),s("div",r4,[ce.organization?(d(),v("span",u4,y(ce.organization),1)):D("",!0),ce.target_type?(d(),v("span",c4,y(N(ce.target_type)),1)):D("",!0),ce.year?(d(),v("span",d4,y(ce.year),1)):D("",!0)])]),s("div",v4,[ce.movie?(d(),v("div",f4,[X[20]||(X[20]=s("span",{class:"detail-label"},":",-1)),s("span",p4,y(ce.movie),1)])):D("",!0),ce.actor?(d(),v("div",g4,[X[21]||(X[21]=s("span",{class:"detail-label"},":",-1)),s("span",m4,y(ce.actor),1)])):D("",!0),ce.category?(d(),v("div",h4,[X[22]||(X[22]=s("span",{class:"detail-label"},":",-1)),s("span",y4,y(ce.category),1)])):D("",!0)])],8,a4))),128))])),!g.value&&f.value.length>0?(d(),v("div",_4,[s("div",b4,[s("span",null," "+y(p.value)+" ",1)]),p.value>0&&K.value>0?(d(),v("div",$4,[s("button",{class:"pagination-btn",disabled:u.value<=1||K.value<=1,onClick:X[2]||(X[2]=ge(ce=>S(1),["stop"])),title:""},"  ",8,w4),s("button",{class:"pagination-btn",disabled:u.value<=1||K.value<=1,onClick:X[3]||(X[3]=ge(ce=>S(u.value-1),["stop"])),title:""},"  ",8,k4),s("div",C4,[(d(!0),v(se,null,ve(H.value,(ce,Ce)=>(d(),v(se,{key:`page-${Ce}-${ce}`},[typeof ce=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:ce===u.value}]),onClick:ge(A=>S(ce),["stop"])},y(ce),11,S4)):(d(),v("span",x4,y(ce),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:u.value>=K.value||K.value<=1,onClick:X[4]||(X[4]=ge(ce=>S(u.value+1),["stop"])),title:""},"  ",8,P4),s("button",{class:"pagination-btn",disabled:u.value>=K.value||K.value<=1,onClick:X[5]||(X[5]=ge(ce=>S(K.value),["stop"])),title:""},"  ",8,T4),s("div",A4,[X[23]||(X[23]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":X[6]||(X[6]=ce=>R.value=ce),min:1,max:K.value,onKeyup:Qe(J,["enter"]),class:"jump-input"},null,40,E4),[[ae,R.value,void 0,{number:!0}]]),X[24]||(X[24]=s("span",null,"",-1)),s("button",{onClick:ge(J,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)]))}});const M4=Ie(I4,[["__scopeId","data-v-de5305cf"]]),D4={key:0,class:"award-detail-page"},V4={key:0,class:"loading"},R4={key:1,class:"error"},U4={key:2},L4={class:"header"},F4={class:"header-content"},O4={class:"name-section"},z4={class:"name-row"},N4={class:"award-name"},j4={class:"header-body"},q4={class:"info"},H4={key:0,class:"info-item"},B4={class:"info-value"},K4={key:1,class:"info-item"},W4={class:"info-value"},G4={key:0,class:"description-section"},Y4={class:"description"},Q4={key:1,class:"winners-section"},J4={class:"winners-list"},Z4=["onClick"],X4={key:0,class:"winner-image"},eC=["src","alt"],tC={class:"winner-info"},sC={class:"winner-name"},nC={class:"winner-meta"},oC={class:"winner-year"},aC={key:0,class:"winner-note"},lC=Ne({__name:"AwardDetail",setup(e){const t=Ut(),n=Pt(),o=Je(),a=t.params.id,i=I(!1),r=I(!1),l=I(""),c=I(null),f=I(!1),p=_e(()=>o.user?.role==="ADMIN"),u=_e(()=>{if(c.value)return{id:c.value.id,name:c.value.name||"",organization:c.value.organization||"",target_type:c.value.target_type,description:c.value.description||""}});async function h(){r.value=!0,l.value="";try{c.value=await br(a),i.value=!0}catch(z){console.error("Failed to load award detail:",z),z?.code===404?l.value="":z?.message?l.value=z.message:l.value="",i.value=!0}finally{r.value=!1}}function g(z){return{ACTOR:"",FILM:"",TVSHOW:"",VARIETY:""}[z]||z}function M(){return c.value?c.value.target_type==="ACTOR"&&c.value.actors?c.value.actors:c.value.target_type==="FILM"&&c.value.films?c.value.films:c.value.target_type==="TVSHOW"&&c.value.tv_shows?c.value.tv_shows:c.value.target_type==="VARIETY"&&c.value.varieties?c.value.varieties:[]:[]}function R(z){c.value&&(c.value.target_type==="ACTOR"?n.push({name:"ActorDetail",params:{id:z.id}}):c.value.target_type==="FILM"?n.push({name:"MovieDetail",params:{id:z.id}}):c.value.target_type==="TVSHOW"?n.push({name:"TvDetail",params:{id:z.id}}):c.value.target_type==="VARIETY"&&n.push({name:"VarietyDetail",params:{id:z.id}}))}function F(z){const j=z.target;j.style.display="none"}function q(){f.value=!0}const K=de;async function H(z){try{r.value=!0,await _r(z),f.value=!1,await h(),K.success("")}catch(j){console.error(":",j),K.error(j?.message||"")}finally{r.value=!1}}return je(h),(z,j)=>i.value?(d(),v("div",D4,[r.value?(d(),v("div",V4,"...")):l.value?(d(),v("div",R4,y(l.value),1)):c.value?(d(),v("div",U4,[s("div",L4,[s("div",F4,[s("div",O4,[s("div",z4,[s("h1",N4,y(c.value.name),1),p.value?(d(),v("button",{key:0,class:"edit-link-btn",onClick:q},"  ")):D("",!0)])]),s("div",j4,[s("div",q4,[c.value.organization?(d(),v("div",H4,[j[1]||(j[1]=s("span",{class:"info-label"},":",-1)),s("span",B4,y(c.value.organization),1)])):D("",!0),c.value.target_type?(d(),v("div",K4,[j[2]||(j[2]=s("span",{class:"info-label"},":",-1)),s("span",W4,y(g(c.value.target_type)),1)])):D("",!0)])])])]),c.value.description?(d(),v("div",G4,[j[3]||(j[3]=s("h2",{class:"section-title"},"",-1)),s("p",Y4,y(c.value.description),1)])):D("",!0),M().length>0?(d(),v("div",Q4,[j[4]||(j[4]=s("h2",{class:"section-title"},"",-1)),s("div",J4,[(d(!0),v(se,null,ve(M(),S=>(d(),v("div",{key:`${S.id}-${S.year}`,class:"winner-card",onClick:J=>R(S)},[S.picture?(d(),v("div",X4,[s("img",{src:S.picture,alt:S.name,onError:F},null,40,eC)])):D("",!0),s("div",tC,[s("h3",sC,y(S.name),1),s("div",nC,[s("span",oC,y(S.year),1),s("span",{class:fe(["winner-status",S.status==="awarded"?"status-awarded":"status-nominated"])},y(S.status==="awarded"?"":""),3)]),S.note?(d(),v("p",aC,y(S.note),1)):D("",!0)])],8,Z4))),128))])])):D("",!0)])):D("",!0),f.value?(d(),rt($r,{key:3,"is-edit":!0,"initial-data":u.value,onSubmit:H,onCancel:j[0]||(j[0]=S=>f.value=!1)},null,8,["initial-data"])):D("",!0)])):D("",!0)}});const iC=Ie(lC,[["__scopeId","data-v-831ec3ee"]]),rC={key:0,class:"movie-detail-page"},uC={key:0,class:"loading"},cC={key:1,class:"error"},dC={key:2},vC={class:"header"},fC={class:"poster-wrapper"},pC=["src","alt"],gC={key:1,class:"poster-placeholder"},mC={class:"info"},hC={class:"title-row"},yC={key:0,class:"admin-actions"},_C=["disabled"],bC=["disabled"],$C={key:0,class:"sub-title"},wC={class:"meta"},kC={key:0},CC={key:1},SC={key:2},xC={key:3},PC={key:1,class:"rating-row"},TC={class:"rating-text"},AC={key:2,class:"tags-row"},EC={key:3,class:"director"},IC={key:4,class:"actors"},MC={key:0},DC={class:"stats"},VC={key:0},RC={key:1},UC={key:5,class:"action-buttons"},LC=["disabled"],FC={key:0,class:"like-count"},OC=["disabled"],zC={key:0,class:"summary"},NC={key:1,class:"trailer-section"},jC=["src"],qC={key:2,class:"photos-section"},HC={class:"photos-grid"},BC=["src"],KC={key:3,class:"awards-section"},WC={class:"awards"},GC={key:0},YC={key:1},QC={key:2},JC={key:4,class:"rating-section"},ZC={class:"rating-form"},XC={class:"rating-input-group"},e5={key:0,class:"rating-value"},t5={class:"comment-input-group"},s5={class:"comment-count"},n5={class:"rating-actions"},o5=["disabled"],a5={class:"reviews-section"},l5={key:0,class:"reviews-loading"},i5={key:1,class:"reviews-empty"},r5={key:2},u5={class:"reviews-list"},c5={class:"review-header"},d5=["src","alt"],v5={class:"review-meta"},f5={class:"review-author"},p5={class:"review-time"},g5={class:"review-score"},m5={class:"score-text"},h5={class:"review-content"},y5={key:0,class:"reviews-pagination-container"},_5={class:"reviews-pagination-info"},b5={key:0,class:"reviews-pagination"},$5=["disabled"],w5=["disabled"],k5={class:"page-numbers"},C5=["onClick"],S5={key:1,class:"page-ellipsis"},x5=["disabled"],P5=["disabled"],T5=Ne({__name:"MovieDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=I(!1),i=I(!1),r=I(""),l=I(null),c=I(!1),f=I(!1),p=I(!1),u=I(!1),h=I(!1),g=I({score:0,comment:""}),M=I([]),R=I(!1),F=I(0),q=I(1),K=I(10),H=_e(()=>l.value?.isLiked??!1),z=_e(()=>l.value?.isFavorited??!1),j=_e(()=>n.user?.role==="ADMIN"),S=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||"",year:l.value.year,tags:l.value.tags||[],director:l.value.director?.id||l.value.director||0,actors:(l.value.actors||[]).map(A=>({id:A.id,role:A.role||"",description:A.description||""})),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(A=>A.id||A),duration:l.value.duration||0,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function J(){i.value=!0,r.value="";try{l.value=await gv(o),a.value=!0,await B()}catch(A){console.error("Failed to load movie detail:",A),A?.code===404?r.value="":A?.message?r.value=A.message:r.value="",a.value=!0}finally{i.value=!1}}const b=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const A=[],m=q.value,ee=b.value;if(ee<=7)for(let k=1;k<=ee;k++)A.push(k);else if(m<=4){for(let k=1;k<=5;k++)A.push(k);A.push("..."),A.push(ee)}else if(m>=ee-3){A.push(1),A.push("...");for(let k=ee-4;k<=ee;k++)A.push(k)}else{A.push(1),A.push("...");for(let k=m-2;k<=m+2;k++)A.push(k);A.push("..."),A.push(ee)}return A});async function B(){if(o){R.value=!0;try{const A=await Sv(o,{page:q.value,size:K.value});M.value=A.reviews||[],F.value=A.total||0,q.value=A.page||q.value,K.value=A.size||K.value}catch(A){console.error("Failed to load reviews:",A),M.value=[],F.value=0}finally{R.value=!1}}}function N(A){const m=Math.max(1,Math.min(A,b.value));if(m===q.value)return;q.value=m;const ee=document.querySelector(".reviews-section");ee&&ee.scrollIntoView({behavior:"smooth",block:"start"}),B()}function P(){q.value=1,B()}function x(A){if(!A)return"";const m=new Date,ee=new Date(A),k=m.getTime()-ee.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),re=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:re>0?`${re}`:""}function E(A){const m=A.target;m.style.display="none"}function C(A){const m=A.target;m.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",S.value),c.value=!0,console.log("showEditForm :",c.value)}async function w(A){try{await cr(A),de.success(""),c.value=!1,await J()}catch(m){console.error(":",m),de.error(m?.message||"")}}function Q(){c.value=!1}async function ue(){if(confirm("")){h.value=!0;try{await wv(o),de.success(""),window.location.href="/search?type=movie"}catch(A){console.error(":",A),de.error(A?.message||"")}finally{h.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{H.value?(await hv(o),l.value.isLiked=!1,l.value.likes>0&&l.value.likes--):(await mv(o),l.value.isLiked=!0,l.value.likes++)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{f.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{z.value?(await bv(o),l.value.isFavorited=!1):(await _v(o),l.value.isFavorited=!0)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{p.value=!1}}}async function Ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const A=g.value.score;if(!A||A<1||A>10){de.warning("1-10");return}const m=Math.round(A);if(m<1||m>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await yv(o,{score:m,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await B()}catch(ee){console.error(":",ee),de.error(ee?.message||"")}finally{u.value=!1}}return je(J),(A,m)=>{const ee=dt("router-link");return a.value?(d(),v("div",rC,[i.value?(d(),v("div",uC,"...")):r.value?(d(),v("div",cC,y(r.value),1)):l.value?(d(),v("div",dC,[s("div",vC,[s("div",fC,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:E},null,40,pC)):(d(),v("div",gC))]),s("div",mC,[s("div",hC,[s("h1",null,y(l.value.title),1),j.value?(d(),v("div",yC,[s("button",{class:"edit-btn",onClick:W,disabled:h.value},"  ",8,_C),s("button",{class:"delete-btn",onClick:ue,disabled:h.value},y(h.value?"...":""),9,bC)])):D("",!0)]),l.value.originalTitle?(d(),v("div",$C,y(l.value.originalTitle),1)):D("",!0),s("div",wC,[l.value.year?(d(),v("span",kC,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",CC,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",SC,"  "+y(l.value.language),1)):D("",!0),l.value.duration?(d(),v("span",xC,"  "+y(l.value.duration)+"",1)):D("",!0)]),l.value.rating>=0?(d(),v("div",PC,[pe(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",TC,y(l.value.rating.toFixed(1))+"/10",1)])):D("",!0),l.value.tags&&l.value.tags.length>0?(d(),v("div",AC,[(d(!0),v(se,null,ve(l.value.tags,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.director?(d(),v("div",EC,[m[8]||(m[8]=s("span",{class:"label"},"",-1)),pe(ee,{to:`/actor/${l.value.director.id}`,class:"person-link"},{default:Se(()=>[oe(y(l.value.director.name),1)]),_:1},8,["to"])])):D("",!0),l.value.actors&&l.value.actors.length>0?(d(),v("div",IC,[m[9]||(m[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.actors,(k,U)=>(d(),v(se,{key:k.id},[pe(ee,{to:`/actor/${k.id}`,class:"person-link"},{default:Se(()=>[oe(y(k.name),1)]),_:2},1032,["to"]),U<l.value.actors.length-1?(d(),v("span",MC,"")):D("",!0)],64))),128))])):D("",!0),s("div",DC,[l.value.views!==void 0?(d(),v("span",VC,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",RC,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",UC,[s("button",{class:fe(["like-btn",{active:H.value}]),onClick:X,disabled:f.value},[m[10]||(m[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(H.value?"":""),1),l.value.likes!==void 0?(d(),v("span",FC,"("+y(l.value.likes)+")",1)):D("",!0)],10,LC),s("button",{class:fe(["favorite-btn",{active:z.value}]),onClick:ce,disabled:p.value},[m[11]||(m[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(z.value?"":""),1)],10,OC)])):D("",!0)])]),l.value.summary?(d(),v("div",zC,[m[12]||(m[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",NC,[m[13]||(m[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,jC)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",qC,[m[14]||(m[14]=s("h2",null,"",-1)),s("div",HC,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,BC)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",KC,[m[15]||(m[15]=s("h2",null,"",-1)),s("ul",WC,[(d(!0),v(se,null,ve(l.value.awards,k=>(d(),v("li",{key:k.id},[k.year?(d(),v("span",GC,y(k.year),1)):D("",!0),k.category?(d(),v("span",YC,"  "+y(k.category),1)):D("",!0),k.name?(d(),v("span",QC,"  "+y(k.name),1)):D("",!0)]))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",JC,[m[18]||(m[18]=s("h2",null,"",-1)),s("div",ZC,[s("div",XC,[m[16]||(m[16]=s("label",{class:"rating-label"},"",-1)),pe(Ct,{modelValue:g.value.score,"onUpdate:modelValue":m[0]||(m[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",e5,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",t5,[m[17]||(m[17]=s("label",{class:"comment-label"},"",-1)),Z(s("textarea",{"onUpdate:modelValue":m[1]||(m[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",s5,y(g.value.comment.length)+"/1000 ",1)]),s("div",n5,[s("button",{class:"submit-rating-btn",onClick:Ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,o5)])])])):D("",!0),s("div",a5,[s("h2",null," ("+y(F.value)+")",1),R.value?(d(),v("div",l5,"...")):M.value.length===0?(d(),v("div",i5,"")):(d(),v("div",r5,[s("div",u5,[(d(!0),v(se,null,ve(M.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",c5,[pe(ee,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Se(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:m[2]||(m[2]=U=>U.target.src="/avatar.png")},null,40,d5)]),_:2},1032,["to"]),s("div",v5,[pe(ee,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Se(()=>[s("span",f5,y(k.user.username),1)]),_:2},1032,["to"]),s("span",p5,y(x(k.createdAt)),1)]),s("div",g5,[pe(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",m5,y(k.score)+"/10",1)])]),s("div",h5,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",y5,[s("div",_5,[s("span",null," "+y(F.value)+" ",1),m[20]||(m[20]=s("span",{class:"divider"},"|",-1)),m[21]||(m[21]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":m[3]||(m[3]=k=>K.value=k),onChange:P,class:"page-size-select"},[...m[19]||(m[19]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),m[22]||(m[22]=s("span",null,"",-1))]),F.value>0&&b.value>0?(d(),v("div",b5,[s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[4]||(m[4]=ge(k=>N(1),["stop"])),title:""},"  ",8,$5),s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[5]||(m[5]=ge(k=>N(q.value-1),["stop"])),title:""},"  ",8,w5),s("div",k5,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:ge(ie=>N(k),["stop"])},y(k),11,C5)):(d(),v("span",S5,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[6]||(m[6]=ge(k=>N(q.value+1),["stop"])),title:""},"  ",8,x5),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[7]||(m[7]=ge(k=>N(b.value),["stop"])),title:""},"  ",8,P5)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&S.value?(d(),rt(pr,{key:3,isEdit:!0,initialData:S.value,onSubmit:w,onCancel:Q},null,8,["initialData"])):D("",!0)])):D("",!0)}}});const A5=Ie(T5,[["__scopeId","data-v-b302db27"]]),E5={key:0,class:"movie-detail-page"},I5={key:0,class:"loading"},M5={key:1,class:"error"},D5={key:2},V5={class:"header"},R5={class:"poster-wrapper"},U5=["src","alt"],L5={key:1,class:"poster-placeholder"},F5={class:"info"},O5={class:"title-row"},z5={key:0,class:"admin-actions"},N5=["disabled"],j5=["disabled"],q5={key:0,class:"sub-title"},H5={class:"meta"},B5={key:0},K5={key:1},W5={key:2},G5={key:3},Y5={key:1,class:"rating-row"},Q5={class:"rating-text"},J5={key:2,class:"tags-row"},Z5={key:3,class:"director"},X5={key:4,class:"actors"},eS={key:0},tS={class:"stats"},sS={key:0},nS={key:1},oS={key:5,class:"action-buttons"},aS=["disabled"],lS={key:0,class:"like-count"},iS=["disabled"],rS={key:0,class:"summary"},uS={key:1,class:"trailer-section"},cS=["src"],dS={key:2,class:"photos-section"},vS={class:"photos-grid"},fS=["src"],pS={key:3,class:"seasons-section"},gS={class:"seasons-grid"},mS={class:"season-number"},hS={key:0,class:"season-info"},yS={key:1,class:"season-info"},_S={key:4,class:"awards-section"},bS={class:"awards"},$S={key:0},wS={key:1},kS={key:2},CS={key:5,class:"rating-section"},SS={class:"rating-form"},xS={class:"rating-input-group"},PS={key:0,class:"rating-value"},TS={class:"comment-input-group"},AS={class:"comment-count"},ES={class:"rating-actions"},IS=["disabled"],MS={class:"reviews-section"},DS={key:0,class:"reviews-loading"},VS={key:1,class:"reviews-empty"},RS={key:2},US={class:"reviews-list"},LS={class:"review-header"},FS=["src","alt"],OS={class:"review-meta"},zS={class:"review-author"},NS={class:"review-time"},jS={class:"review-score"},qS={class:"score-text"},HS={class:"review-content"},BS={key:0,class:"reviews-pagination-container"},KS={class:"reviews-pagination-info"},WS={key:0,class:"reviews-pagination"},GS=["disabled"],YS=["disabled"],QS={class:"page-numbers"},JS=["onClick"],ZS={key:1,class:"page-ellipsis"},XS=["disabled"],e8=["disabled"],t8=Ne({__name:"TvDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=I(!1),i=I(!1),r=I(""),l=I(null),c=I(!1),f=I(!1),p=I(!1),u=I(!1),h=I(!1),g=I({score:0,comment:""}),M=I([]),R=I(!1),F=I(0),q=I(1),K=I(10),H=_e(()=>l.value?.isLiked??!1),z=_e(()=>l.value?.isFavorited??!1),j=_e(()=>n.user?.role==="ADMIN"),S=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||l.value.original_title||"",year:l.value.year,tags:l.value.tags||l.value.genre||[],director:l.value.director?.id||l.value.director||0,actors:(l.value.actors||[]).map(A=>({id:A.id,role:A.role||"",description:A.description||""})),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(A=>({id:A.id||0,year:A.year||new Date().getFullYear(),status:A.status||"awarded",note:A.note||A.category||A.name||""})),seasons:(l.value.seasons||[]).map(A=>({id:A.id||0,number:A.number||"1"})),episodes:l.value.episodes||1,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function J(){i.value=!0,r.value="";try{l.value=await db(o),a.value=!0,await B()}catch(A){console.error("Failed to load TV show detail:",A),A?.code===404?r.value="":A?.message?r.value=A.message:r.value="",a.value=!0}finally{i.value=!1}}const b=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const A=[],m=q.value,ee=b.value;if(ee<=7)for(let k=1;k<=ee;k++)A.push(k);else if(m<=4){for(let k=1;k<=5;k++)A.push(k);A.push("..."),A.push(ee)}else if(m>=ee-3){A.push(1),A.push("...");for(let k=ee-4;k<=ee;k++)A.push(k)}else{A.push(1),A.push("...");for(let k=m-2;k<=m+2;k++)A.push(k);A.push("..."),A.push(ee)}return A});async function B(){if(o){R.value=!0;try{const A=await _b(o,{page:q.value,size:K.value});M.value=A.reviews||[],F.value=A.total||0,q.value=A.page||q.value,K.value=A.size||K.value}catch(A){console.error("Failed to load reviews:",A),M.value=[],F.value=0}finally{R.value=!1}}}function N(A){const m=Math.max(1,Math.min(A,b.value));if(m===q.value)return;q.value=m;const ee=document.querySelector(".reviews-section");ee&&ee.scrollIntoView({behavior:"smooth",block:"start"}),B()}function P(){q.value=1,B()}function x(A){if(!A)return"";const m=new Date,ee=new Date(A),k=m.getTime()-ee.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),re=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:re>0?`${re}`:""}function E(A){const m=A.target;m.style.display="none"}function C(A){const m=A.target;m.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",S.value),c.value=!0,console.log("showEditForm :",c.value)}async function w(A){try{await ra(A),de.success(""),c.value=!1,await J()}catch(m){console.error(":",m),de.error(m?.message||"")}}function Q(){c.value=!1}async function ue(){if(confirm("")){h.value=!0;try{await vb(o),window.location.href="/search?type=tv"}catch(A){console.error(":",A),de.error(A?.message||"")}finally{h.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{H.value?(await gb(o),l.value.isLiked=!1,l.value.likes&&l.value.likes>0&&l.value.likes--):(await pb(o),l.value.isLiked=!0,l.value.likes=(l.value.likes||0)+1)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{f.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{z.value?(await hb(o),l.value.isFavorited=!1):(await mb(o),l.value.isFavorited=!0)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{p.value=!1}}}async function Ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const A=g.value.score;if(!A||A<1||A>10){de.warning("1-10");return}const m=Math.round(A);if(m<1||m>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await yb(o,{score:m,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await B()}catch(ee){console.error(":",ee),de.error(ee?.message||"")}finally{u.value=!1}}return je(J),(A,m)=>{const ee=dt("router-link");return a.value?(d(),v("div",E5,[i.value?(d(),v("div",I5,"...")):r.value?(d(),v("div",M5,y(r.value),1)):l.value?(d(),v("div",D5,[s("div",V5,[s("div",R5,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:E},null,40,U5)):(d(),v("div",L5))]),s("div",F5,[s("div",O5,[s("h1",null,y(l.value.title),1),j.value?(d(),v("div",z5,[s("button",{class:"edit-btn",onClick:W,disabled:h.value},"  ",8,N5),s("button",{class:"delete-btn",onClick:ue,disabled:h.value},y(h.value?"...":""),9,j5)])):D("",!0)]),l.value.originalTitle||l.value.original_title?(d(),v("div",q5,y(l.value.originalTitle||l.value.original_title),1)):D("",!0),s("div",H5,[l.value.year?(d(),v("span",B5,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",K5,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",W5,"  "+y(l.value.language),1)):D("",!0),l.value.episodes?(d(),v("span",G5,"  "+y(l.value.episodes)+"",1)):D("",!0)]),l.value.rating!==void 0&&l.value.rating>=0?(d(),v("div",Y5,[pe(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",Q5,y((l.value.rating||0).toFixed(1))+"/10",1)])):D("",!0),(l.value.tags||l.value.genre)&&(l.value.tags&&l.value.tags.length>0||l.value.genre&&l.value.genre.length>0)?(d(),v("div",J5,[(d(!0),v(se,null,ve(l.value.tags||l.value.genre,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.director?(d(),v("div",Z5,[m[8]||(m[8]=s("span",{class:"label"},"",-1)),pe(ee,{to:`/actor/${l.value.director.id}`,class:"person-link"},{default:Se(()=>[oe(y(l.value.director.name),1)]),_:1},8,["to"])])):D("",!0),l.value.actors&&l.value.actors.length>0?(d(),v("div",X5,[m[9]||(m[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.actors,(k,U)=>(d(),v(se,{key:k.id},[pe(ee,{to:`/actor/${k.id}`,class:"person-link"},{default:Se(()=>[oe(y(k.name),1)]),_:2},1032,["to"]),U<l.value.actors.length-1?(d(),v("span",eS,"")):D("",!0)],64))),128))])):D("",!0),s("div",tS,[l.value.views!==void 0?(d(),v("span",sS,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",nS,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",oS,[s("button",{class:fe(["like-btn",{active:H.value}]),onClick:X,disabled:f.value},[m[10]||(m[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(H.value?"":""),1),l.value.likes!==void 0?(d(),v("span",lS,"("+y(l.value.likes)+")",1)):D("",!0)],10,aS),s("button",{class:fe(["favorite-btn",{active:z.value}]),onClick:ce,disabled:p.value},[m[11]||(m[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(z.value?"":""),1)],10,iS)])):D("",!0)])]),l.value.summary?(d(),v("div",rS,[m[12]||(m[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",uS,[m[13]||(m[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,cS)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",dS,[m[14]||(m[14]=s("h2",null,"",-1)),s("div",vS,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,fS)]))),128))])])):D("",!0),l.value.seasons&&l.value.seasons.length>0?(d(),v("div",pS,[m[15]||(m[15]=s("h2",null,"",-1)),s("div",gS,[(d(!0),v(se,null,ve(l.value.seasons,k=>(d(),v("div",{key:k.id||k.number,class:"season-card"},[s("div",mS,""+y(k.number)+"",1),k.episodes?(d(),v("div",hS,""+y(k.episodes),1)):D("",!0),k.startDate?(d(),v("div",yS,""+y(k.startDate),1)):D("",!0)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",_S,[m[16]||(m[16]=s("h2",null,"",-1)),s("ul",bS,[(d(!0),v(se,null,ve(l.value.awards,k=>(d(),v("li",{key:k.id},[k.year?(d(),v("span",$S,y(k.year),1)):D("",!0),k.category?(d(),v("span",wS,"  "+y(k.category),1)):D("",!0),k.name?(d(),v("span",kS,"  "+y(k.name),1)):D("",!0)]))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",CS,[m[19]||(m[19]=s("h2",null,"",-1)),s("div",SS,[s("div",xS,[m[17]||(m[17]=s("label",{class:"rating-label"},"",-1)),pe(Ct,{modelValue:g.value.score,"onUpdate:modelValue":m[0]||(m[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",PS,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",TS,[m[18]||(m[18]=s("label",{class:"comment-label"},"",-1)),Z(s("textarea",{"onUpdate:modelValue":m[1]||(m[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",AS,y(g.value.comment.length)+"/1000 ",1)]),s("div",ES,[s("button",{class:"submit-rating-btn",onClick:Ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,IS)])])])):D("",!0),s("div",MS,[s("h2",null," ("+y(F.value)+")",1),R.value?(d(),v("div",DS,"...")):M.value.length===0?(d(),v("div",VS,"")):(d(),v("div",RS,[s("div",US,[(d(!0),v(se,null,ve(M.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",LS,[pe(ee,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Se(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:m[2]||(m[2]=U=>U.target.src="/avatar.png")},null,40,FS)]),_:2},1032,["to"]),s("div",OS,[pe(ee,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Se(()=>[s("span",zS,y(k.user.username),1)]),_:2},1032,["to"]),s("span",NS,y(x(k.createdAt)),1)]),s("div",jS,[pe(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",qS,y(k.score)+"/10",1)])]),s("div",HS,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",BS,[s("div",KS,[s("span",null," "+y(F.value)+" ",1),m[21]||(m[21]=s("span",{class:"divider"},"|",-1)),m[22]||(m[22]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":m[3]||(m[3]=k=>K.value=k),onChange:P,class:"page-size-select"},[...m[20]||(m[20]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),m[23]||(m[23]=s("span",null,"",-1))]),F.value>0&&b.value>0?(d(),v("div",WS,[s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[4]||(m[4]=ge(k=>N(1),["stop"])),title:""},"  ",8,GS),s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[5]||(m[5]=ge(k=>N(q.value-1),["stop"])),title:""},"  ",8,YS),s("div",QS,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:ge(ie=>N(k),["stop"])},y(k),11,JS)):(d(),v("span",ZS,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[6]||(m[6]=ge(k=>N(q.value+1),["stop"])),title:""},"  ",8,XS),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[7]||(m[7]=ge(k=>N(b.value),["stop"])),title:""},"  ",8,e8)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&S.value?(d(),rt(gr,{key:3,isEdit:!0,initialData:S.value,onSubmit:w,onCancel:Q},null,8,["initialData"])):D("",!0)])):D("",!0)}}});const s8=Ie(t8,[["__scopeId","data-v-da0a452b"]]),n8={class:"variety-detail-page"},o8={key:0,class:"loading"},a8={key:1,class:"error"},l8={key:2},i8={class:"header"},r8={class:"poster-wrapper"},u8=["src","alt"],c8={key:1,class:"poster-placeholder"},d8={class:"info"},v8={class:"title-row"},f8={key:0,class:"admin-actions"},p8=["disabled"],g8=["disabled"],m8={key:0,class:"sub-title"},h8={class:"meta"},y8={key:0},_8={key:1},b8={key:2},$8={key:3},w8={key:1,class:"rating-row"},k8={class:"rating-text"},C8={key:2,class:"tags-row"},S8={key:3,class:"host"},x8={class:"person-text"},P8={key:4,class:"guests"},T8={key:0},A8={class:"stats"},E8={key:0},I8={key:1},M8={key:5,class:"action-buttons"},D8=["disabled"],V8={key:0,class:"like-count"},R8=["disabled"],U8={key:0,class:"summary"},L8={key:1,class:"trailer-section"},F8=["src"],O8={key:2,class:"photos-section"},z8={class:"photos-grid"},N8=["src"],j8={key:3,class:"awards-section"},q8={class:"awards"},H8={key:4,class:"rating-section"},B8={class:"rating-form"},K8={class:"rating-input-group"},W8={key:0,class:"rating-value"},G8={class:"comment-input-group"},Y8={class:"comment-count"},Q8={class:"rating-actions"},J8=["disabled"],Z8={class:"reviews-section"},X8={key:0,class:"reviews-loading"},e6={key:1,class:"reviews-empty"},t6={key:2},s6={class:"reviews-list"},n6={class:"review-header"},o6=["src","alt"],a6={class:"review-meta"},l6={class:"review-author"},i6={class:"review-time"},r6={class:"review-score"},u6={class:"score-text"},c6={class:"review-content"},d6={key:0,class:"reviews-pagination-container"},v6={class:"reviews-pagination-info"},f6={key:0,class:"reviews-pagination"},p6=["disabled"],g6=["disabled"],m6={class:"page-numbers"},h6=["onClick"],y6={key:1,class:"page-ellipsis"},_6=["disabled"],b6=["disabled"],$6=Ne({__name:"VarietyDetail",setup(e){const t=Ut(),n=Je(),o=t.params.id,a=I(!1),i=I(!1),r=I(""),l=I(null),c=I(!1),f=I(!1),p=I(!1),u=I(!1),h=I(!1),g=I({score:0,comment:""}),M=I([]),R=I(!1),F=I(0),q=I(1),K=I(10),H=_e(()=>l.value?.isLiked??!1),z=_e(()=>l.value?.isFavorited??!1),j=_e(()=>n.user?.role==="ADMIN"),S=_e(()=>{if(l.value)return{id:l.value.id,title:l.value.title||"",original_title:l.value.originalTitle||"",year:l.value.year,tags:l.value.tags||[],hostId:l.value.hostId||0,host:l.value.host||"",guests:(l.value.guests||[]).map(A=>typeof A=="object"?{id:A.id||0,role:A.role||"",description:A.description||""}:{id:0,role:"",description:String(A)}),poster:l.value.poster||"",summary:l.value.summary||"",awards:(l.value.awards||[]).map(A=>typeof A=="object"?{id:A.id||0,year:A.year||new Date().getFullYear(),status:A.status||"nominated",note:A.note||""}:{id:0,year:new Date().getFullYear(),status:"nominated",note:String(A)}),episodes:l.value.episodes,country:l.value.country||"",language:l.value.language||"",trailer:l.value.trailer||"",photos:l.value.photos||[]}});async function J(){const A=parseInt(o);if(isNaN(A)||A<=0){r.value="ID",a.value=!0,i.value=!1;return}i.value=!0,r.value="";try{l.value=await Cw(A),a.value=!0,await B()}catch(m){console.error("Failed to load variety show detail:",m),m?.code===404?r.value="":m?.message?r.value=m.message:r.value="",a.value=!0}finally{i.value=!1}}const b=_e(()=>Math.max(1,Math.ceil(F.value/K.value))),_=_e(()=>{const A=[],m=q.value,ee=b.value;if(ee<=7)for(let k=1;k<=ee;k++)A.push(k);else if(m<=4){for(let k=1;k<=5;k++)A.push(k);A.push("..."),A.push(ee)}else if(m>=ee-3){A.push(1),A.push("...");for(let k=ee-4;k<=ee;k++)A.push(k)}else{A.push(1),A.push("...");for(let k=m-2;k<=m+2;k++)A.push(k);A.push("..."),A.push(ee)}return A});async function B(){if(o){R.value=!0;try{const A=await Iw(o,{page:q.value,size:K.value});M.value=A.reviews||[],F.value=A.total||0,q.value=A.page||q.value,K.value=A.size||K.value}catch(A){console.error("Failed to load reviews:",A),M.value=[],F.value=0}finally{R.value=!1}}}function N(A){const m=Math.max(1,Math.min(A,b.value));if(m===q.value)return;q.value=m;const ee=document.querySelector(".reviews-section");ee&&ee.scrollIntoView({behavior:"smooth",block:"start"}),B()}function P(){q.value=1,B()}function x(A){if(!A)return"";const m=new Date,ee=new Date(A),k=m.getTime()-ee.getTime(),U=Math.floor(k/(1e3*60*60*24)),ie=Math.floor(k/(1e3*60*60)),re=Math.floor(k/(1e3*60));return U>0?`${U}`:ie>0?`${ie}`:re>0?`${re}`:""}function E(A){const m=A.target;m.style.display="none"}function C(A){const m=A.target;m.style.display="none"}function W(){if(!l.value){console.error("");return}console.log("editFormData:",S.value),c.value=!0,console.log("showEditForm :",c.value)}async function w(A){try{await hr(A),de.success(""),c.value=!1,await J()}catch(m){console.error(":",m),de.error(m?.message||"")}}function Q(){c.value=!1}async function ue(){if(confirm("")){h.value=!0;try{await Sw(parseInt(o)),de.success(""),window.location.href="/search?type=variety"}catch(A){console.error(":",A),de.error(A?.message||"")}finally{h.value=!1}}}async function X(){if(!n.isLoggedIn){de.warning("");return}if(l.value){f.value=!0;try{H.value?(await Tw(parseInt(o)),l.value.isLiked=!1,l.value.likes>0&&l.value.likes--):(await Pw(parseInt(o)),l.value.isLiked=!0,l.value.likes++)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{f.value=!1}}}async function ce(){if(!n.isLoggedIn){de.warning("");return}if(l.value){p.value=!0;try{z.value?(await Ew(parseInt(o)),l.value.isFavorited=!1):(await Aw(parseInt(o)),l.value.isFavorited=!0)}catch(A){console.error(":",A),de.error(A?.message||"")}finally{p.value=!1}}}async function Ce(){if(!n.isLoggedIn){de.warning("");return}if(!l.value)return;const A=g.value.score;if(!A||A<1||A>10){de.warning("1-10");return}const m=Math.round(A);if(m<1||m>10){de.warning("1-10");return}if(!g.value.comment.trim()){de.warning("");return}if(g.value.comment.length>1e3){de.warning("1000");return}u.value=!0;try{await xw(o,{score:m,comment:g.value.comment.trim()}),de.success(""),g.value={score:0,comment:""},q.value=1,await B()}catch(ee){console.error(":",ee),de.error(ee?.message||"")}finally{u.value=!1}}return je(J),(A,m)=>{const ee=dt("router-link");return d(),v("div",n8,[i.value?(d(),v("div",o8,"...")):r.value?(d(),v("div",a8,y(r.value),1)):l.value?(d(),v("div",l8,[s("div",i8,[s("div",r8,[l.value.poster?(d(),v("img",{key:0,src:l.value.poster,class:"poster",alt:l.value.title||"poster",onError:E},null,40,u8)):(d(),v("div",c8))]),s("div",d8,[s("div",v8,[s("h1",null,y(l.value.title),1),j.value?(d(),v("div",f8,[s("button",{class:"edit-btn",onClick:W,disabled:h.value},"  ",8,p8),s("button",{class:"delete-btn",onClick:ue,disabled:h.value},y(h.value?"...":""),9,g8)])):D("",!0)]),l.value.originalTitle?(d(),v("div",m8,y(l.value.originalTitle),1)):D("",!0),s("div",h8,[l.value.year?(d(),v("span",y8,y(l.value.year),1)):D("",!0),l.value.country?(d(),v("span",_8,"  "+y(l.value.country),1)):D("",!0),l.value.language?(d(),v("span",b8,"  "+y(l.value.language),1)):D("",!0),l.value.episodes?(d(),v("span",$8,"  "+y(l.value.episodes)+"",1)):D("",!0)]),l.value.rating>=0?(d(),v("div",w8,[pe(Ct,{readonly:!0,modelValue:l.value.rating,"tooltip-base":""},null,8,["modelValue"]),s("span",k8,y(l.value.rating.toFixed(1))+"/10",1)])):D("",!0),l.value.tags&&l.value.tags.length>0?(d(),v("div",C8,[(d(!0),v(se,null,ve(l.value.tags,(k,U)=>(d(),v("span",{key:k,class:fe(["tag",`tag-${U%6}`])},y(k),3))),128))])):D("",!0),l.value.host?(d(),v("div",S8,[m[8]||(m[8]=s("span",{class:"label"},"",-1)),s("span",x8,y(l.value.host),1)])):D("",!0),l.value.guests&&l.value.guests.length>0?(d(),v("div",P8,[m[9]||(m[9]=s("span",{class:"label"},"",-1)),(d(!0),v(se,null,ve(l.value.guests,(k,U)=>(d(),v("span",{key:U,class:"person-text"},[oe(y(k)+" ",1),U<l.value.guests.length-1?(d(),v("span",T8,"")):D("",!0)]))),128))])):D("",!0),s("div",A8,[l.value.views!==void 0?(d(),v("span",E8,""+y(l.value.views),1)):D("",!0),l.value.likes!==void 0?(d(),v("span",I8,"  "+y(l.value.likes),1)):D("",!0)]),$e(n).isLoggedIn?(d(),v("div",M8,[s("button",{class:fe(["like-btn",{active:H.value}]),onClick:X,disabled:f.value},[m[10]||(m[10]=s("i",{class:"icon-like"},null,-1)),s("span",null,y(H.value?"":""),1),l.value.likes!==void 0?(d(),v("span",V8,"("+y(l.value.likes)+")",1)):D("",!0)],10,D8),s("button",{class:fe(["favorite-btn",{active:z.value}]),onClick:ce,disabled:p.value},[m[11]||(m[11]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(z.value?"":""),1)],10,R8)])):D("",!0)])]),l.value.summary?(d(),v("div",U8,[m[12]||(m[12]=s("h2",null,"",-1)),s("p",null,y(l.value.summary),1)])):D("",!0),l.value.trailer?(d(),v("div",L8,[m[13]||(m[13]=s("h2",null,"",-1)),s("iframe",{src:l.value.trailer,frameborder:"0",allowfullscreen:"",class:"trailer-video"},null,8,F8)])):D("",!0),l.value.photos&&l.value.photos.length>0?(d(),v("div",O8,[m[14]||(m[14]=s("h2",null,"",-1)),s("div",z8,[(d(!0),v(se,null,ve(l.value.photos,(k,U)=>(d(),v("div",{key:U,class:"photo-wrapper"},[s("img",{src:k,alt:"photo",onError:C},null,40,N8)]))),128))])])):D("",!0),l.value.awards&&l.value.awards.length>0?(d(),v("div",j8,[m[15]||(m[15]=s("h2",null,"",-1)),s("ul",q8,[(d(!0),v(se,null,ve(l.value.awards,(k,U)=>(d(),v("li",{key:U},y(k),1))),128))])])):D("",!0),$e(n).isLoggedIn?(d(),v("div",H8,[m[18]||(m[18]=s("h2",null,"",-1)),s("div",B8,[s("div",K8,[m[16]||(m[16]=s("label",{class:"rating-label"},"",-1)),pe(Ct,{modelValue:g.value.score,"onUpdate:modelValue":m[0]||(m[0]=k=>g.value.score=k),readonly:!1,"tooltip-base":""},null,8,["modelValue"]),g.value.score?(d(),v("span",W8,y(g.value.score)+"/10 ",1)):D("",!0)]),s("div",G8,[m[17]||(m[17]=s("label",{class:"comment-label"},"",-1)),Z(s("textarea",{"onUpdate:modelValue":m[1]||(m[1]=k=>g.value.comment=k),class:"comment-textarea",placeholder:"...",maxlength:1e3,rows:"6"},null,512),[[ae,g.value.comment]]),s("div",Y8,y(g.value.comment.length)+"/1000 ",1)]),s("div",Q8,[s("button",{class:"submit-rating-btn",onClick:Ce,disabled:u.value||!g.value.score||g.value.score<1||!g.value.comment.trim()},y(u.value?"...":""),9,J8)])])])):D("",!0),s("div",Z8,[s("h2",null," ("+y(F.value)+")",1),R.value?(d(),v("div",X8,"...")):M.value.length===0?(d(),v("div",e6,"")):(d(),v("div",t6,[s("div",s6,[(d(!0),v(se,null,ve(M.value,k=>(d(),v("div",{key:k.id,class:"review-item"},[s("div",n6,[pe(ee,{to:`/user/${k.user.id}`,class:"review-avatar-link"},{default:Se(()=>[s("img",{src:k.user.avatar||"/avatar.png",alt:k.user.username,class:"review-avatar",onError:m[2]||(m[2]=U=>U.target.src="/avatar.png")},null,40,o6)]),_:2},1032,["to"]),s("div",a6,[pe(ee,{to:`/user/${k.user.id}`,class:"review-author-link"},{default:Se(()=>[s("span",l6,y(k.user.username),1)]),_:2},1032,["to"]),s("span",i6,y(x(k.createdAt)),1)]),s("div",r6,[pe(Ct,{readonly:!0,modelValue:k.score,"tooltip-base":""},null,8,["modelValue"]),s("span",u6,y(k.score)+"/10",1)])]),s("div",c6,y(k.comment),1)]))),128))]),F.value>0?(d(),v("div",d6,[s("div",v6,[s("span",null," "+y(F.value)+" ",1),m[20]||(m[20]=s("span",{class:"divider"},"|",-1)),m[21]||(m[21]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":m[3]||(m[3]=k=>K.value=k),onChange:P,class:"page-size-select"},[...m[19]||(m[19]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1)])],544),[[Ue,K.value]]),m[22]||(m[22]=s("span",null,"",-1))]),F.value>0&&b.value>0?(d(),v("div",f6,[s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[4]||(m[4]=ge(k=>N(1),["stop"])),title:""},"  ",8,p6),s("button",{class:"pagination-btn",disabled:q.value<=1||b.value<=1,onClick:m[5]||(m[5]=ge(k=>N(q.value-1),["stop"])),title:""},"  ",8,g6),s("div",m6,[(d(!0),v(se,null,ve(_.value,(k,U)=>(d(),v(se,{key:`review-page-${U}-${k}`},[typeof k=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:k===q.value}]),onClick:ge(ie=>N(k),["stop"])},y(k),11,h6)):(d(),v("span",y6,y(k),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[6]||(m[6]=ge(k=>N(q.value+1),["stop"])),title:""},"  ",8,_6),s("button",{class:"pagination-btn",disabled:q.value>=b.value||b.value<=1,onClick:m[7]||(m[7]=ge(k=>N(b.value),["stop"])),title:""},"  ",8,b6)])):D("",!0)])):D("",!0)]))])])):D("",!0),c.value&&S.value?(d(),rt(mr,{key:3,isEdit:!0,initialData:S.value,onSubmit:w,onCancel:Q},null,8,["initialData"])):D("",!0)])}}});const w6=Ie($6,[["__scopeId","data-v-7b3bda1f"]]),k6={class:"hot-movies-page"},C6={class:"page-header"},S6={class:"header-content"},x6={key:0,class:"header-stats"},P6={class:"stat-item"},T6={class:"stat-number"},A6={class:"movies-container"},E6={key:0,class:"grid"},I6={key:1,class:"grid"},M6={class:"rank-number"},D6={key:0,class:"rank-icon"},V6={key:0},R6={key:1},U6={key:2},L6={class:"poster-wrapper"},F6={class:"poster-overlay"},O6={key:0,class:"poster-rating"},z6={class:"meta"},N6={class:"movie-title"},j6={class:"movie-year"},q6={key:0,class:"tags"},H6={class:"rating-row"},B6={key:0,class:"rating-text"},K6={key:1,class:"rating-text no-rating"},W6={key:2,class:"empty"},G6={key:3,class:"pagination-container"},Y6={class:"pagination-info"},Q6={key:0,class:"divider"},J6={key:0,class:"pagination"},Z6=["disabled"],X6=["disabled"],ex={class:"page-numbers"},tx=["onClick"],sx={key:1,class:"page-ellipsis"},nx=["disabled"],ox=["disabled"],ax={class:"page-jump"},lx=["max"],ix=Ne({__name:"HotMovies",setup(e){const t=Ut(),n=Pt(),o=I(!1),a=I([]),i=I(0),r=I(1),l=I(10),c=I(1),f=_e(()=>Math.max(1,Math.ceil(i.value/l.value))),p=_e(()=>{const H=[],z=r.value,j=f.value;if(j<=7)for(let S=1;S<=j;S++)H.push(S);else if(z<=4){for(let S=1;S<=5;S++)H.push(S);H.push("..."),H.push(j)}else if(z>=j-3){H.push(1),H.push("...");for(let S=j-4;S<=j;S++)H.push(S)}else{H.push(1),H.push("...");for(let S=z-2;S<=z+2;S++)H.push(S);H.push("..."),H.push(j)}return H});async function u(){o.value=!0;try{const H=await Cv({page:r.value,size:l.value});a.value=H.movies||[],i.value=H.total||0,r.value=H.page||1,l.value=H.size||10,c.value=r.value,n.replace({query:{page:r.value.toString(),size:l.value.toString()}})}catch(H){console.error(":",H),a.value=[],i.value=0}finally{o.value=!1}}function h(H){const z=Math.max(1,Math.min(H,f.value));z!==r.value&&(r.value=z,c.value=z,window.scrollTo({top:0,behavior:"smooth"}),u())}function g(){r.value=1,c.value=1,u()}function M(){const H=Math.max(1,Math.min(c.value,f.value));H!==r.value&&h(H)}function R(){const H=parseInt(t.query.page)||1,z=parseInt(t.query.size)||10;r.value=H,l.value=z,c.value=H}Ye(()=>r.value,H=>{c.value=H});function F(H){return(r.value-1)*l.value+H+1}function q(H){return H===0?"rank-first":H===1?"rank-second":H===2?"rank-third":""}function K(H){return H===0?"rank-badge-gold":H===1?"rank-badge-silver":H===2?"rank-badge-bronze":""}return je(()=>{R(),u()}),(H,z)=>{const j=dt("router-link");return d(),v("div",k6,[s("div",C6,[z[10]||(z[10]=s("div",{class:"header-background"},null,-1)),s("div",S6,[z[7]||(z[7]=s("div",{class:"header-icon"},"",-1)),z[8]||(z[8]=s("h1",{class:"page-title"},"",-1)),z[9]||(z[9]=s("p",{class:"page-subtitle"},"",-1)),!o.value&&i.value>0?(d(),v("div",x6,[s("span",P6,[s("span",T6,y(i.value),1),z[6]||(z[6]=s("span",{class:"stat-label"},"",-1))])])):D("",!0)])]),s("div",A6,[o.value?(d(),v("div",E6,[(d(),v(se,null,ve(12,S=>s("div",{key:S,class:"card skeleton"},[...z[11]||(z[11]=[s("div",{class:"skeleton-poster"},null,-1),s("div",{class:"skeleton-content"},[s("div",{class:"skeleton-title"}),s("div",{class:"skeleton-subtitle"})],-1)])])),64))])):a.value.length?(d(),v("div",I6,[(d(!0),v(se,null,ve(a.value,(S,J)=>(d(),v("article",{key:S.id,class:fe(["card",q(J)]),style:Rt({animationDelay:`${J*.05}s`})},[pe(j,{to:`/movie/${S.id}`,class:"card-link"},{default:Se(()=>[s("div",{class:fe(["rank-badge",K(J)])},[s("span",M6,y(F(J)),1),J<3?(d(),v("div",D6,[J===0?(d(),v("span",V6,"")):J===1?(d(),v("span",R6,"")):J===2?(d(),v("span",U6,"")):D("",!0)])):D("",!0)],2),s("div",L6,[s("div",{class:"poster",style:Rt({backgroundImage:S.poster?`url(${S.poster})`:void 0})},[s("div",F6,[S.rating?(d(),v("div",O6,[z[12]||(z[12]=s("i",{class:"icon-star"},null,-1)),s("span",null,y(S.rating.toFixed(1)),1)])):D("",!0),z[13]||(z[13]=s("div",{class:"poster-play"},[s("i",{class:"icon-play"})],-1))])],4),z[14]||(z[14]=s("div",{class:"poster-shine"},null,-1))]),s("div",z6,[s("h3",N6,y(S.title),1),s("div",j6,y(S.year||"-"),1),S.tags&&S.tags.length>0?(d(),v("div",q6,[(d(!0),v(se,null,ve(S.tags.slice(0,3),(b,_)=>(d(),v("span",{key:b,class:fe(["tag",`tag-${_%6}`])},y(b),3))),128))])):D("",!0),s("div",H6,[pe(Ct,{readonly:!0,modelValue:S.rating||0,"tooltip-base":""},null,8,["modelValue"]),S.rating?(d(),v("span",B6,y(S.rating.toFixed(1))+"/10",1)):(d(),v("span",K6,""))])])]),_:2},1032,["to"])],6))),128))])):(d(),v("div",W6,[...z[15]||(z[15]=[s("div",{class:"empty-icon"},"",-1),s("p",{class:"empty-text"},"",-1),s("p",{class:"empty-hint"},"",-1)])])),!o.value&&a.value.length>0?(d(),v("div",G6,[s("div",Y6,[s("span",null," "+y(i.value)+" ",1),i.value>0?(d(),v("span",Q6,"|")):D("",!0),i.value>0?(d(),v(se,{key:1},[z[17]||(z[17]=s("span",null,"",-1)),Z(s("select",{"onUpdate:modelValue":z[0]||(z[0]=S=>l.value=S),onChange:g,class:"page-size-select"},[...z[16]||(z[16]=[s("option",{value:10},"10",-1),s("option",{value:20},"20",-1),s("option",{value:50},"50",-1),s("option",{value:100},"100",-1)])],544),[[Ue,l.value]]),z[18]||(z[18]=s("span",null,"",-1))],64)):D("",!0)]),i.value>0&&f.value>0?(d(),v("div",J6,[s("button",{class:"pagination-btn",disabled:r.value<=1||f.value<=1,onClick:z[1]||(z[1]=ge(S=>h(1),["stop"])),title:""},"  ",8,Z6),s("button",{class:"pagination-btn",disabled:r.value<=1||f.value<=1,onClick:z[2]||(z[2]=ge(S=>h(r.value-1),["stop"])),title:""},"  ",8,X6),s("div",ex,[(d(!0),v(se,null,ve(p.value,(S,J)=>(d(),v(se,{key:`page-${J}-${S}`},[typeof S=="number"?(d(),v("button",{key:0,class:fe(["pagination-btn page-number",{active:S===r.value}]),onClick:ge(b=>h(S),["stop"])},y(S),11,tx)):(d(),v("span",sx,y(S),1))],64))),128))]),s("button",{class:"pagination-btn",disabled:r.value>=f.value||f.value<=1,onClick:z[3]||(z[3]=ge(S=>h(r.value+1),["stop"])),title:""},"  ",8,nx),s("button",{class:"pagination-btn",disabled:r.value>=f.value||f.value<=1,onClick:z[4]||(z[4]=ge(S=>h(f.value),["stop"])),title:""},"  ",8,ox),s("div",ax,[z[19]||(z[19]=s("span",null,"",-1)),Z(s("input",{type:"number","onUpdate:modelValue":z[5]||(z[5]=S=>c.value=S),min:1,max:f.value,onKeyup:Qe(M,["enter"]),class:"jump-input"},null,40,lx),[[ae,c.value,void 0,{number:!0}]]),z[20]||(z[20]=s("span",null,"",-1)),s("button",{onClick:ge(M,["stop"]),class:"jump-btn"},"")])])):D("",!0)])):D("",!0)])])}}});const rx=Ie(ix,[["__scopeId","data-v-bbb2081c"]]),ux=[{path:"/",name:"Home",component:Kf},{path:"/search",name:"Search",component:y2},{path:"/actors",name:"Actors",component:$k},{path:"/actor/:id",name:"ActorDetail",component:p3,props:!0},{path:"/awards",name:"AwardsList",component:M4},{path:"/award/:id",name:"AwardDetail",component:iC,props:!0},{path:"/movie/:id",name:"MovieDetail",component:A5,props:!0},{path:"/trending",name:"Trending",component:rx},{path:"/tv/:id",name:"TvDetail",component:s8,props:!0},{path:"/variety/:id",name:"VarietyDetail",component:w6,props:!0},{path:"/forum",name:"Forum",component:bl},{path:"/forum/:category",name:"ForumCategory",component:bl,props:!0},{path:"/post/:id",name:"PostDetail",component:rm,props:!0},{path:"/user/:id",name:"UserProfile",component:t1,props:!0},{path:"/user/settings",name:"UserSettings",component:iy},{path:"/login",name:"Login",component:ky},{path:"/register",name:"Register",component:t_},{path:"/test",name:"Test",component:ib},{path:"/login/qq/success",name:"QQLoginSuccess",component:cb}],cx=dv({history:zd(),routes:ux,scrollBehavior(e,t,n){return n||{top:0}}}),dx={class:"notification-container"},vx={class:"notification__content"},fx={class:"notification__icon"},px={key:0,class:"icon-check-circle"},gx={key:1,class:"icon-error-circle"},mx={key:2,class:"icon-warning-circle"},hx={key:3,class:"icon-info-circle"},yx={class:"notification__message"},_x=["onClick"],bx=Ne({__name:"Notification",setup(e){const t=n=>{de.close(n)};return(n,o)=>(d(),v("div",dx,[pe(Nc,{name:"notification",tag:"div"},{default:Se(()=>[(d(!0),v(se,null,ve($e(ps),a=>(d(),v("div",{key:a.id,class:fe(["notification",`notification--${a.type}`,{"notification--visible":a.visible}])},[s("div",vx,[s("div",fx,[a.type==="success"?(d(),v("i",px)):a.type==="error"?(d(),v("i",gx)):a.type==="warning"?(d(),v("i",mx)):(d(),v("i",hx))]),s("div",yx,y(a.message),1)]),a.showClose?(d(),v("button",{key:0,class:"notification__close",onClick:i=>t(a.id),"aria-label":""},[...o[0]||(o[0]=[s("i",{class:"icon-close"},null,-1)])],8,_x)):D("",!0)],2))),128))]),_:1})]))}});const wr=Ie(bx,[["__scopeId","data-v-ea23afcc"]]),$x={class:"confirm-dialog__header"},wx={class:"confirm-dialog__icon"},kx={class:"confirm-dialog__title"},Cx={class:"confirm-dialog__content"},Sx={class:"confirm-dialog__actions"},xx=["disabled"],Px=["disabled"],Tx={key:0,class:"icon-spinner icon-spin"},Ax=Ne({__name:"ConfirmDialog",props:{visible:{type:Boolean},title:{default:""},message:{},confirmText:{default:""},cancelText:{default:""},type:{default:"warning"},isProcessing:{type:Boolean,default:!1}},emits:["confirm","cancel","close"],setup(e,{emit:t}){const n=e,o=t,a=_e(()=>{const c="confirm-dialog__icon-i";switch(n.type){case"danger":return`${c} icon-error-circle`;case"info":return`${c} icon-info-circle`;case"warning":default:return`${c} icon-warning-circle`}}),i=()=>{o("confirm")},r=()=>{o("cancel")},l=()=>{o("cancel")};return(c,f)=>(d(),rt(ai,{to:"body"},[pe(Ni,{name:"confirm-dialog"},{default:Se(()=>[c.visible?(d(),v("div",{key:0,class:"confirm-dialog-overlay",onClick:l},[s("div",{class:"confirm-dialog",onClick:f[0]||(f[0]=ge(()=>{},["stop"]))},[s("div",$x,[s("div",wx,[s("i",{class:fe(a.value)},null,2)]),s("h3",kx,y(c.title),1)]),s("div",Cx,y(c.message),1),s("div",Sx,[s("button",{class:"btn btn-outline confirm-dialog__btn--cancel",onClick:r,disabled:c.isProcessing},y(c.cancelText),9,xx),s("button",{class:"btn btn-primary confirm-dialog__btn--confirm",onClick:i,disabled:c.isProcessing},[c.isProcessing?(d(),v("i",Tx)):D("",!0),oe(" "+y(c.confirmText),1)],8,Px)])])])):D("",!0)]),_:1})]))}});const Ex=Ie(Ax,[["__scopeId","data-v-7a336aed"]]);const Ix={id:"app"},Mx={class:"main-content"},Dx={class:"router-view-wrapper"},Vx={__name:"App",setup(e){const t=Je();return je(async()=>{if(t.isLoggedIn)return;await t.autoLogin()||await t.loadUserFromStorage()}),(n,o)=>{const a=dt("router-view");return d(),v("div",Ix,[pe(vr),s("main",Mx,[s("div",Dx,[pe(a)])]),pe(ab),pe(wr),pe(Ex,{visible:$e(ot).visible,title:$e(ot).title,message:$e(ot).message,"confirm-text":$e(ot).confirmText,"cancel-text":$e(ot).cancelText,type:$e(ot).type,"is-processing":$e(ot).isProcessing,onConfirm:$e(Qs).handleConfirm,onCancel:$e(Qs).handleCancel,onClose:$e(Qs).close},null,8,["visible","title","message","confirm-text","cancel-text","type","is-processing","onConfirm","onCancel","onClose"])])}}};const vn=ed(Vx),Rx=od();vn.component("Notification",wr);vn.config.globalProperties.$notification=de;vn.use(Rx);vn.use(cx);vn.mount("#app");
//# sourceMappingURL=index-88d23e12.js.map
